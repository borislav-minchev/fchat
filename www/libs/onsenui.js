window.CustomEvent||function(){var a;a=function(a,b){var c;return b=b||{bubbles:!1,cancelable:!1,detail:void 0},c=document.createEvent("CustomEvent"),c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c},a.prototype=window.Event.prototype,window.CustomEvent=a}(),"undefined"==typeof WeakMap&&function(){var a=Object.defineProperty,b=Date.now()%1e9,c=function(){this.name="__st"+(1e9*Math.random()>>>0)+b+++"__"};c.prototype={set:function(b,c){var d=b[this.name];return d&&d[0]===b?d[1]=c:a(b,this.name,{value:[b,c],writable:!0}),this},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},delete:function(a){var b=a[this.name];return!(!b||b[0]!==a)&&(b[0]=b[1]=void 0,!0)},has:function(a){var b=a[this.name];return!!b&&b[0]===a}},window.WeakMap=c}(),function(a){function h(a){g.push(a),f||(f=!0,c(j))}function i(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function j(){f=!1;var a=g;g=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();k(a),c.length&&(a.callback_(c,a),b=!0)}),b&&j()}function k(a){a.nodes_.forEach(function(c){var d=b.get(c);d&&d.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function l(a,c){for(var d=a;d;d=d.parentNode){var e=b.get(d);if(e)for(var f=0;f<e.length;f++){var g=e[f],h=g.options;if(d===a||h.subtree){var i=c(h);i&&g.enqueue(i)}}}}function n(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++m}function o(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function p(a){var b=new o(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function s(a,b){return q=new o(a,b)}function t(a){return r||(r=p(q),r.oldValue=a,r)}function u(){q=r=void 0}function v(a){return a===r||a===q}function w(a,b){return a===b?a:r&&v(a)?r:null}function x(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}if(!a.JsMutationObserver){var c,b=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))c=setTimeout;else if(window.setImmediate)c=window.setImmediate;else{var d=[],e=String(Math.random());window.addEventListener("message",function(a){if(a.data===e){var b=d;d=[],b.forEach(function(a){a()})}}),c=function(a){d.push(a),window.postMessage(e,"*")}}var f=!1,g=[],m=0;n.prototype={observe:function(a,c){if(a=i(a),!c.childList&&!c.attributes&&!c.characterData||c.attributeOldValue&&!c.attributes||c.attributeFilter&&c.attributeFilter.length&&!c.attributes||c.characterDataOldValue&&!c.characterData)throw new SyntaxError;var d=b.get(a);d||b.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=c;break}e||(e=new x(this,a,c),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var c=b.get(a),d=0;d<c.length;d++){var e=c[d];if(e.observer===this){e.removeListeners(),c.splice(d,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var q,r;x.prototype={enqueue:function(a){var b=this.observer.records_,c=b.length;if(b.length>0){var d=b[c-1],e=w(d,a);if(e)return void(b[c-1]=e)}else h(this.observer);b[c]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var c=b.get(a);c||b.set(a,c=[]),c.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var c=b.get(a),d=0;d<c.length;d++)if(c[d]===this){c.splice(d,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new s("attributes",d);e.attributeName=b,e.attributeNamespace=c;var f=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;l(d,function(a){if(a.attributes&&(!a.attributeFilter||!a.attributeFilter.length||-1!==a.attributeFilter.indexOf(b)||-1!==a.attributeFilter.indexOf(c)))return a.attributeOldValue?t(f):e});break;case"DOMCharacterDataModified":var d=a.target,e=s("characterData",d),f=a.prevValue;l(d,function(a){if(a.characterData)return a.characterDataOldValue?t(f):e});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,g=a.target;"DOMNodeInserted"===a.type?(h=[g],i=[]):(h=[],i=[g]);var j=g.previousSibling,k=g.nextSibling,e=s("childList",a.target.parentNode);e.addedNodes=h,e.removedNodes=i,e.previousSibling=j,e.nextSibling=k,l(a.relatedNode,function(a){if(a.childList)return e})}u()}},a.JsMutationObserver=n,a.MutationObserver||(a.MutationObserver=n,n._isPolyfilled=!0)}}(self),function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var a=document.createElement("_");if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var b=function(a){var b=DOMTokenList.prototype[a];DOMTokenList.prototype[a]=function(a){var c,d=arguments.length;for(c=0;c<d;c++)a=arguments[c],b.call(this,a)}};b("add"),b("remove")}if(a.classList.toggle("c3",!1),a.classList.contains("c3")){var c=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:c.call(this,a)}}a=null}():function(a){"use strict";if("Element"in a){var b="classList",c="prototype",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute("class")||""),c=b?b.split(/\s+/):[],d=0,e=c.length;d<e;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",-1!==i(this,a)},k.add=function(){var d,a=arguments,b=0,c=a.length,e=!1;do{d=a[b]+"",-1===i(this,d)&&(this.push(d),e=!0)}while(++b<c);e&&this._updateClassName()},k.remove=function(){var d,f,a=arguments,b=0,c=a.length,e=!1;do{for(d=a[b]+"",f=i(this,d);-1!==f;)this.splice(f,1),e=!0,f=i(this,d)}while(++b<c);e&&this._updateClassName()},k.toggle=function(a,b){a+="";var c=this.contains(a),d=c?!0!==b&&"remove":!1!==b&&"add";return d&&this[d](a),!0===b||!1===b?b:!c},k.toString=function(){return this.join(" ")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(a){-2146823252===a.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(self)),"customElements"in window&&(window.customElements.define=void 0),function(a){"use strict";function Ga(){var a=ta.splice(0,ta.length);for(ua=0;a.length;)a.shift().call(null,a.shift())}function Ha(a,b){for(var c=0,d=a.length;c<d;c++)Ta(a[c],b)}function Ia(a){for(var d,b=0,c=a.length;b<c;b++)d=a[b],Fa(d,C[Ka(d)])}function Ja(a){return function(b){ga(b)&&(Ta(b,a),Ha(b.querySelectorAll(D),a))}}function Ka(a){var b=la.call(a,"is"),c=a.nodeName.toUpperCase(),d=F.call(B,b?y+b.toUpperCase():x+c);return b&&-1<d&&!La(c,b)?-1:d}function La(a,b){return-1<D.indexOf(a+'[is="'+b+'"]')}function Ma(a){var b=a.currentTarget,c=a.attrChange,d=a.attrName,e=a.target,f=a[r]||2,g=a[t]||3;!ya||e&&e!==b||!b[l]||"style"===d||a.prevValue===a.newValue&&(""!==a.newValue||c!==f&&c!==g)||b[l](d,c===f?null:a.prevValue,c===g?null:a.newValue)}function Na(a){var b=Ja(a);return function(a){ta.push(b,a.target),ua&&clearTimeout(ua),ua=setTimeout(Ga,1)}}function Oa(a){xa&&(xa=!1,a.currentTarget.removeEventListener(v,Oa)),Ha((a.target||b).querySelectorAll(D),a.detail===j?j:h),ea&&Ra()}function Pa(a,b){var c=this;oa.call(c,a,b),za.call(c,{target:c})}function Qa(a,b){ba(a,b),Ca?Ca.observe(a,ra):(wa&&(a.setAttribute=Pa,a[f]=Ba(a),a[g](w,za)),a[g](u,Ma)),a[p]&&ya&&(a.created=!0,a[p](),a.created=!1)}function Ra(){for(var a,b=0,c=ha.length;b<c;b++)a=ha[b],E.contains(a)||(c--,ha.splice(b--,1),Ta(a,j))}function Sa(a){throw new Error("A "+a+" type is already registered")}function Ta(a,b){var c,d=Ka(a);-1<d&&(Ea(a,C[d]),d=0,b!==h||a[h]?b!==j||a[j]||(a[h]=!1,a[j]=!0,d=1):(a[j]=!1,a[h]=!0,d=1,ea&&F.call(ha,a)<0&&ha.push(a)),d&&(c=a[b+i])&&c.call(a))}function Ua(){}function Va(a,c,d){var f=d&&d[k]||"",g=c.prototype,h=aa(g),i=c.observedAttributes||K,j={prototype:h};fa(h,p,{value:function(){if(X)X=!1;else if(!this[R]){this[R]=!0,new c(this),g[p]&&g[p].call(this);var a=Y[$.get(c)];(!T||a.create.length>1)&&Ya(this)}}}),fa(h,l,{value:function(a){-1<F.call(i,a)&&g[l].apply(this,arguments)}}),g[n]&&fa(h,m,{value:g[n]}),g[o]&&fa(h,q,{value:g[o]}),f&&(j[k]=f),a=a.toUpperCase(),Y[a]={constructor:c,create:f?[f,_(a)]:[a]},$.set(c,a),b[e](a.toLowerCase(),j),Za(a),Z[a].r()}function Wa(a){var b=Y[a.toUpperCase()];return b&&b.constructor}function Xa(a){return"string"==typeof a?a:a&&a.is||""}function Ya(a){for(var e,b=a[l],c=b?a.attributes:K,d=c.length;d--;)e=c[d],b.call(a,e.name||e.nodeName,null,e.value||e.nodeValue)}function Za(a){return a=a.toUpperCase(),a in Z||(Z[a]={},Z[a].p=new W(function(b){Z[a].r=b})),Z[a].p}function $a(){S&&delete a.customElements,J(a,"customElements",{configurable:!0,value:new Ua}),J(a,"CustomElementRegistry",{configurable:!0,value:Ua});for(var c=function(c){var d=a[c];if(d){a[c]=function(c){var e,f;return c||(c=this),c[R]||(X=!0,e=Y[$.get(c.constructor)],f=T&&1===e.create.length,c=f?Reflect.construct(d,K,e.constructor):b.createElement.apply(b,e.create),c[R]=!0,X=!1,f||Ya(c)),c},a[c].prototype=d.prototype;try{d.prototype.constructor=a[c]}catch(b){Q=!0,J(d,R,{value:a[c]})}}},e=d.get(/^HTML[A-Z]*[a-z]/),f=e.length;f--;c(e[f]));b.createElement=function(a,b){var c=Xa(b);return c?qa.call(this,a,_(c)):qa.call(this,a)}}var ta,za,Aa,Ba,Ca,Da,Ea,Fa,b=a.document,c=a.Object,d=function(a){var h,i,j,k,b=/^[A-Z]+[a-z]/,d=function(a){var c,b=[];for(c in f)a.test(c)&&b.push(c);return b},e=function(a,b){(b=b.toLowerCase())in f||(f[a]=(f[a]||[]).concat(b),f[b]=f[b.toUpperCase()]=a)},f=(c.create||c)(null),g={};for(i in a)for(k in a[i])for(j=a[i][k],f[k]=j,h=0;h<j.length;h++)f[j[h].toLowerCase()]=f[j[h].toUpperCase()]=k;return g.get=function(c){return"string"==typeof c?f[c]||(b.test(c)?[]:""):d(c)},g.set=function(c,d){return b.test(c)?e(c,d):e(d,c),g},g}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}}),e="registerElement",f="__"+e+(1e5*a.Math.random()>>0),g="addEventListener",h="attached",i="Callback",j="detached",k="extends",l="attributeChanged"+i,m=h+i,n="connected"+i,o="disconnected"+i,p="created"+i,q=j+i,r="ADDITION",s="MODIFICATION",t="REMOVAL",u="DOMAttrModified",v="DOMContentLoaded",w="DOMSubtreeModified",x="<",y="=",z=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,A=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],B=[],C=[],D="",E=b.documentElement,F=B.indexOf||function(a){for(var b=this.length;b--&&this[b]!==a;);return b},G=c.prototype,H=G.hasOwnProperty,I=G.isPrototypeOf,J=c.defineProperty,K=[],L=c.getOwnPropertyDescriptor,M=c.getOwnPropertyNames,N=c.getPrototypeOf,O=c.setPrototypeOf,P=!!c.__proto__,Q=!1,R="__dreCEv1",S=a.customElements,T=!!(S&&S.define&&S.get&&S.whenDefined),U=c.create||c,V=a.Map||function(){var d,b=[],c=[];return{get:function(a){return c[F.call(b,a)]},set:function(a,e){d=F.call(b,a),d<0?c[b.push(a)-1]=e:c[d]=e}}},W=a.Promise||function(a){function e(a){for(c=!0;b.length;)b.shift()(a)}var b=[],c=!1,d={catch:function(){return d},then:function(a){return b.push(a),c&&setTimeout(e,1),d}};return a(e),d},X=!1,Y=U(null),Z=U(null),$=new V,_=String,aa=c.create||function a(b){return b?(a.prototype=b,new a):this},ba=O||(P?function(a,b){return a.__proto__=b,a}:M&&L?function(){function a(a,b){for(var c,d=M(b),e=0,f=d.length;e<f;e++)c=d[e],H.call(a,c)||J(a,c,L(b,c))}return function(b,c){do{a(b,c)}while((c=N(c))&&!I.call(c,b));return b}}():function(a,b){for(var c in b)a[c]=b[c];return a}),ca=a.MutationObserver||a.WebKitMutationObserver,da=(a.HTMLElement||a.Element||a.Node).prototype,ea=!I.call(da,E),fa=ea?function(a,b,c){return a[b]=c.value,a}:J,ga=ea?function(a){return 1===a.nodeType}:function(a){return I.call(da,a)},ha=ea&&[],ia=da.attachShadow,ja=da.cloneNode,ka=da.dispatchEvent,la=da.getAttribute,ma=da.hasAttribute,na=da.removeAttribute,oa=da.setAttribute,pa=b.createElement,qa=pa,ra=ca&&{attributes:!0,characterData:!0,attributeOldValue:!0},sa=ca||function(a){wa=!1,E.removeEventListener(u,sa)},ua=0,va=!1,wa=!0,xa=!0,ya=!0;if(e in b||(O||P?(Ea=function(a,b){I.call(b,a)||Qa(a,b)},Fa=Qa):(Ea=function(a,b){a[f]||(a[f]=c(!0),Qa(a,b))},Fa=Ea),ea?(wa=!1,function(){var a=L(da,g),b=a.value,c=function(a){var b=new CustomEvent(u,{bubbles:!0});b.attrName=a,b.prevValue=la.call(this,a),b.newValue=null,b[t]=b.attrChange=2,na.call(this,a),ka.call(this,b)},d=function(a,b){var c=ma.call(this,a),d=c&&la.call(this,a),e=new CustomEvent(u,{bubbles:!0});oa.call(this,a,b),e.attrName=a,e.prevValue=c?d:null,e.newValue=b,c?e[s]=e.attrChange=1:e[r]=e.attrChange=0,ka.call(this,e)},e=function(a){var e,b=a.currentTarget,c=b[f],d=a.propertyName;c.hasOwnProperty(d)&&(c=c[d],e=new CustomEvent(u,{bubbles:!0}),e.attrName=c.name,e.prevValue=c.value||null,e.newValue=c.value=b[d]||null,null==e.prevValue?e[r]=e.attrChange=0:e[s]=e.attrChange=1,ka.call(b,e))};a.value=function(a,g,h){a===u&&this[l]&&this.setAttribute!==d&&(this[f]={className:{name:"class",value:this.className}},this.setAttribute=d,this.removeAttribute=c,b.call(this,"propertychange",e)),b.call(this,a,g,h)},J(da,g,a)}()):ca||(E[g](u,sa),E.setAttribute(f,1),E.removeAttribute(f),wa&&(za=function(a){var c,d,e,b=this;if(b===a.target){c=b[f],b[f]=d=Ba(b);for(e in d){if(!(e in c))return Aa(0,b,e,c[e],d[e],r);if(d[e]!==c[e])return Aa(1,b,e,c[e],d[e],s)}for(e in c)if(!(e in d))return Aa(2,b,e,c[e],d[e],t)}},Aa=function(a,b,c,d,e,f){var g={attrChange:a,currentTarget:b,attrName:c,prevValue:d,newValue:e};g[f]=a,Ma(g)},Ba=function(a){for(var b,c,d={},e=a.attributes,f=0,g=e.length;f<g;f++)b=e[f],"setAttribute"!==(c=b.name)&&(d[c]=b.value);return d})),b[e]=function(c,d){if(n=c.toUpperCase(),va||(va=!0,ca?(Ca=function(a,b){function c(a,b){for(var c=0,d=a.length;c<d;b(a[c++]));}return new ca(function(d){for(var e,f,g,h=0,i=d.length;h<i;h++)e=d[h],"childList"===e.type?(c(e.addedNodes,a),c(e.removedNodes,b)):(f=e.target,ya&&f[l]&&"style"!==e.attributeName&&(g=la.call(f,e.attributeName))!==e.oldValue&&f[l](e.attributeName,e.oldValue,g))})}(Ja(h),Ja(j)),Da=function(a){return Ca.observe(a,{childList:!0,subtree:!0}),a},Da(b),ia&&(da.attachShadow=function(){return Da(ia.apply(this,arguments))})):(ta=[],b[g]("DOMNodeInserted",Na(h)),b[g]("DOMNodeRemoved",Na(j))),b[g](v,Oa),b[g]("readystatechange",Oa),da.cloneNode=function(a){var b=ja.call(this,!!a),c=Ka(b);return-1<c&&Fa(b,C[c]),a&&Ia(b.querySelectorAll(D)),b}),-2<F.call(B,y+n)+F.call(B,x+n)&&Sa(c),!z.test(n)||-1<F.call(A,n))throw new Error("The type "+c+" is invalid");var n,o,e=function(){return i?b.createElement(m,n):b.createElement(m)},f=d||G,i=H.call(f,k),m=i?d[k].toUpperCase():n;return i&&-1<F.call(B,x+m)&&Sa(m),o=B.push((i?y:x)+n)-1,D=D.concat(D.length?",":"",i?m+'[is="'+c.toLowerCase()+'"]':m),e.prototype=C[o]=H.call(f,"prototype")?f.prototype:aa(da),Ha(b.querySelectorAll(D),h),e},b.createElement=qa=function(a,c){var d=Xa(c),e=d?pa.call(b,a,_(d)):pa.call(b,a),f=""+a,g=F.call(B,(d?y:x)+(d||f).toUpperCase()),h=-1<g;return d&&(e.setAttribute("is",d=d.toLowerCase()),h&&(h=La(f.toUpperCase(),d))),ya=!b.createElement.innerHTMLHelper,h&&Fa(e,C[g]),e}),Ua.prototype={constructor:Ua,define:T?function(a,b,c){if(c)Va(a,b,c);else{var d=a.toUpperCase();Y[d]={constructor:b,create:[d]},$.set(b,d),S.define(a,b)}}:Va,get:T?function(a){return S.get(a)||Wa(a)}:Wa,whenDefined:T?function(a){return W.race([S.whenDefined(a),Za(a)])}:Za},S)try{!function(c,d,e){if(d[k]="a",c.prototype=aa(HTMLAnchorElement.prototype),c.prototype.constructor=c,a.customElements.define(e,c,d),la.call(b.createElement("a",{is:e}),"is")!==e||T&&la.call(new c,"is")!==e)throw d}(function a(){return Reflect.construct(HTMLAnchorElement,[],a)},{},"document-register-element-a")}catch(a){$a()}else $a();try{pa.call(b,"a","a")}catch(a){_=function(a){return{is:a}}}}(window),function(){"use strict";function a(b,d){function f(a,b){return function(){return a.apply(b,arguments)}}var e;if(d=d||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=d.touchBoundary||10,this.layer=b,this.tapDelay=d.tapDelay||200,this.tapTimeout=d.tapTimeout||700,!a.notNeeded(b)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;i<j;i++)h[g[i]]=f(h[g[i]],h);c&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0)),b.addEventListener("click",this.onClick,!0),b.addEventListener("touchstart",this.onTouchStart,!1),b.addEventListener("touchmove",this.onTouchMove,!1),b.addEventListener("touchend",this.onTouchEnd,!1),b.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(a,c,d){var e=Node.prototype.removeEventListener;"click"===a?e.call(b,a,c.hijacked||c,d):e.call(b,a,c,d)},b.addEventListener=function(a,c,d){var e=Node.prototype.addEventListener;"click"===a?e.call(b,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(b,a,c,d)}),"function"==typeof b.onclick&&(e=b.onclick,b.addEventListener("click",function(a){e(a)},!1),b.onclick=null)}}var b=navigator.userAgent.indexOf("Windows Phone")>=0,c=navigator.userAgent.indexOf("Android")>0&&!b,d=/iP(ad|hone|od)/.test(navigator.userAgent)&&!b,e=d&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=d&&/OS [6-7]_\d/.test(navigator.userAgent),g=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(d&&"file"===a.type||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},a.prototype.determineEventType=function(a){return c&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(a){var b;d&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},a.prototype.updateScrollParent=function(a){var b,c;if(!(b=a.fastClickScrollParent)||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){var b,c,f;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],b.isContentEditable)return!0;if(d){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!e){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.timeStamp-this.lastClickTime>-1&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c},a.prototype.onTouchMove=function(a){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0)},a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){var b,g,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay&&a.timeStamp-this.lastClickTime>-1)return this.cancelNextClick=!0,!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,g=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(h=k.tagName.toLowerCase())){if(b=this.findControl(k)){if(this.focus(k),c)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-g>100||d&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),d&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return!(!d||e||!(i=k.fastClickScrollParent)||i.fastClickLastScrollTop===i.scrollTop)||(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){return!this.targetElement||(!!a.forwardedTouchEvent||(!a.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1))))},a.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail||(b=this.onMouse(a),b||(this.targetElement=null),b)},a.prototype.destroy=function(){var a=this.layer;c&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){var b,d,e;if(void 0===window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(d>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(g&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction||"manipulation"===a.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(b=document.querySelector("meta[name=viewport]"))&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===a.style.touchAction||"manipulation"===a.style.touchAction))},a.attach=function(b,c){return new a(b,c)},window.FastClick=a}();var innerHTML=function(a){var g,h,b="extends",c=a.registerElement,d=a.createElement("div"),e="document-register-element",f=c.innerHTML;if(f)return f;try{if(c.call(a,e,{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:Object}})}),d.innerHTML="<"+e+"></"+e+">","createdCallback"in d.querySelector(e))return c.innerHTML=function(a,b){return a.innerHTML=b,a}}catch(a){}return h=[],g=function(b){if(!("createdCallback"in b||"attachedCallback"in b||"detachedCallback"in b||"attributeChangedCallback"in b)){a.createElement.innerHTMLHelper=!0;for(var j,k,c=b.parentNode,d=b.getAttribute("is"),e=b.nodeName,f=a.createElement.apply(a,d?[e,d]:[e]),g=b.attributes,h=0,i=g.length;h<i;h++)j=g[h],f.setAttribute(j.name,j.value);for(f.createdCallback&&(f.created=!0,f.createdCallback(),f.created=!1);k=b.firstChild;)f.appendChild(k);a.createElement.innerHTMLHelper=!1,c&&c.replaceChild(f,b)}},(a.registerElement=function(e,f){var g=(f[b]?f[b]+'[is="'+e+'"]':e).toLowerCase();return h.indexOf(g)<0&&h.push(g),c.apply(a,arguments)}).innerHTML=function(a,b){a.innerHTML=b;for(var c=a.querySelectorAll(h.join(",")),d=c.length;d--;g(c[d]));return a}}(document),MicroEvent=function(){};MicroEvent.prototype={on:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},once:function(a,b){var c=this,d=function(){return c.off(a,d),b.apply(null,arguments)};this.on(a,d)},off:function(a,b){this._events=this._events||{},a in this._events!=!1&&(this._events[a]=this._events[a].filter(function(a){return!!b&&b!==a}))},emit:function(a){if(this._events=this._events||{},a in this._events!=!1)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},MicroEvent.mixin=function(a){for(var b=["on","once","off","emit"],c=0;c<b.length;c++)"function"==typeof a?a.prototype[b[c]]=MicroEvent.prototype[b[c]]:a[b[c]]=MicroEvent.prototype[b[c]]},"undefined"!=typeof module&&"exports"in module&&(module.exports=MicroEvent),window.MicroEvent=MicroEvent,function(a){function c(){}function d(a,b){return function(){a.apply(b,arguments)}}function e(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(a,this)}function f(a,b){for(;3===a._state;)a=a._value;if(0===a._state)return void a._deferreds.push(b);a._handled=!0,e._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?g:h)(b.promise,a._value);var d;try{d=c(a._value)}catch(a){return void h(b.promise,a)}g(b.promise,d)})}function g(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof e)return a._state=3,a._value=b,void i(a);if("function"==typeof c)return void k(d(c,b),a)}a._state=1,a._value=b,i(a)}catch(b){h(a,b)}}function h(a,b){a._state=2,a._value=b,i(a)}function i(a){2===a._state&&0===a._deferreds.length&&e._immediateFn(function(){a._handled||e._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)f(a,a._deferreds[b]);a._deferreds=null}function j(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function k(a,b){var c=!1;try{a(function(a){c||(c=!0,g(b,a))},function(a){c||(c=!0,h(b,a))})}catch(a){if(c)return;c=!0,h(b,a)}}var b=setTimeout;e.prototype.catch=function(a){return this.then(null,a)},e.prototype.then=function(a,b){var d=new this.constructor(c);return f(this,new j(a,b,d)),d},e.all=function(a){var b=Array.prototype.slice.call(a);return new e(function(a,c){function e(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){e(f,a)},c)}b[f]=g,0==--d&&a(b)}catch(a){c(a)}}if(0===b.length)return a([]);for(var d=b.length,f=0;f<b.length;f++)e(f,b[f])})},e.resolve=function(a){return a&&"object"==typeof a&&a.constructor===e?a:new e(function(b){b(a)})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},e._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){b(a,0)},e._unhandledRejectionFn=function(b){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",b)},e._setImmediateFn=function(b){e._immediateFn=b},e._setUnhandledRejectionFn=function(b){e._unhandledRejectionFn=b},window.Promise||(window.Promise=e)}(),function(a,b){"use strict";function h(a){return d[c]=i.apply(b,a),c++}function i(a){var c=[].slice.call(arguments,1);return function(){"function"==typeof a?a.apply(b,c):new Function(""+a)()}}function j(a){if(e)setTimeout(i(j,a),0);else{var b=d[a];if(b){e=!0;try{b()}finally{k(a),e=!1}}}}function k(a){delete d[a]}function l(){g=function(){var a=h(arguments);return process.nextTick(i(j,a)),a}}function m(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}function n(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&j(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c),g=function(){var c=h(arguments);return a.postMessage(b+c,"*"),c}}function o(){var a=new MessageChannel;a.port1.onmessage=function(a){j(a.data)},g=function(){var b=h(arguments);return a.port2.postMessage(b),b}}function p(){var a=f.documentElement;g=function(){var b=h(arguments),c=f.createElement("script");return c.onreadystatechange=function(){j(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c),b}}function q(){g=function(){var a=h(arguments);return setTimeout(i(j,a),0),a}}if(!a.setImmediate){var g,c=1,d={},e=!1,f=a.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(a);r=r&&r.setTimeout?r:a,"[object process]"==={}.toString.call(a.process)?l():m()?n():a.MessageChannel?o():f&&"onreadystatechange"in f.createElement("script")?p():q(),r.setImmediate=g,r.clearImmediate=k}}(function(){return this}()),function(){function a(){return this.PRE_IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.DEFAULT_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.ensureViewportElement(),this.platform={},this.platform.name=this.getPlatformName(),this.platform.version=this.getPlatformVersion(),this}a.prototype.ensureViewportElement=function(){this.viewportElement=document.querySelector("meta[name=viewport]"),this.viewportElement||(this.viewportElement=document.createElement("meta"),this.viewportElement.name="viewport",document.head.appendChild(this.viewportElement))},a.prototype.setup=function(){function a(){return!!(window.cordova||window.phonegap||window.PhoneGap)}this.viewportElement&&"true"!=this.viewportElement.getAttribute("data-no-adjust")&&(this.viewportElement.getAttribute("content")||("ios"==this.platform.name?this.platform.version>=7&&a()?this.viewportElement.setAttribute("content",this.IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.PRE_IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.DEFAULT_VIEWPORT)))},a.prototype.getPlatformName=function(){return navigator.userAgent.match(/Android/i)?"android":navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":void 0},a.prototype.getPlatformVersion=function(){var a=window.navigator.userAgent.indexOf("OS ");return window.Number(window.navigator.userAgent.substr(a+3,3).replace("_","."))},window.Viewport=a}(),function(){function g(a){return d.call(a)}function h(b,c,d){try{a.call(b,c,d)}catch(a){}}function i(a,c){b.call(a,c)}function j(a){return e.call(a)}function k(a){for(;a.childNodes.length;)a.removeChild(a.lastChild)}function l(a,b,d){c.value.call(a,b,d)}function m(){var a=!0;try{f.innerHTML="<test/>"}catch(b){a=!1}return a}function n(a,b){function e(a){var b=g(a);if(b&&b.length){for(var c,d=0,f=b.length;d<f;d++){var k=b[d],l=k.name;"o"!==l[0]&&"O"!==l[0]||"n"!==l[1]&&"N"!==l[1]||(c=c||[],c.push({name:k.name,value:k.value}))}if(c)for(var d=0,f=c.length;d<f;d++){var k=c[d];i(a,k.name),h(a,"x-"+k.name,k.value)}}for(var m=j(a),d=0,f=m.length;d<f;d++)e(m[d])}var c=document.implementation.createHTMLDocument("cleaner");k(c.documentElement),MSApp.execUnsafeLocalFunction(function(){l(c.documentElement,"afterbegin",a)});var d=c.documentElement.querySelectorAll("script");Array.prototype.forEach.call(d,function(a){switch(a.type.toLowerCase()){case"":a.type="text/inert";break;case"text/javascript":case"text/ecmascript":case"text/x-javascript":case"text/jscript":case"text/livescript":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":a.type="text/inert-"+a.type.slice("text/".length);break;case"application/javascript":case"application/ecmascript":case"application/x-javascript":a.type="application/inert-"+a.type.slice("application/".length)}}),e(c.documentElement);var f=[];return"HTML"===b.tagName?f=Array.prototype.slice.call(document.adoptNode(c.documentElement).childNodes):(c.head&&(f=f.concat(Array.prototype.slice.call(document.adoptNode(c.head).childNodes))),c.body&&(f=f.concat(Array.prototype.slice.call(document.adoptNode(c.body).childNodes)))),f}function o(a,b){var c=Object.getOwnPropertyDescriptor(HTMLElement.prototype,a),d=c.set;Object.defineProperty(HTMLElement.prototype,a,{get:c.get,set:function(a){if(window.WinJS&&window.WinJS._execUnsafe&&m())d.call(this,a);else{var e=this,f=n(a,e);MSApp.execUnsafeLocalFunction(function(){b(c,e,f)})}},enumerable:c.enumerable,configurable:c.configurable})}if(window.MSApp&&MSApp.execUnsafeLocalFunction){var a=Object.getOwnPropertyDescriptor(Element.prototype,"setAttribute").value,b=Object.getOwnPropertyDescriptor(Element.prototype,"removeAttribute").value,c=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"insertAdjacentHTML"),d=Object.getOwnPropertyDescriptor(Node.prototype,"attributes").get,e=Object.getOwnPropertyDescriptor(Node.prototype,"childNodes").get,f=document.createElement("div");o("innerHTML",function(a,b,c){k(b);for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])}),o("outerHTML",function(a,b,c){for(var d=0,e=c.length;d<e;d++)b.insertAdjacentElement("afterend",c[d]);b.parentNode.removeChild(b)})}}(),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.ons=b()}(this,function(){"use strict";function P(){B.READY||(x.determineEventTypes(),y.each(B.gestures,function(a){z.register(a)}),x.onTouch(B.DOCUMENT,L,z.detect),x.onTouch(B.DOCUMENT,M,z.detect),B.READY=!0)}function U(a){return a.childNodes.length>0&&V(a),S.has(a)}function V(a){S.set(a,!0)}function W(a,b){T.has(a)||T.set(a,[]),T.get(a).push(b)}function X(a){var b=T.get(a,[])||[];T.delete(a),b.forEach(function(a){return a()})}function Y(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(W(a,b),U(a))return void X(a);new MutationObserver(function(b){V(a),X(a)}).observe(a,{childList:!0,characterData:!0}),setImmediate(function(){V(a),X(a)})}function ya(a,b){var c=a.page,d=a.parent;a.params;aa.getPageHTMLAsync(c).then(function(a){var c=t.createElement(a.trim());d.appendChild(c),b(c)})}function za(a){a._destroy instanceof Function?a._destroy():a.remove()}function Fa(){var a=Ea._readyLock.lock();window.addEventListener("DOMContentLoaded",function(){Ea.isWebView()?window.document.addEventListener("deviceready",a,!1):a()},!1)}function Ga(){if("function"!=typeof HTMLElement){var a=function(){};return a.prototype=document.createElement("div"),a}return HTMLElement}var a=function(b){return b.slice(1,-1)},b=function(b){return b.startsWith("{")&&b.endsWith("}")},c=function(b){return b.startsWith("[")&&b.endsWith("]")},d=function(b){return b.startsWith("'")&&b.endsWith("'")||b.startsWith('"')&&b.endsWith('"')},e=function(b,c,d){throw new Error("Unexpected token '"+b+"' at position "+(d.length-c.length-1)+" in string: '"+d+"'")},f=function(g,j,k){return"true"===g||"false"===g?"true"===g:d(g)?a(g):isNaN(g)?b(g)?h(a(g)):c(g)?i(a(g)):void e(g,j,k):+g},g=function(b){b=b.trimLeft();var c=b.length;if(":"===b[0]||","===b[0])c=1;else if("{"===b[0]||"["===b[0]){for(var d=b.charCodeAt(0),e=1,f=1;f<b.length;f++)if(b.charCodeAt(f)===d)e++;else if(b.charCodeAt(f)===d+2&&0===--e){c=f+1;break}}else if("'"===b[0]||'"'===b[0]){for(var g=1;g<b.length;g++)if(b[g]===b[0]){c=g+1;break}}else for(var h=1;h<b.length;h++)if(-1!==[" ",",",":"].indexOf(b[h])){c=h;break}return b.slice(0,c)},h=function(b){var c=function(b){return/^[A-Z_\$][A-Z0-9_\$]*$/i.test(b)};b=b.trim();for(var d=b,h={},i=!0,j=void 0,k=void 0,l=void 0;b.length>0;)if(k=l,l=g(b),b=b.slice(l.length,b.length).trimLeft(),":"===l&&(!i||!k||","===k)||","===l&&i||":"!==l&&","!==l&&k&&","!==k&&":"!==k)e(l,b,d);else if(":"===l&&i&&k){if(!c(k))throw new Error("Invalid key token '"+k+"' at position 0 in string: '"+d+"'");j=k,i=!1}else","===l&&!i&&k&&(h[j]=f(k,b,d),i=!0);return l&&(h[j]=f(l,b,d)),h},i=function(b){b=b.trim();for(var c=b,d=[],h=void 0,i=void 0;b.length>0;)h=i,i=g(b),b=b.slice(i.length,b.length).trimLeft(),","!==i||h&&","!==h?","===i&&d.push(f(h,b,c)):e(i,b,c);return i&&(","!==i?d.push(f(i,b,c)):e(i,b,c)),d},j=function(e){if(e=e.trim(),b(e))return h(a(e));if(c(e))return i(a(e));throw new Error("Provided string must be object or array like: "+e)},k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},m=(function(){function a(a){this.value=a}function b(b){function e(a,b){return new Promise(function(e,g){var h={key:a,arg:b,resolve:e,reject:g,next:null};d?d=d.next=h:(c=d=h,f(a,b))})}function f(c,d){try{var e=b[c](d),h=e.value;h instanceof a?Promise.resolve(h.value).then(function(a){f("next",a)},function(a){f("throw",a)}):g(e.done?"return":"normal",e.value)}catch(a){g("throw",a)}}function g(a,b){switch(a){case"return":c.resolve({value:b,done:!0});break;case"throw":c.reject(b);break;default:c.resolve({value:b,done:!1})}c=c.next,c?f(c.key,c.arg):d=null}var c,d;this._invoke=e,"function"!=typeof b.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(b.prototype[Symbol.asyncIterator]=function(){return this}),b.prototype.next=function(a){return this._invoke("next",a)},b.prototype.throw=function(a){return this._invoke("throw",a)},b.prototype.return=function(a){return this._invoke("return",a)}}(),function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}),n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},q=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},r=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},t={};t.prepareQuery=function(a){return a instanceof Function?a:function(b){return t.match(b,a)}},t.match=function(a,b){return"."===b[0]?a.classList.contains(b.slice(1)):a.nodeName.toLowerCase()===b},t.findChild=function(a,b){for(var c=t.prepareQuery(b),d=0;d<a.children.length;d++){var e=a.children[d];if(c(e))return e}return null},t.findParent=function(a,b){for(var c=t.prepareQuery(b),d=a.parentNode;;){if(!d||d===document)return null;if(c(d))return d;d=d.parentNode}},t.isAttached=function(a){for(;document.documentElement!==a;){if(!a)return!1;a=a.parentNode}return!0},t.hasAnyComponentAsParent=function(a){for(;a&&document.documentElement!==a;)if((a=a.parentNode)&&a.nodeName.toLowerCase().match(/(ons-navigator|ons-tabbar|ons-modal|ons-sliding-menu|ons-split-view)/))return!0;return!1},t.propagateAction=function(a,b){for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];d[b]instanceof Function?d[b]():t.propagateAction(d,b)}},t.create=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=a.split("."),d=document.createElement(c.shift()||"div");return c.length&&(d.className=c.join(" ")),t.extend(d.style,b),d},t.createElement=function(a){var b=document.createElement("div");if(innerHTML(b,a),b.children.length>1)throw new Error('"html" must be one wrapper element.');return b.children[0]},t.createFragment=function(a){var b=document.createElement("div");innerHTML(b,a);for(var c=document.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);return c},t.extend=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];for(var e=0;e<c.length;e++)if(c[e])for(var f=Object.keys(c[e]),g=0;g<f.length;g++){var h=f[g];a[h]=c[e][h]}return a},t.arrayFrom=function(a){return Array.prototype.slice.apply(a)},t.parseJSONObjectSafely=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var c=JSON.parse(""+a);if("object"===(void 0===c?"undefined":k(c))&&null!==c)return c}catch(a){return b}return b},t.findFromPath=function(a){a=a.split(".");for(var c,b=window;c=a.shift();)b=b[c];return b},t.triggerElementEvent=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=new CustomEvent(b,{bubbles:!0,cancelable:!0,detail:c});return Object.keys(c).forEach(function(a){d[a]=c[a]}),a.dispatchEvent(d),d},t.hasModifier=function(a,b){return!!a.hasAttribute("modifier")&&a.getAttribute("modifier").split(/\s+/).some(function(a){return a===b})},t.addModifier=function(a,b){if(t.hasModifier(a,b))return!1;b=b.trim();var c=a.getAttribute("modifier")||"";return a.setAttribute("modifier",(c+" "+b).trim()),!0},t.removeModifier=function(a,b){if(!a.getAttribute("modifier"))return!1;var c=a.getAttribute("modifier").split(/\s+/),d=c.filter(function(a){return a&&a!==b});return a.setAttribute("modifier",d.join(" ")),c.length!==d.length},t.updateParentPosition=function(a){!a._parentUpdated&&a.parentElement&&("static"===window.getComputedStyle(a.parentElement).getPropertyValue("position")&&(a.parentElement.style.position="relative"),a._parentUpdated=!0)},t.toggleAttribute=function(a,b,c){c?a.setAttribute(b,""):a.removeAttribute(b)},t.bindListeners=function(a,b){b.forEach(function(b){var c=b.replace(/^_[a-z]/,"_bound"+b[1].toUpperCase());a[c]=a[c]||a[b].bind(a)})},t.each=function(a,b){return Object.keys(a).forEach(function(c){return b(c,a[c])})},t.updateRipple=function(a){var b=t.findChild(a,"ons-ripple");a.hasAttribute("ripple")?b||a.insertBefore(document.createElement("ons-ripple"),a.firstChild):b&&b.remove()},t.animationOptionsParse=j,t.isInteger=function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},t.defer=function(){var a={};return a.promise=new Promise(function(b,c){a.resolve=b,a.reject=c}),a};var u=1.4,v={};v.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},v.buildTransitionValue=function(a){return a.property=a.property||"all",a.duration=a.duration||.4,a.timing=a.timing||"linear",a.property.split(/ +/).map(function(b){return b+" "+a.duration+"s "+a.timing}).join(", ")},v.onceOnTransitionEnd=function(a,b){if(!a)return function(){};var c=function(e){a==e.target&&(e.stopPropagation(),d(),b())},d=function(){v._transitionEndEvents.forEach(function(b){a.removeEventListener(b,c,!1)})};return v._transitionEndEvents.forEach(function(b){a.addEventListener(b,c,!1)}),d},v._transitionEndEvents=function(){return"ontransitionend"in window?["transitionend"]:"onwebkittransitionend"in window?["webkitTransitionEnd"]:"webkit"===v.vendorPrefix||"o"===v.vendorPrefix||"moz"===v.vendorPrefix||"ms"===v.vendorPrefix?[v.vendorPrefix+"TransitionEnd","transitionend"]:[]}(),v._cssPropertyDict=function(){for(var a=window.getComputedStyle(document.documentElement,""),b={},c="A".charCodeAt(0),d="z".charCodeAt(0),e=function(b){return b.substr(1).toUpperCase()},f=0;f<a.length;f++){var g=a[f].replace(/^[\-]+/,"").replace(/[\-][a-z]/g,e).replace(/^moz/,"Moz");c<=g.charCodeAt(0)&&d>=g.charCodeAt(0)&&"cssText"!==g&&"parentText"!==g&&(b[g]=!0)}return b}(),v.hasCssProperty=function(a){return a in v._cssPropertyDict},v.vendorPrefix=function(){var a=window.getComputedStyle(document.documentElement,"");return(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1]}(),v.forceLayoutAtOnce=function(a,b){this.batchImmediate(function(){a.forEach(function(a){a.offsetHeight}),b()})},v.batchImmediate=function(){var a=[];return function(b){0===a.length&&setImmediate(function(){var b=a.slice(0);a=[],b.forEach(function(a){a()})}),a.push(b)}}(),v.batchAnimationFrame=function(){var a=[],b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)};return function(c){0===a.length&&b(function(){var b=a.slice(0);a=[],b.forEach(function(a){a()})}),a.push(c)}}(),v.transitionPropertyName=function(){if(v.hasCssProperty("transitionDuration"))return"transition";if(v.hasCssProperty(v.vendorPrefix+"TransitionDuration"))return v.vendorPrefix+"Transition";throw new Error("Invalid state")}();var w=function a(b){if(!(this instanceof a))return new a(b);if(b instanceof HTMLElement)this.elements=[b];else{if("[object Array]"!==Object.prototype.toString.call(b))throw new Error("First argument must be an array or an instance of HTMLElement.");this.elements=b}this.transitionQueue=[],this.lastStyleAttributeDict=[]};w.prototype={transitionQueue:void 0,elements:void 0,play:function(b){return"function"==typeof b&&this.transitionQueue.push(function(a){b(),a()}),this.startAnimation(),this},queue:function(b,c){var a=this.transitionQueue;if(b&&c&&(c.css=b,b=new w.Transition(c)),b instanceof Function||b instanceof w.Transition||(b=b.css?new w.Transition(b):new w.Transition({css:b})),b instanceof Function)a.push(b);else{if(!(b instanceof w.Transition))throw new Error("Invalid arguments");a.push(b.build())}return this},wait:function(b){return b>0&&this.transitionQueue.push(function(a){setTimeout(a,1e3*b)}),this},saveStyle:function(){return this.transitionQueue.push(function(a){this.elements.forEach(function(a,b){for(var c=this.lastStyleAttributeDict[b]={},d=0;d<a.style.length;d++)c[a.style[d]]=a.style[a.style[d]]}.bind(this)),a()}.bind(this)),this},restoreStyle:function(b){function f(){c.elements.forEach(function(a,b){a.style[d]="none";var e=c.lastStyleAttributeDict[b];if(!e)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");c.lastStyleAttributeDict[b]=void 0;for(var f=0;f<a.style.length;f++)a.style[f],void 0===e[a.style[f]]&&(e[a.style[f]]="");Object.keys(e).forEach(function(b){a.style[b]=e[b]})})}b=b||{};var c=this;if(b.transition&&!b.duration)throw new Error('"options.duration" is required when "options.transition" is enabled.');var d=v.transitionPropertyName;if(b.transition||b.duration&&b.duration>0){var e=b.transition||"all "+b.duration+"s "+(b.timing||"linear");this.transitionQueue.push(function(a){var g,f=this.elements,h=function(){f.forEach(function(a){a.style[d]=""})},i=v.onceOnTransitionEnd(f[0],function(){clearTimeout(g),h(),a()});g=setTimeout(function(){i(),h(),a()},1e3*b.duration*u),f.forEach(function(a,b){var f=c.lastStyleAttributeDict[b];if(!f)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");c.lastStyleAttributeDict[b]=void 0;for(var g,h=0,i=a.style.length;h<i;h++)g=a.style[h],void 0===f[g]&&(f[g]="");a.style[d]=e,Object.keys(f).forEach(function(b){b!==d&&(a.style[b]=f[b])}),a.style[d]=e})})}else this.transitionQueue.push(function(a){f(),a()});return this},startAnimation:function(){return this._dequeueTransition(),this},_dequeueTransition:function(){var b=this.transitionQueue.shift();if(this._currentTransition)throw new Error("Current transition exists.");this._currentTransition=b;var c=this,d=!1,e=function(){if(d)throw new Error("Invalid state: This callback is called twice.");d=!0,c._currentTransition=void 0,c._dequeueTransition()};b&&b.call(this,e)}},w.runAll=function(){for(var a=0;a<arguments.length;a++)arguments[a].play()},w.Transition=function(a){this.options=a||{},this.options.duration=this.options.duration||0,this.options.timing=this.options.timing||"linear",this.options.css=this.options.css||{},this.options.property=this.options.property||"all"},w.Transition.prototype={build:function(){function e(a){var b={};return Object.keys(a).forEach(function(c){var d=a[c];if(v.hasCssProperty(c))return void(b[c]=d);var e=v.vendorPrefix+v.capitalize(c);v.hasCssProperty(e)?b[e]=d:(b[e]=d,b[c]=d)}),b}if(0===Object.keys(this.options.css).length)throw new Error("options.css is required.");var b=e(this.options.css);if(this.options.duration>0){var c=v.buildTransitionValue(this.options),d=this;return function(a){var g,e=this.elements,f=1e3*d.options.duration*u,h=v.onceOnTransitionEnd(e[0],function(){clearTimeout(g),a()});g=setTimeout(function(){h(),a()},f),e.forEach(function(a){a.style[v.transitionPropertyName]=c,Object.keys(b).forEach(function(c){a.style[c]=b[c]})})}}if(this.options.duration<=0)return function(a){var c=this.elements;c.forEach(function(a){a.style[v.transitionPropertyName]="",Object.keys(b).forEach(function(c){a.style[c]=b[c]})}),c.length>0?v.forceLayoutAtOnce(c,function(){v.batchAnimationFrame(a)}):v.batchAnimationFrame(a)}}};var x,y,z,A,B=function a(b,c){return new a.Instance(b,c||{})};B.defaults={behavior:{touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},B.DOCUMENT=document,B.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,B.HAS_TOUCHEVENTS="ontouchstart"in window,B.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),B.NO_MOUSEEVENTS=B.HAS_TOUCHEVENTS&&B.IS_MOBILE||B.HAS_POINTEREVENTS,B.CALCULATE_INTERVAL=25;var C={},D=B.DIRECTION_DOWN="down",E=B.DIRECTION_LEFT="left",F=B.DIRECTION_UP="up",G=B.DIRECTION_RIGHT="right",H=B.POINTER_MOUSE="mouse",I=B.POINTER_TOUCH="touch",J=B.POINTER_PEN="pen",K=B.EVENT_START="start",L=B.EVENT_MOVE="move",M=B.EVENT_END="end",N=B.EVENT_RELEASE="release",O=B.EVENT_TOUCH="touch";B.READY=!1,B.plugins=B.plugins||{},B.gestures=B.gestures||{},y=B.utils={extend:function(b,c,d){for(var e in c)!c.hasOwnProperty(e)||void 0!==b[e]&&d||(b[e]=c[e]);return b},on:function(b,c,d){b.addEventListener(c,d,!1)},off:function(b,c,d){b.removeEventListener(c,d,!1)},each:function(b,c,d){var e,f;if("forEach"in b)b.forEach(c,d);else if(void 0!==b.length){for(e=0,f=b.length;e<f;e++)if(!1===c.call(d,b[e],e,b))return}else for(e in b)if(b.hasOwnProperty(e)&&!1===c.call(d,b[e],e,b))return},inStr:function(b,c){return b.indexOf(c)>-1},inArray:function(b,c){if(b.indexOf){var d=b.indexOf(c);return-1!==d&&d}for(var e=0,f=b.length;e<f;e++)if(b[e]===c)return e;return!1},toArray:function(b){return Array.prototype.slice.call(b,0)},hasParent:function(b,c){for(;b;){if(b==c)return!0;b=b.parentNode}return!1},getCenter:function(b){var c=[],d=[],e=[],f=[],g=Math.min,h=Math.max;return 1===b.length?{pageX:b[0].pageX,pageY:b[0].pageY,clientX:b[0].clientX,clientY:b[0].clientY}:(y.each(b,function(a){c.push(a.pageX),d.push(a.pageY),e.push(a.clientX),f.push(a.clientY)}),{pageX:(g.apply(Math,c)+h.apply(Math,c))/2,pageY:(g.apply(Math,d)+h.apply(Math,d))/2,clientX:(g.apply(Math,e)+h.apply(Math,e))/2,clientY:(g.apply(Math,f)+h.apply(Math,f))/2})},getVelocity:function(b,c,d){return{x:Math.abs(c/b)||0,y:Math.abs(d/b)||0}},getAngle:function(b,c){var d=c.clientX-b.clientX,e=c.clientY-b.clientY;return 180*Math.atan2(e,d)/Math.PI},getDirection:function(b,c){return Math.abs(b.clientX-c.clientX)>=Math.abs(b.clientY-c.clientY)?b.clientX-c.clientX>0?E:G:b.clientY-c.clientY>0?F:D},getDistance:function(b,c){var d=c.clientX-b.clientX,e=c.clientY-b.clientY;return Math.sqrt(d*d+e*e)},getScale:function(b,c){return b.length>=2&&c.length>=2?this.getDistance(c[0],c[1])/this.getDistance(b[0],b[1]):1},getRotation:function(b,c){return b.length>=2&&c.length>=2?this.getAngle(c[1],c[0])-this.getAngle(b[1],b[0]):0},isVertical:function(b){return b==F||b==D},setPrefixedCss:function(b,c,d,e){var f=["","Webkit","Moz","O","ms"];c=y.toCamelCase(c);for(var g=0;g<f.length;g++){var h=c;if(f[g]&&(h=f[g]+h.slice(0,1).toUpperCase()+h.slice(1)),h in b.style){b.style[h]=(null===e||e)&&d||"";break}}},toggleBehavior:function(b,c,d){if(c&&b&&b.style){y.each(c,function(a,c){y.setPrefixedCss(b,c,a,d)});var e=d&&function(){return!1};"none"==c.userSelect&&(b.onselectstart=e),"none"==c.userDrag&&(b.ondragstart=e)}},toCamelCase:function(b){return b.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}},x=B.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(b,c,d,e){var f=c.split(" ");y.each(f,function(a){y.on(b,a,d),e&&e(a)})},off:function(b,c,d,e){var f=c.split(" ");y.each(f,function(a){y.off(b,a,d),e&&e(a)})},onTouch:function(b,c,d){var e=this,f=function(f){var j,g=f.type.toLowerCase(),h=B.HAS_POINTEREVENTS,i=y.inStr(g,"mouse");i&&e.preventMouseEvents||(i&&c==K&&0===f.button?(e.preventMouseEvents=!1,e.shouldDetect=!0):h&&c==K?e.shouldDetect=1===f.buttons||A.matchType(I,f):i||c!=K||(e.preventMouseEvents=!0,e.shouldDetect=!0),h&&c!=M&&A.updatePointer(c,f),e.shouldDetect&&(j=e.doDetect.call(e,f,c,b,d)),j==M&&(e.preventMouseEvents=!1,e.shouldDetect=!1,A.reset()),h&&c==M&&A.updatePointer(c,f))};return this.on(b,C[c],f),f},doDetect:function(b,c,d,e){var f=this.getTouchList(b,c),g=f.length,h=c,i=f.trigger,j=g;c==K?i=O:c==M&&(i=N,j=f.length-(b.changedTouches?b.changedTouches.length:1)),j>0&&this.started&&(h=L),this.started=!0;var k=this.collectEventData(d,h,f,b);return c!=M&&e.call(z,k),i&&(k.changedLength=j,k.eventType=i,e.call(z,k),k.eventType=h,delete k.changedLength),h==M&&(e.call(z,k),this.started=!1),h},determineEventTypes:function(){var b;return b=B.HAS_POINTEREVENTS?window.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:B.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],C[K]=b[0],C[L]=b[1],C[M]=b[2],C},getTouchList:function(b,c){if(B.HAS_POINTEREVENTS)return A.getTouchList();if(b.touches){if(c==L)return b.touches;var d=[],e=[].concat(y.toArray(b.touches),y.toArray(b.changedTouches)),f=[];return y.each(e,function(a){!1===y.inArray(d,a.identifier)&&f.push(a),d.push(a.identifier)}),f}return b.identifier=1,[b]},collectEventData:function(b,c,d,e){var f=I;return y.inStr(e.type,"mouse")||A.matchType(H,e)?f=H:A.matchType(J,e)&&(f=J),{center:y.getCenter(d),timeStamp:Date.now(),target:e.target,touches:d,eventType:c,pointerType:f,srcEvent:e,preventDefault:function(){var b=this.srcEvent;b.preventManipulation&&b.preventManipulation(),b.preventDefault&&b.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return z.stopDetect()}}}},A=B.PointerEvent={pointers:{},getTouchList:function(){var b=[];return y.each(this.pointers,function(a){b.push(a)}),b},updatePointer:function(b,c){b==M||b!=M&&1!==c.buttons?delete this.pointers[c.pointerId]:(c.identifier=c.pointerId,this.pointers[c.pointerId]=c)},matchType:function(b,c){if(!c.pointerType)return!1;var d=c.pointerType,e={};return e[H]=d===(c.MSPOINTER_TYPE_MOUSE||H),e[I]=d===(c.MSPOINTER_TYPE_TOUCH||I),e[J]=d===(c.MSPOINTER_TYPE_PEN||J),e[b]},reset:function(){this.pointers={}}},z=B.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(b,c){this.current||(this.stopped=!1,this.current={inst:b,startEvent:y.extend({},c),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(c))},detect:function(b){if(this.current&&!this.stopped){b=this.extendEventData(b);var c=this.current.inst,d=c.options;return y.each(this.gestures,function(e){!this.stopped&&c.enabled&&d[e.name]&&e.handler.call(e,b,c)},this),this.current&&(this.current.lastEvent=b),b.eventType==M&&this.stopDetect(),b}},stopDetect:function(){this.previous=y.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(b,c,d,e,f){var g=this.current,h=!1,i=g.lastCalcEvent,j=g.lastCalcData;i&&b.timeStamp-i.timeStamp>B.CALCULATE_INTERVAL&&(c=i.center,d=b.timeStamp-i.timeStamp,e=b.center.clientX-i.center.clientX,f=b.center.clientY-i.center.clientY,h=!0),b.eventType!=O&&b.eventType!=N||(g.futureCalcEvent=b),g.lastCalcEvent&&!h||(j.velocity=y.getVelocity(d,e,f),j.angle=y.getAngle(c,b.center),j.direction=y.getDirection(c,b.center),g.lastCalcEvent=g.futureCalcEvent||b,g.futureCalcEvent=b),b.velocityX=j.velocity.x,b.velocityY=j.velocity.y,b.interimAngle=j.angle,b.interimDirection=j.direction},extendEventData:function(b){var c=this.current,d=c.startEvent,e=c.lastEvent||d;b.eventType!=O&&b.eventType!=N||(d.touches=[],y.each(b.touches,function(a){d.touches.push({clientX:a.clientX,clientY:a.clientY})}));var f=b.timeStamp-d.timeStamp,g=b.center.clientX-d.center.clientX,h=b.center.clientY-d.center.clientY;return this.getCalculatedData(b,e.center,f,g,h),y.extend(b,{startEvent:d,deltaTime:f,deltaX:g,deltaY:h,distance:y.getDistance(d.center,b.center),angle:y.getAngle(d.center,b.center),direction:y.getDirection(d.center,b.center),scale:y.getScale(d.touches,b.touches),rotation:y.getRotation(d.touches,b.touches)}),b},register:function(b){var c=b.defaults||{};return void 0===c[b.name]&&(c[b.name]=!0),y.extend(B.defaults,c,!0),b.index=b.index||1e3,this.gestures.push(b),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}},B.Instance=function(a,b){var c=this;P(),this.element=a,this.enabled=!0,y.each(b,function(a,c){delete b[c],b[y.toCamelCase(c)]=a}),this.options=y.extend(y.extend({},B.defaults),b||{}),this.options.behavior&&y.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=x.onTouch(a,K,function(a){c.enabled&&a.eventType==K?z.startDetect(c,a):a.eventType==O&&z.detect(a)}),this.eventHandlers=[]},B.Instance.prototype={on:function(b,c){var d=this;return x.on(d.element,b,c,function(a){d.eventHandlers.push({gesture:a,handler:c})}),d},off:function(b,c){var d=this;return x.off(d.element,b,c,function(a){var b=y.inArray({gesture:a,handler:c});!1!==b&&d.eventHandlers.splice(b,1)}),d},trigger:function(b,c){c||(c={});var d=B.DOCUMENT.createEvent("Event");d.initEvent(b,!0,!0),d.gesture=c;var e=this.element;return y.hasParent(c.target,e)&&(e=c.target),e.dispatchEvent(d),this},enable:function(b){return this.enabled=b,this},dispose:function(){var b,c;for(y.toggleBehavior(this.element,this.options.behavior,!1),b=-1;c=this.eventHandlers[++b];)y.off(this.element,c.gesture,c.handler);return this.eventHandlers=[],x.off(this.element,C[K],this.eventStartHandler),null}},function(a){function c(c,d){var e=z.current;if(!(d.options.dragMaxTouches>0&&c.touches.length>d.options.dragMaxTouches))switch(c.eventType){case K:b=!1;break;case L:if(c.distance<d.options.dragMinDistance&&e.name!=a)return;var f=e.startEvent.center;if(e.name!=a&&(e.name=a,d.options.dragDistanceCorrection&&c.distance>0)){var g=Math.abs(d.options.dragMinDistance/c.distance);f.pageX+=c.deltaX*g,f.pageY+=c.deltaY*g,f.clientX+=c.deltaX*g,f.clientY+=c.deltaY*g,c=z.extendEventData(c)}(e.lastEvent.dragLockToAxis||d.options.dragLockToAxis&&d.options.dragLockMinDistance<=c.distance)&&(c.dragLockToAxis=!0);var h=e.lastEvent.direction;c.dragLockToAxis&&h!==c.direction&&(y.isVertical(h)?c.direction=c.deltaY<0?F:D:c.direction=c.deltaX<0?E:G),b||(d.trigger(a+"start",c),b=!0),d.trigger(a,c),d.trigger(a+c.direction,c);var i=y.isVertical(c.direction);(d.options.dragBlockVertical&&i||d.options.dragBlockHorizontal&&!i)&&c.preventDefault();break;case N:b&&c.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",c),b=!1);break;case M:b=!1}}var b=!1;B.gestures.Drag={name:a,index:50,handler:c,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),B.gestures.Gesture={name:"gesture",index:1337,handler:function(b,c){c.trigger(this.name,b)}},function(a){function c(c,d){var e=d.options,f=z.current;switch(c.eventType){case K:clearTimeout(b),f.name=a,b=setTimeout(function(){f&&f.name==a&&d.trigger(a,c)},e.holdTimeout);break;case L:c.distance>e.holdThreshold&&clearTimeout(b);break;case N:clearTimeout(b)}}var b;B.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:c}}("hold"),B.gestures.Release={name:"release",index:1/0,handler:function(b,c){b.eventType==N&&c.trigger(this.name,b)}},B.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(b,c){if(b.eventType==N){var d=b.touches.length,e=c.options;if(d<e.swipeMinTouches||d>e.swipeMaxTouches)return;(b.velocityX>e.swipeVelocityX||b.velocityY>e.swipeVelocityY)&&(c.trigger(this.name,b),c.trigger(this.name+b.direction,b))}}},function(a){function c(c,d){var h,i,e=d.options,f=z.current,g=z.previous;switch(c.eventType){case K:b=!1;break;case L:b=b||c.distance>e.tapMaxDistance;break;case M:!y.inStr(c.srcEvent.type,"cancel")&&c.deltaTime<e.tapMaxTime&&!b&&(h=g&&g.lastEvent&&c.timeStamp-g.lastEvent.timeStamp,i=!1,g&&g.name==a&&h&&h<e.doubleTapInterval&&c.distance<e.doubleTapDistance&&(d.trigger("doubletap",c),i=!0),i&&!e.tapAlways||(f.name=a,d.trigger(f.name,c)))}}var b=!1;B.gestures.Tap={name:a,index:100,handler:c,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),B.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(b,c){if(c.options.preventMouse&&b.pointerType==H)return void b.stopDetect();c.options.preventDefault&&b.preventDefault(),b.eventType==O&&c.trigger("touch",b)}},function(a){function c(c,d){switch(c.eventType){case K:b=!1;break;case L:if(c.touches.length<2)return;var e=Math.abs(1-c.scale),f=Math.abs(c.rotation);if(e<d.options.transformMinScale&&f<d.options.transformMinRotation)return;z.current.name=a,b||(d.trigger(a+"start",c),b=!0),d.trigger(a,c),f>d.options.transformMinRotation&&d.trigger("rotate",c),e>d.options.transformMinScale&&(d.trigger("pinch",c),d.trigger("pinch"+(c.scale<1?"in":"out"),c));break;case N:b&&c.changedLength<2&&(d.trigger(a+"end",c),b=!1)}}var b=!1;B.gestures.Transform={name:a,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:c}}("transform");var Q=function(){function a(){m(this,a),this._renderPlatform=null}return n(a,[{key:"select",value:function(b){"string"==typeof b&&(this._renderPlatform=b.trim().toLowerCase())}},{key:"isWebView",value:function(){if("loading"===document.readyState||"uninitialized"==document.readyState)throw new Error("isWebView() method is available after dom contents loaded.");return!!(window.cordova||window.phonegap||window.PhoneGap)}},{key:"isIOS",value:function(){return this._renderPlatform?"ios"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":k(device))||/browser/i.test(device.platform)?/iPhone|iPad|iPod/i.test(navigator.userAgent):/iOS/i.test(device.platform)}},{key:"isAndroid",value:function(){return this._renderPlatform?"android"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":k(device))||/browser/i.test(device.platform)?/Android/i.test(navigator.userAgent):/Android/i.test(device.platform)}},{key:"isAndroidPhone",value:function(){return/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)}},{key:"isAndroidTablet",value:function(){return/Android/i.test(navigator.userAgent)&&!/Mobile/i.test(navigator.userAgent)}},{key:"isWP",value:function(){return this._renderPlatform?"wp"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":k(device))||/browser/i.test(device.platform)?/Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent):/Win32NT|WinCE/i.test(device.platform)}},{key:"isIPhone",value:function(){return/iPhone/i.test(navigator.userAgent)}},{key:"isIPad",value:function(){return/iPad/i.test(navigator.userAgent)}},{key:"isIPod",value:function(){return/iPod/i.test(navigator.userAgent)}},{key:"isBlackBerry",value:function(){return this._renderPlatform?"blackberry"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":k(device))||/browser/i.test(device.platform)?/BlackBerry|RIM Tablet OS|BB10/i.test(navigator.userAgent):/BlackBerry/i.test(device.platform)}},{key:"isOpera",value:function(){return this._renderPlatform?"opera"===this._renderPlatform:!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0}},{key:"isFirefox",value:function(){return this._renderPlatform?"firefox"===this._renderPlatform:"undefined"!=typeof InstallTrigger}},{key:"isSafari",value:function(){return this._renderPlatform?"safari"===this._renderPlatform:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0}},{key:"isChrome",value:function(){return this._renderPlatform?"chrome"===this._renderPlatform:!(!window.chrome||window.opera||navigator.userAgent.indexOf(" OPR/")>=0||navigator.userAgent.indexOf(" Edge/")>=0)}},{key:"isIE",value:function(){return this._renderPlatform?"ie"===this._renderPlatform:!!document.documentMode}},{key:"isEdge",value:function(){return this._renderPlatform?"edge"===this._renderPlatform:navigator.userAgent.indexOf(" Edge/")>=0}},{key:"isIOS7above",value:function(){if("object"===("undefined"==typeof device?"undefined":k(device))&&!/browser/i.test(device.platform))return/iOS/i.test(device.platform)&&parseInt(device.version.split(".")[0])>=7;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var b=(navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,".");return parseInt(b.split(".")[0])>=7}return!1}},{key:"getMobileOS",value:function(){return this.isAndroid()?"android":this.isIOS()?"ios":this.isWP()?"wp":"other"}},{key:"getIOSDevice",value:function(){return this.isIPhone()?"iphone":this.isIPad()?"ipad":this.isIPod()?"ipod":"na"}}]),a}(),R=new Q,S=new WeakMap,T=new WeakMap,Z={};Z._createAlertDialog=function(a){var b="";a.isPrompt&&(b='\n      <input\n        class="text-input text-input--underbar"\n        type="'+(a.inputType||"text")+'"\n        placeholder="'+(a.placeholder||"")+'"\n        value="'+(a.defaultValue||"")+'"\n        style="width: 100%; margin-top: 10px;"\n      />\n    ');var c="";a.buttonLabels.forEach(function(b,d){c+='\n      <button class="\n        alert-dialog-button\n        '+(d===a.primaryButtonIndex?" alert-dialog-button--primal":"")+"\n        "+(a.buttonLabels.length<=2?" alert-dialog-button--one":"")+'\n      ">\n        '+b+"\n      </button>\n    "});var d={},e=function(){d.dialog.onDialogCancel&&d.dialog.removeEventListener("dialog-cancel",d.dialog.onDialogCancel),Object.keys(d).forEach(function(a){return delete d[a]}),d=null,a.destroy instanceof Function&&a.destroy()};d.dialog=document.createElement("ons-alert-dialog"),innerHTML(d.dialog,'\n    <div class="alert-dialog-mask"></div>\n    <div class="alert-dialog">\n      <div class="alert-dialog-container">\n        <div class="alert-dialog-title">\n          '+(a.title||"")+'\n        </div>\n        <div class="alert-dialog-content">\n          '+(a.message||a.messageHTML)+"\n          "+b+'\n        </div>\n        <div class="\n          alert-dialog-footer\n          '+(a.buttonLabels.length<=2?" alert-dialog-footer--one":"")+'\n        ">\n          '+c+"\n        </div>\n      </div>\n    </div>\n  "),Y(d.dialog),["id","class","animation"].forEach(function(b){return a.hasOwnProperty(b)&&d.dialog.setAttribute(b,a[b])}),a.modifier&&t.addModifier(d.dialog,a.modifier);var f=t.defer();return a.isPrompt&&a.submitOnEnter&&(d.input=d.dialog.querySelector(".text-input"),d.input.onkeypress=function(b){13===b.keyCode&&d.dialog.hide().then(function(){var b=d.input.value;e(),a.callback(b),f.resolve(b)})}),d.footer=d.dialog.querySelector(".alert-dialog-footer"),t.arrayFrom(d.dialog.querySelectorAll(".alert-dialog-button")).forEach(function(b,c){b.onclick=function(){d.dialog.hide().then(function(){var b=a.isPrompt?d.input.value:c;d.dialog.remove(),e(),a.callback(b),f.resolve(b)})},d.footer.appendChild(b)}),a.cancelable&&(d.dialog.cancelable=!0,d.dialog.onDialogCancel=function(){setImmediate(function(){d.dialog.remove(),e()});var b=a.isPrompt?null:-1;a.callback(b),f.reject(b)},d.dialog.addEventListener("dialog-cancel",d.dialog.onDialogCancel,!1)),document.body.appendChild(d.dialog),a.compile(d.dialog),setImmediate(function(){d.dialog.show().then(function(){d.input&&a.isPrompt&&a.autofocus&&d.input.focus()})}),f.promise};var $=function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof b?c.message=b:c=b,!c.message&&!c.messageHTML)throw new Error("Alert dialog must contain a message.");return(c.hasOwnProperty("buttonLabels")||c.hasOwnProperty("buttonLabel"))&&(c.buttonLabels=c.buttonLabels||c.buttonLabel,Array.isArray(c.buttonLabels)||(c.buttonLabels=[c.buttonLabels||""])),t.extend({compile:function(b){return b},callback:function(b){return b},buttonLabels:["OK"],primaryButtonIndex:0,animation:"default",cancelable:!1},d,c)};Z.alert=function(a,b){return b=$(a,b,{title:"Alert"}),Z._createAlertDialog(b)},Z.confirm=function(a,b){return b=$(a,b,{buttonLabels:["Cancel","OK"],primaryButtonIndex:1,title:"Confirm"}),Z._createAlertDialog(b)},Z.prompt=function(a,b){return b=$(a,b,{title:"Alert",isPrompt:!0,autofocus:!0,submitOnEnter:!0}),Z._createAlertDialog(b)};var _={_variables:{},defineVariable:function(b,c){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof b)throw new Error("Variable name must be a string.");if("string"!=typeof c&&"function"!=typeof c)throw new Error("Variable value must be a string or a function.");if(this._variables.hasOwnProperty(b)&&!d)throw new Error('"'+b+'" is already defined.');this._variables[b]=c},getVariable:function(b){return this._variables.hasOwnProperty(b)?this._variables[b]:null},removeVariable:function(b){delete this._variables[b]},getAllVariables:function(){return this._variables},_parsePart:function(b){var c=void 0,d=!1,e=0,f=[];if(0===b.length)throw new Error("Unable to parse empty string.");for(var g=0;g<b.length;g++)if("$"===(c=b.charAt(g))&&"{"===b.charAt(g+1)){if(d)throw new Error("Nested interpolation not supported.");var h=b.substring(e,g);h.length>0&&f.push(b.substring(e,g)),e=g,d=!0}else if("}"===c){if(!d)throw new Error("} must be preceeded by ${");var i=b.substring(e,g+1);i.length>0&&f.push(b.substring(e,g+1)),e=g+1,d=!1}if(d)throw new Error("Unterminated interpolation.");return f.push(b.substring(e,b.length)),f},_replaceToken:function(b){var c=/^\${(.*?)}$/,d=b.match(c);if(d){var e=d[1].trim(),f=this.getVariable(e);if(null===f)throw new Error('Variable "'+e+'" does not exist.');if("string"==typeof f)return f;var g=f();if("string"!=typeof g)throw new Error("Must return a string.");return g}return b},_replaceTokens:function(b){return b.map(this._replaceToken.bind(this))},_parseExpression:function(b){return b.split(",").map(function(a){return a.trim()}).map(this._parsePart.bind(this)).map(this._replaceTokens.bind(this)).map(function(a){return a.join("")})},evaluate:function(b){return b?this._parseExpression(b):[]}};_.defineVariable("mobileOS",R.getMobileOS()),_.defineVariable("iOSDevice",R.getIOSDevice()),_.defineVariable("runtime",function(){return R.isWebView()?"cordova":"browser"});var aa={};aa.config={autoStatusBarFill:!0,animationsDisabled:!1},aa.nullElement=window.document.createElement("div"),aa.isEnabledAutoStatusBarFill=function(){return!!aa.config.autoStatusBarFill},aa.normalizePageHTML=function(a){return a=(""+a).trim(),a.match(/^<ons-page/)||(a="<ons-page _muted>"+a+"</ons-page>"),a},aa.waitDOMContentLoaded=function(a){"loading"===window.document.readyState||"uninitialized"==window.document.readyState?window.document.addEventListener("DOMContentLoaded",a):setImmediate(a)},aa.autoStatusBarFill=function(a){var b=function b(){aa.shouldFillStatusBar()&&a(),document.removeEventListener("deviceready",b),document.removeEventListener("DOMContentLoaded",b)};"object"===("undefined"==typeof device?"undefined":k(device))?document.addEventListener("deviceready",b):-1===["complete","interactive"].indexOf(document.readyState)?document.addEventListener("DOMContentLoaded",function(){b()}):b()},aa.shouldFillStatusBar=function(){return aa.isEnabledAutoStatusBarFill()&&R.isWebView()&&R.isIOS7above()},aa.templateStore={_storage:{},get:function(b){return aa.templateStore._storage[b]||null},set:function(b,c){aa.templateStore._storage[b]=c}},window.document.addEventListener("_templateloaded",function(a){"ons-template"===a.target.nodeName.toLowerCase()&&aa.templateStore.set(a.templateId,a.template)},!1),window.document.addEventListener("DOMContentLoaded",function(){function a(a){for(var b=window.document.querySelectorAll(a),c=0;c<b.length;c++)aa.templateStore.set(b[c].getAttribute("id"),b[c].textContent)}a('script[type="text/ons-template"]'),a('script[type="text/template"]'),a('script[type="text/ng-template"]')},!1),aa.getTemplateHTMLAsync=function(a){return new Promise(function(b,c){setImmediate(function(){var d=aa.templateStore.get(a);if(d){var e="string"==typeof d?d:d[1];b(e)}else!function(){var d=new XMLHttpRequest;d.open("GET",a,!0),d.onload=function(a){var e=d.responseText;d.status>=400&&d.status<600?c(e):b(e)},d.onerror=function(){throw new Error("The page is not found: "+a)},d.send(null)}()})})},aa.getPageHTMLAsync=function(a){var b=_.evaluate(a);return function a(c){return"string"!=typeof c?Promise.reject("Must specify a page."):aa.getTemplateHTMLAsync(c).then(function(a){return aa.normalizePageHTML(a)},function(c){return 0===b.length?Promise.reject(c):a(b.shift())}).then(function(a){return aa.normalizePageHTML(a)})}(b.shift())};var ba=function(){function a(b){if(m(this,a),this._animators=b.animators,this._baseClass=b.baseClass,this._baseClassName=b.baseClassName||b.baseClass.name,this._animation=b.defaultAnimation||"default",this._animationOptions=b.defaultAnimationOptions||{},!this._animators[this._animation])throw new Error("No such animation: "+this._animation)}return n(a,[{key:"setAnimationOptions",value:function(b){this._animationOptions=b}},{key:"newAnimator",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments[1],d=null;if(b.animation instanceof this._baseClass)return b.animation;var e=null;if("string"==typeof b.animation&&(e=this._animators[b.animation]),!e&&c)d=c;else{e=e||this._animators[this._animation];var f=t.extend({},this._animationOptions,b.animationOptions||{},aa.config.animationsDisabled?{duration:0,delay:0}:{});d=new e(f),"function"==typeof d&&(d=new d(f))}if(!(d instanceof this._baseClass))throw new Error('"animator" is not an instance of '+this._baseClassName+".");return d}}],[{key:"parseAnimationOptionsString",value:function(b){try{if("string"==typeof b){var c=t.animationOptionsParse(b);if("object"===(void 0===c?"undefined":k(c))&&null!==c)return c;console.error('"animation-options" attribute must be a JSON object string: '+b)}return{}}catch(a){return console.error('"animation-options" attribute must be a JSON object string: '+b),{}}}}]),a}(),ca=function(){function a(){m(this,a)}return n(a,null,[{key:"diff",value:function(c,d){function g(b){var c={};return a.split(b).forEach(function(a){return c[a]=a}),c}c=g((""+c).trim()),d=g((""+d).trim());var e=Object.keys(c).reduce(function(a,b){return d[b]||a.push(b),a},[]);return{added:Object.keys(d).reduce(function(a,b){return c[b]||a.push(b),a},[]),removed:e}}},{key:"applyDiffToClassList",value:function(b,c,d){b.added.map(function(a){return d.replace(/\*/g,a)}).forEach(function(a){return c.add(a)}),b.removed.map(function(a){return d.replace(/\*/g,a)}).forEach(function(a){return c.remove(a)})}},{key:"applyDiffToElement",value:function(c,d,e){var f=function(b,c){return(b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector).call(b,c)};for(var g in e)if(e.hasOwnProperty(g))for(var h=!g||f(d,g)?[d]:d.querySelectorAll(g),i=0;i<h.length;i++)a.applyDiffToClassList(c,h[i].classList,e[g])}},{key:"onModifierChanged",value:function(c,d,e,f){return a.applyDiffToElement(a.diff(c,d),e,f)}},{key:"initModifier",value:function(c,d){var e=c.getAttribute("modifier");"string"==typeof e&&a.applyDiffToElement({removed:[],added:a.split(e)},c,d)}},{key:"split",value:function(b){return"string"!=typeof b?[]:b.trim().split(/ +/).filter(function(a){return""!==a})}}]),a}(),da=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(m(this,a),"object"!==(void 0===b?"undefined":k(b))||null===b)throw Error('"delegate" parameter must be an object.');if(this._userDelegate=b,!(c instanceof Element)&&null!==c)throw Error('"templateElement" parameter must be an instance of Element or null.');this._templateElement=c}return n(a,[{key:"hasRenderFunction",value:function(){return this._userDelegate._render instanceof Function}},{key:"_render",value:function(b,c){this._userDelegate._render(b,c)}},{key:"loadItemElement",value:function(b,c,d){if(this._userDelegate.loadItemElement instanceof Function)this._userDelegate.loadItemElement(b,c,function(a){return d({element:a})});else{var e=this._userDelegate.createItemContent(b,this._templateElement);if(!(e instanceof Element))throw Error("createItemContent() must return an instance of Element.");c.appendChild(e),d({element:e})}}},{key:"countItems",value:function(){var b=this._userDelegate.countItems();if("number"!=typeof b)throw Error("countItems() must return a number.");return b}},{key:"updateItem",value:function(b,c){this._userDelegate.updateItemContent instanceof Function&&this._userDelegate.updateItemContent(b,c)}},{key:"calculateItemHeight",value:function(b){if(this._userDelegate.calculateItemHeight instanceof Function){var c=this._userDelegate.calculateItemHeight(b);if("number"!=typeof c)throw Error("calculateItemHeight() must return a number.");return c}return 0}},{key:"destroyItem",value:function(b,c){this._userDelegate.destroyItem instanceof Function&&this._userDelegate.destroyItem(b,c)}},{key:"destroy",value:function(){this._userDelegate.destroy instanceof Function&&this._userDelegate.destroy(),this._userDelegate=this._templateElement=null}},{key:"itemHeight",get:function(){return this._userDelegate.itemHeight}}]),a}(),ea=function(){function a(b,c){if(m(this,a),!(c instanceof da))throw Error('"delegate" parameter must be an instance of LazyRepeatDelegate.');if(this._wrapperElement=b,this._delegate=c,"ons-list"===b.tagName.toLowerCase()&&b.classList.add("lazy-list"),this._pageContent=this._findPageContentElement(b),!this._pageContent)throw new Error("ons-lazy-repeat must be a descendant of an <ons-page> or an element.");this._topPositions=[],this._renderedItems={},this._delegate.itemHeight||this._delegate.calculateItemHeight(0)||(this._unknownItemHeight=!0),this._addEventListeners(),this._onChange()}return n(a,[{key:"_findPageContentElement",value:function(b){var c=t.findParent(b,".page__content");if(c)return c;var d=t.findParent(b,"ons-page");if(d){var e=t.findChild(d,".content");if(e)return e}return null}},{key:"_checkItemHeight",value:function(b){var c=this;this._delegate.loadItemElement(0,this._wrapperElement,function(a){if(!c._unknownItemHeight)throw Error("Invalid state");var d=function(){c._wrapperElement.removeChild(a.element),delete c._unknownItemHeight,b()};if(c._itemHeight=a.element.offsetHeight,c._itemHeight>0)return void d();var e=c._wrapperElement.style.visibility;c._wrapperElement.style.visibility="hidden",a.element.style.visibility="hidden",setImmediate(function(){if(c._itemHeight=a.element.offsetHeight,0==c._itemHeight)throw Error("Invalid state: this._itemHeight must be greater than zero.");c._wrapperElement.style.visibility=e,d()})})}},{key:"_countItems",value:function(){return this._delegate.countItems()}},{key:"_getItemHeight",value:function(b){return this.staticItemHeight||this._delegate.calculateItemHeight(b)}},{key:"_onChange",value:function(){this._render()}},{key:"refresh",value:function(){this._removeAllElements(),this._onChange()}},{key:"_render",value:function(){var b=this;if(this._unknownItemHeight)return this._checkItemHeight(this._render.bind(this));var c=this._getItemsInView();if(this._delegate.hasRenderFunction&&this._delegate.hasRenderFunction())return this._delegate._render(c,this._listHeight),null;var d={};c.forEach(function(a){b._renderElement(a),d[a.index]=!0}),Object.keys(this._renderedItems).forEach(function(a){return d[a]||b._removeElement(a)}),this._wrapperElement.style.height=this._listHeight+"px"}},{key:"_renderElement",value:function(b){var c=this,d=b.index,e=b.top,f=this._renderedItems[d];if(f)return this._delegate.updateItem(d,f),void(f.element.style.top=e+"px");this._delegate.loadItemElement(d,this._wrapperElement,function(a){t.extend(a.element.style,{position:"absolute",top:e+"px",left:0,right:0}),c._renderedItems[d]=a})}},{key:"_removeElement",value:function(b){var c=this._renderedItems[b];this._delegate.destroyItem(b,c),c.element.parentElement&&c.element.parentElement.removeChild(c.element),delete this._renderedItems[b]}},{key:"_removeAllElements",value:function(){var b=this;Object.keys(this._renderedItems).forEach(function(a){return b._removeElement(a)})}},{key:"_calculateStartIndex",value:function(b){var c=0,d=this._itemCount-1;if(this.staticItemHeight)return parseInt(-b/this.staticItemHeight);for(;;){var e=Math.floor((c+d)/2),f=b+this._topPositions[e];if(d<c)return 0;if(f<=0&&f+this._getItemHeight(e)>0)return e;isNaN(f)||f>=0?d=e-1:c=e+1}}},{key:"_recalculateTopPositions",value:function(){Math.min(this._topPositions.length,this._itemCount);this._topPositions[0]=0;for(var d,c=1;c<d;c++)this._topPositions[c]=this._topPositions[c-1]+this._getItemHeight(c)}},{key:"_getItemsInView",value:function(){var b=this._wrapperElement.getBoundingClientRect().top,c=4*window.innerHeight-b,d=this._countItems();d!==this._itemCount&&(this._itemCount=d,this._recalculateTopPositions());for(var e=Math.max(0,this._calculateStartIndex(b)-30),f=[],g=this._topPositions[e];e<d&&g<c;e++)e>=this._topPositions.length&&(this._topPositions.length+=100),this._topPositions[e]=g,f.push({top:g,index:e}),g+=this._getItemHeight(e);return this._listHeight=g,f}},{key:"_debounce",value:function(b,c,d){var e=void 0;return function(){var a=this,f=arguments,g=d&&!e;clearTimeout(e),g?b.apply(this,arguments):e=setTimeout(function(){e=null,b.apply(a,f)},c)}}},{key:"_doubleFireOnTouchend",value:function(){this._render(),this._debounce(this._render.bind(this),100)}},{key:"_addEventListeners",value:function(){t.bindListeners(this,["_onChange","_doubleFireOnTouchend"]),R.isIOS()&&(this._boundOnChange=this._debounce(this._boundOnChange,30)),this._pageContent.addEventListener("scroll",this._boundOnChange,!0),R.isIOS()&&(this._pageContent.addEventListener("touchmove",this._boundOnChange,!0),this._pageContent.addEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.addEventListener("resize",this._boundOnChange,!0)}},{key:"_removeEventListeners",value:function(){this._pageContent.removeEventListener("scroll",this._boundOnChange,!0),R.isIOS()&&(this._pageContent.removeEventListener("touchmove",this._boundOnChange,!0),this._pageContent.removeEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.removeEventListener("resize",this._boundOnChange,!0)}},{key:"destroy",value:function(){this._removeAllElements(),this._delegate.destroy(),this._parentElement=this._delegate=this._renderedItems=null,this._removeEventListeners()}},{key:"staticItemHeight",get:function(){return this._delegate.itemHeight||this._itemHeight}}]),a}();aa.AnimatorFactory=ba,aa.ModifierUtil=ca,aa.LazyRepeatProvider=ea,aa.LazyRepeatDelegate=da;var fa=function(){var b={_isPortrait:!1,isPortrait:function(){return this._isPortrait()},isLandscape:function(){return!this.isPortrait()},_init:function(){return document.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this),!1),"orientation"in window?window.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.addEventListener("resize",this._onResize.bind(this),!1),this._isPortrait=function(){return window.innerHeight>window.innerWidth},this},_onDOMContentLoaded:function(){this._installIsPortraitImplementation(),this.emit("change",{isPortrait:this.isPortrait()})},_installIsPortraitImplementation:function(){var b=window.innerWidth<window.innerHeight;"orientation"in window?window.orientation%180==0?this._isPortrait=function(){return 0===Math.abs(window.orientation%180)?b:!b}:this._isPortrait=function(){return 90===Math.abs(window.orientation%180)?b:!b}:this._isPortrait=function(){return window.innerHeight>window.innerWidth}},_onOrientationChange:function(){var b=this,c=this._isPortrait(),d=0,e=setInterval(function(){d++;var a=window.innerWidth,f=window.innerHeight;c&&a<=f||!c&&a>=f?(b.emit("change",{isPortrait:c}),clearInterval(e)):50===d&&(b.emit("change",{isPortrait:c}),clearInterval(e))},20)},_onResize:function(){this.emit("change",{isPortrait:this.isPortrait()})}};return MicroEvent.mixin(b),b},ga=fa()._init(),ha=new MicroEvent;ha._visible=!1;var ia=function(){ha._visible=!0,ha.emit("show")},ja=function(){ha._visible=!1,ha.emit("hide")},ka=function(){return"undefined"!=typeof Keyboard?(Keyboard.onshow=ia,Keyboard.onhide=ja,ha.emit("init",{visible:Keyboard.isVisible}),!0):void 0!==cordova.plugins&&void 0!==cordova.plugins.Keyboard&&(window.addEventListener("native.keyboardshow",ia),window.addEventListener("native.keyboardhide",ja),ha.emit("init",{visible:cordova.plugins.Keyboard.isVisible}),!0)},la=function(){console.warn("ons-keyboard: Cordova Keyboard plugin is not present.")};document.addEventListener("deviceready",function(){ka()||((document.querySelector("[ons-keyboard-active]")||document.querySelector("[ons-keyboard-inactive]"))&&la(),ha.on=la)});var ma={_ready:!1,_domContentLoaded:!1,_onDOMContentLoaded:function(){ma._domContentLoaded=!0,R.isWebView()?window.document.addEventListener("deviceready",function(){ma._ready=!0},!1):ma._ready=!0},addBackButtonListener:function(b){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.addEventListener("backbutton",b,!1):window.document.addEventListener("deviceready",function(){window.document.addEventListener("backbutton",b,!1)})},removeBackButtonListener:function(b){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.removeEventListener("backbutton",b,!1):window.document.addEventListener("deviceready",function(){window.document.removeEventListener("backbutton",b,!1)})}};window.addEventListener("DOMContentLoaded",function(){return ma._onDOMContentLoaded()},!1);var na={_store:{},_genId:function(){var a=0;return function(){return a++}}(),set:function(b,c){b.dataset.deviceBackButtonHandlerId&&this.remove(b);var d=b.dataset.deviceBackButtonHandlerId=na._genId();this._store[d]=c},remove:function(b){b.dataset.deviceBackButtonHandlerId&&(delete this._store[b.dataset.deviceBackButtonHandlerId],delete b.dataset.deviceBackButtonHandlerId)},get:function(b){if(b.dataset.deviceBackButtonHandlerId){var c=b.dataset.deviceBackButtonHandlerId;if(!this._store[c])throw new Error;return this._store[c]}},has:function(b){if(!b.dataset)return!1;var c=b.dataset.deviceBackButtonHandlerId;return!!this._store[c]}},oa=function(){function a(){m(this,a),this._isEnabled=!1,this._boundCallback=this._callback.bind(this)}return n(a,[{key:"enable",value:function(){this._isEnabled||(ma.addBackButtonListener(this._boundCallback),this._isEnabled=!0)}},{key:"disable",value:function(){this._isEnabled&&(ma.removeBackButtonListener(this._boundCallback),this._isEnabled=!1)}},{key:"fireDeviceBackButtonEvent",value:function(){var b=document.createEvent("Event");b.initEvent("backbutton",!0,!0),document.dispatchEvent(b)}},{key:"_callback",value:function(){this._dispatchDeviceBackButtonEvent()}},{key:"createHandler",value:function(b,c){if(!(b instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");if(!(c instanceof Function))throw new Error("callback must be an instance of Function");var d={_callback:c,_element:b,disable:function(){na.remove(b)},setListener:function(b){this._callback=b},enable:function(){na.set(b,this)},isEnabled:function(){return na.get(b)===this},destroy:function(){na.remove(b),this._callback=this._element=null}};return d.enable(),d}},{key:"_dispatchDeviceBackButtonEvent",value:function(){function e(a){return{_element:a,callParentHandler:function(){for(var b=this._element.parentNode;b;){if(d=na.get(b))return d._callback(e(b));b=b.parentNode}}}}var b=this._captureTree(),c=this._findHandlerLeafElement(b),d=na.get(c);d._callback(e(c))}},{key:"_captureTree",value:function(){function b(a){return{element:a,children:Array.prototype.concat.apply([],c(a.children).map(function(a){if("none"===a.style.display)return[];if(0===a.children.length&&!na.has(a))return[];var c=b(a);return 0!==c.children.length||na.has(c.element)?[c]:[]}))}}function c(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}return b(document.body)}},{key:"_findHandlerLeafElement",value:function(b){function c(a){return 0===a.children.length?a.element:1===a.children.length?c(a.children[0]):a.children.map(function(a){return a.element}).reduce(function(a,b){if(!a)return b;var c=parseInt(window.getComputedStyle(a,"").zIndex,10),d=parseInt(window.getComputedStyle(b,"").zIndex,10);if(!isNaN(c)&&!isNaN(d))return c>d?a:b;throw new Error("Capturing backbutton-handler is failure.")},null)}return c(b)}}]),a}(),pa=new oa,qa=!0,ra={quiet:"material--flat",light:"material--flat",outline:"material--flat",cta:"","large--quiet":"material--flat large","large--cta":"large",noborder:"",chevron:"",tappable:""},sa={};sa.android=function(a){if(!/ons-fab|ons-speed-dial|ons-progress/.test(a.tagName.toLowerCase())&&!/material/.test(a.getAttribute("modifier"))){var b=a.getAttribute("modifier")||"",c=b.trim().split(/\s+/).map(function(a){return ra.hasOwnProperty(a)?ra[a]:a});c.unshift("material"),a.setAttribute("modifier",c.join(" ").trim())}!/ons-button|ons-list-item|ons-fab|ons-speed-dial|ons-tab$/.test(a.tagName.toLowerCase())||a.hasAttribute("ripple")||t.findChild(a,"ons-ripple")||("ons-list-item"===a.tagName.toLowerCase()?a.hasAttribute("tappable")&&(a.setAttribute("ripple",""),a.removeAttribute("tappable")):a.setAttribute("ripple",""))},sa.ios=function(a){/material/.test(a.getAttribute("modifier"))&&(t.removeModifier(a,"material"),t.removeModifier(a,"material--flat")&&t.addModifier(a,t.removeModifier(a,"large")?"large--quiet":"quiet"),a.getAttribute("modifier")||a.removeAttribute("modifier")),a.hasAttribute("ripple")&&("ons-list-item"===a.tagName.toLowerCase()&&a.setAttribute("tappable",""),a.removeAttribute("ripple"))};var ta={android:!0},ua=function(b,c){if(qa&&!b.hasAttribute("disable-auto-styling")){var d=R.getMobileOS();sa.hasOwnProperty(d)&&(ta.hasOwnProperty(d)||c)&&sa[d](b)}},va={isEnabled:function(){return qa},enable:function(){return qa=!0},disable:function(){return qa=!1},prepare:ua},wa=function(){var a=0;return function(){return a++}}(),xa=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,a),this._lockList=[],this._waitList=[],this._log=b.log||function(){}}return n(a,[{key:"lock",value:function(){var b=this,c=function a(){b._unlock(a)};return c.id=wa(),this._lockList.push(c),this._log("lock: "+c.id),c}},{key:"_unlock",value:function(b){var c=this._lockList.indexOf(b);if(-1===c)throw new Error("This function is not registered in the lock list.");this._lockList.splice(c,1),this._log("unlock: "+b.id),this._tryToFreeWaitList()}},{key:"_tryToFreeWaitList",value:function(){for(;!this.isLocked()&&this._waitList.length>0;)this._waitList.shift()()}},{key:"waitUnlock",value:function(b){if(!(b instanceof Function))throw new Error("The callback param must be a function.");this.isLocked()?this._waitList.push(b):b()}},{key:"isLocked",value:function(){return this._lockList.length>0}}]),a}(),Aa=function(){function a(b,c){m(this,a),this._loader=b instanceof Function?b:ya,this._unloader=c instanceof Function?c:za}return n(a,[{key:"load",value:function(b,c){var d=b.page,e=b.parent,f=b.params,g=void 0===f?{}:f;this._loader({page:d,parent:e,params:g},function(a){if(!(a instanceof Element))throw Error("pageElement must be an instance of Element.");c(a)})}},{key:"unload",value:function(b){if(!(b instanceof Element))throw Error("pageElement must be an instance of Element.");this._unloader(b)}},{key:"internalLoader",set:function(b){if(!(b instanceof Function))throw Error("First parameter must be an instance of Function");this._loader=b},get:function(){return this._loader}}]),a}(),Ba=new Aa,Ca=new Aa(function(a,b){var c=a.page,d=a.parent,g=(a.params,t.createElement(c.trim()));d.appendChild(g),b(g)},za),Da=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,a),this.timing=b.timing||"linear",this.duration=b.duration||0,this.delay=b.delay||0}return n(a,null,[{key:"extend",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=this,d=function(){c.apply(this,arguments),t.extend(this,b)};return d.prototype=this.prototype,d}}]),a}(),Ea={};Ea._util=t,Ea.animit=w,Ea._deviceBackButtonDispatcher=pa,Ea._internal=aa,Ea.GestureDetector=B,Ea.platform=R,Ea.softwareKeyboard=ha,Ea.pageAttributeExpression=_,Ea.orientation=ga,Ea.notification=Z,Ea._animationOptionsParser=j,Ea._autoStyle=va,Ea._DoorLock=xa,Ea._contentReady=Y,Ea.defaultPageLoader=Ba,Ea.PageLoader=Aa,Ea._BaseAnimator=Da,Ea._readyLock=new xa,Ea.platform.select((window.location.search.match(/platform=([\w-]+)/)||[])[1]),Fa(),Ea.isReady=function(){return!Ea._readyLock.isLocked()},Ea.isWebView=Ea.platform.isWebView,Ea.ready=function(a){Ea.isReady()?a():Ea._readyLock.waitUnlock(a)},Ea.setDefaultDeviceBackButtonListener=function(a){Ea._defaultDeviceBackButtonHandler.setListener(a)},Ea.disableDeviceBackButtonHandler=function(){Ea._deviceBackButtonDispatcher.disable()},Ea.enableDeviceBackButtonHandler=function(){Ea._deviceBackButtonDispatcher.enable()},Ea.enableAutoStatusBarFill=function(){if(Ea.isReady())throw new Error("This method must be called before ons.isReady() is true.");Ea._internal.config.autoStatusBarFill=!0},Ea.disableAutoStatusBarFill=function(){if(Ea.isReady())throw new Error("This method must be called before ons.isReady() is true.");Ea._internal.config.autoStatusBarFill=!1},Ea.disableAnimations=function(){Ea._internal.config.animationsDisabled=!0},Ea.enableAnimations=function(){Ea._internal.config.animationsDisabled=!1},Ea.disableAutoStyling=Ea._autoStyle.disable,Ea.enableAutoStyling=Ea._autoStyle.enable,Ea.forcePlatformStyling=function(a){Ea.enableAutoStyling(),Ea.platform.select(a||"ios"),Ea._util.arrayFrom(document.querySelectorAll("*")).forEach(function(a){"ons-if"===a.tagName.toLowerCase()?a._platformUpdate():a.tagName.match(/^ons-/i)&&(Ea._autoStyle.prepare(a,!0),"ons-tabbar"===a.tagName.toLowerCase()&&a._updatePosition())})},Ea._createPopoverOriginal=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!a)throw new Error("Page url must be defined.");return Ea._internal.getPageHTMLAsync(a).then(function(a){a=a.match(/<ons-popover/gi)?"<div>"+a+"</div>":"<ons-popover>"+a+"</ons-popover>";var c=Ea._util.createElement("<div>"+a+"</div>"),d=c.querySelector("ons-popover");return document.body.appendChild(d),b.link instanceof Function&&b.link(d),d})},Ea.createPopover=Ea._createPopoverOriginal,Ea._createDialogOriginal=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!a)throw new Error("Page url must be defined.");return Ea._internal.getPageHTMLAsync(a).then(function(a){a=a.match(/<ons-dialog/gi)?"<div>"+a+"</div>":"<ons-dialog>"+a+"</ons-dialog>";var c=Ea._util.createElement("<div>"+a+"</div>"),d=c.querySelector("ons-dialog");return document.body.appendChild(d),b.link instanceof Function&&b.link(d),d})},Ea.createDialog=Ea._createDialogOriginal,Ea._createAlertDialogOriginal=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!a)throw new Error("Page url must be defined.");return Ea._internal.getPageHTMLAsync(a).then(function(a){a=a.match(/<ons-alert-dialog/gi)?"<div>"+a+"</div>":"<ons-alert-dialog>"+a+"</ons-alert-dialog>";var c=Ea._util.createElement("<div>"+a+"</div>"),d=c.querySelector("ons-alert-dialog");return document.body.appendChild(d),b.link instanceof Function&&b.link(d),d})},Ea.createAlertDialog=Ea._createAlertDialogOriginal,Ea._resolveLoadingPlaceholderOriginal=function(a,b){var c=Ea._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]"));if(!(c.length>0))throw new Error("No ons-loading-placeholder exists.");c.filter(function(a){return!a.getAttribute("page")}).forEach(function(c){c.setAttribute("ons-loading-placeholder",a),Ea._resolveLoadingPlaceholder(c,a,b)})},Ea.resolveLoadingPlaceholder=Ea._resolveLoadingPlaceholderOriginal,Ea._setupLoadingPlaceHolders=function(){Ea.ready(function(){Ea._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]")).forEach(function(a){var b=a.getAttribute("ons-loading-placeholder");"string"==typeof b&&Ea._resolveLoadingPlaceholder(a,b)})})},Ea._resolveLoadingPlaceholder=function(a,b,c){c=c||function(a,b){b()},Ea._internal.getPageHTMLAsync(b).then(function(b){for(;a.firstChild;)a.removeChild(a.firstChild);var d=Ea._util.createElement("<div>"+b+"</div>");d.style.display="none",a.appendChild(d),c(d,function(){d.style.display=""})}).catch(function(a){throw new Error("Unabled to resolve placeholder: "+a)})},window._superSecretOns=Ea;var Ha=function(a){function b(a){var c,d;return m(this,b),a=c=r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),a.init(),d=a,r(c,d)}return q(b,a),n(b,[{key:"init",value:function(){}}]),b}(Ga()),Ia=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){for(this.template=this.innerHTML;this.firstChild;)this.removeChild(this.firstChild)}},{key:"connectedCallback",value:function(){var b=new CustomEvent("_templateloaded",{bubbles:!0,cancelable:!0});b.template=this.template,b.templateId=this.getAttribute("id"),this.dispatchEvent(b)}}]),b}(Ha);customElements.define("ons-template",Ia);var Ja=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){if(null!==R._renderPlatform)b._platformUpdate();else if(!b._isAllowedPlatform()){for(;b.childNodes[0];)b.childNodes[0].remove();b._platformUpdate()}}),this._onOrientationChange()}},{key:"connectedCallback",value:function(){ga.on("change",this._onOrientationChange.bind(this))}},{key:"attributeChangedCallback",value:function(b){"orientation"===b&&this._onOrientationChange()}},{key:"disconnectedCallback",value:function(){ga.off("change",this._onOrientationChange)}},{key:"_platformUpdate",value:function(){this.style.display=this._isAllowedPlatform()?"":"none"}},{key:"_isAllowedPlatform",value:function(){return!this.getAttribute("platform")||this.getAttribute("platform").split(/\s+/).indexOf(R.getMobileOS())>=0}},{key:"_onOrientationChange",value:function(){if(this.hasAttribute("orientation")&&this._isAllowedPlatform()){var b=this.getAttribute("orientation").toLowerCase(),c=ga.isPortrait()?"portrait":"landscape";this.style.display=b===c?"":"none"}}}],[{key:"observedAttributes",get:function(){return["orientation"]}}]),b}(Ha);customElements.define("ons-if",Ja);var Ka=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"linear":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.2:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"show",value:function(b,c){c()}},{key:"hide",value:function(b,c){c()}}]),b}(Da),La=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"cubic-bezier(.1, .7, .4, 1)":c,e=a.duration,f=void 0===e?.2:e,g=a.delay,h=void 0===g?0:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{duration:f,timing:d,delay:h}))}return q(b,a),n(b,[{key:"show",value:function(b,c){c=c||function(){},w.runAll(w(b._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),w(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}},{key:"hide",value:function(b,c){c=c||function(){},w.runAll(w(b._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),w(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}}]),b}(Ka),Ma=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"cubic-bezier(.1, .7, .4, 1)":c,e=a.duration,f=void 0===e?.2:e,g=a.delay,h=void 0===g?0:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{duration:f,timing:d,delay:h}))}return q(b,a),n(b,[{key:"show",value:function(b,c){c=c||function(){},w.runAll(w(b._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),w(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.3, 1.3, 1.0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}},{key:"hide",value:function(b,c){c=c||function(){},w.runAll(w(b._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),w(b._dialog).saveStyle().queue({css:{opacity:1},duration:0}).wait(this.delay).queue({css:{opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}}]),b}(Ka),Na={".alert-dialog":"alert-dialog--*",".alert-dialog-container":"alert-dialog-container--*",".alert-dialog-title":"alert-dialog-title--*",".alert-dialog-content":"alert-dialog-content--*",".alert-dialog-footer":"alert-dialog-footer--*",".alert-dialog-button":"alert-dialog-button--*",".alert-dialog-footer--one":"alert-dialog-footer--one--*",".alert-dialog-button--one":"alert-dialog-button--one--*",".alert-dialog-button--primal":"alert-dialog-button--primal--*",".alert-dialog-mask":"alert-dialog-mask--*",".text-input":"text-input--*"},Oa={none:Ka,default:function(){return R.isAndroid()?La:Ma},fade:function(){return R.isAndroid()?La:Ma}},Pa=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){return b._compile()}),this._visible=!1,this._doorLock=new xa,this._boundCancel=this._cancel.bind(this),this._updateAnimatorFactory()}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new ba({animators:Oa,baseClass:Ka,baseClassName:"AlertDialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){va.prepare(this),this.style.display="none";var b=document.createDocumentFragment();if(!this._mask&&!this._dialog)for(;this.firstChild;)b.appendChild(this.firstChild);if(!this._mask){var c=document.createElement("div");c.classList.add("alert-dialog-mask"),this.insertBefore(c,this.children[0])}if(!this._dialog){var d=document.createElement("div");d.classList.add("alert-dialog"),this.insertBefore(d,null)}if(!t.findChild(this._dialog,".alert-dialog-container")){var e=document.createElement("div");e.classList.add("alert-dialog-container"),this._dialog.appendChild(e)}this._dialog.children[0].appendChild(b),this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.getAttribute("mask-color")&&(this._mask.style.backgroundColor=this.getAttribute("mask-color")),ca.initModifier(this,Na)}},{key:"show",value:function(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=!1,e=c.callback||function(){};if(c.animationOptions=t.extend(c.animationOptions||{},ba.parseAnimationOptionsString(this.getAttribute("animation-options"))),t.triggerElementEvent(this,"preshow",{alertDialog:this,cancel:function(){d=!0}}),d)return Promise.reject("Canceled in preshow event.");var f=function(){var a=function(){var d=b._doorLock.lock(),f=b._animatorFactory.newAnimator(c);return b.style.display="block",b._mask.style.opacity="1",new Promise(function(a){Y(b,function(){f.show(b,function(){b._visible=!0,d(),t.triggerElementEvent(b,"postshow",{alertDialog:b}),e(),a(b)})})})};return{v:new Promise(function(c){b._doorLock.waitUnlock(function(){return c(a())})})}}();return"object"===(void 0===f?"undefined":k(f))?f.v:void 0}},{key:"hide",value:function(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=!1,e=c.callback||function(){};if(c.animationOptions=t.extend(c.animationOptions||{},ba.parseAnimationOptionsString(this.getAttribute("animation-options"))),t.triggerElementEvent(this,"prehide",{alertDialog:this,cancel:function(){d=!0}}),d)return Promise.reject("Canceled in prehide event.");var f=function(){var a=function(){var d=b._doorLock.lock(),f=b._animatorFactory.newAnimator(c);return new Promise(function(a){Y(b,function(){f.hide(b,function(){b.style.display="none",b._visible=!1,d(),t.triggerElementEvent(b,"posthide",{alertDialog:b}),e(),a(b)})})})};return{v:new Promise(function(c){b._doorLock.waitUnlock(function(){return c(a())})})}}();return"object"===(void 0===f?"undefined":k(f))?f.v:void 0}},{key:"_cancel",value:function(){var b=this;this.cancelable&&!this._running&&(this._running=!0,this.hide().then(function(){b._running=!1,t.triggerElementEvent(b,"dialog-cancel")},function(){return b._running=!1}))}},{key:"connectedCallback",value:function(){var b=this;this.onDeviceBackButton=function(a){return b.cancelable?b._cancel():a.callParentHandler()},Y(this,function(){b._mask.addEventListener("click",b._boundCancel,!1)})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._mask.removeEventListener("click",this._boundCancel.bind(this),!1)}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,Na);"animation"===b&&this._updateAnimatorFactory()}},{key:"_mask",get:function(){return t.findChild(this,".alert-dialog-mask")}},{key:"_dialog",get:function(){return t.findChild(this,".alert-dialog")}},{key:"_titleElement",get:function(){return t.findChild(this._dialog.children[0],".alert-dialog-title")}},{key:"_contentElement",get:function(){return t.findChild(this._dialog.children[0],".alert-dialog-content")}},{key:"disabled",set:function(b){return t.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"cancelable",set:function(b){return t.toggleAttribute(this,"cancelable",b)},get:function(){return this.hasAttribute("cancelable")}},{key:"visible",get:function(){return this._visible}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=pa.createHandler(this,b)}}],[{key:"registerAnimator",value:function(b,c){if(!(c.prototype instanceof Ka))throw new Error('"Animator" param must inherit OnsAlertDialogElement.AlertDialogAnimator');Oa[b]=c}},{key:"observedAttributes",get:function(){return["modifier","animation"]}},{key:"animators",get:function(){return Oa}},{key:"AlertDialogAnimator",get:function(){return Ka}}]),b}(Ha);customElements.define("ons-alert-dialog",Pa);var Qa={"":"back-button--*",".back-button__icon":"back-button--*__icon",".back-button__label":"back-button--*__label"},Ra=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){b._compile()}),this._options={},this._boundOnClick=this._onClick.bind(this)}},{key:"_compile",value:function(){if(va.prepare(this),this.classList.add("back-button"),!t.findChild(this,".back-button__label")){for(var b=t.create("span.back-button__label");this.childNodes[0];)b.appendChild(this.childNodes[0]);this.appendChild(b)}if(!t.findChild(this,".back-button__icon")){var c=t.create("span.back-button__icon");this.insertBefore(c,this.children[0])}ca.initModifier(this,Qa)}},{key:"_onClick",value:function(){if(this.onClick)this.onClick.apply(this);else{var b=t.findParent(this,"ons-navigator");b&&b.popPage(this.options)}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,Qa)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"show",value:function(){this.style.display="inline-block"}},{key:"hide",value:function(){this.style.display="none"}},{key:"options",get:function(){return this._options},set:function(b){this._options=b}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),b}(Ha);customElements.define("ons-back-button",Ra);var Sa={"":"bottom-bar--*"},Ta=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this.classList.add("bottom-bar"),ca.initModifier(this,Sa)}},{key:"connectedCallback",value:function(){t.match(this.parentNode,"ons-page")&&this.parentNode.classList.add("page-with-bottom-toolbar")}},{key:"attributeChangedCallback",value:function(b,c,d){"modifier"===b&&ca.onModifierChanged(c,d,this,Sa)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),b}(Ha);customElements.define("ons-bottom-toolbar",Ta);var Ua={"":"button--*"},Va=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this._compile()}},{key:"attributeChangedCallback",value:function(b,c,d){switch(b){case"modifier":ca.onModifierChanged(c,d,this,Ua);break;case"ripple":this._updateRipple()}}},{key:"_compile",value:function(){va.prepare(this),this.classList.add("button"),this._updateRipple(),ca.initModifier(this,Ua)}},{key:"_updateRipple",value:function(){t.updateRipple(this)}},{key:"disabled",set:function(b){return t.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["modifier","ripple"]}}]),b}(Ha);customElements.define("ons-button",Va);var Wa={"":"carousel-item--*"},Xa=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this.style.width="100%",ca.initModifier(this,Wa)}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,Wa)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),b}(Ha);customElements.define("ons-carousel-item",Xa);var Ya={_getScrollDelta:function(b){return b.gesture.deltaY},_getScrollVelocity:function(b){return b.gesture.velocityY},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this.getBoundingClientRect().height),this._currentElementSize},_generateScrollTransform:function(b){return"translate3d(0px, "+-b+"px, 0px)"},_updateDimensionData:function(){this._style=window.getComputedStyle(this),this._dimensions=this.getBoundingClientRect()},_updateOffset:function(){if(this.centered){var b=(this._dimensions.height||0)-parseInt(this._style.paddingTop,10)-parseInt(this._style.paddingBottom,10);this._offset=-(b-this._getCarouselItemSize())/2}},_layoutCarouselItems:function(){for(var b=this._getCarouselItemElements(),c=this._getCarouselItemSizeAttr(),d=this._decomposeSizeString(c),e=0;e<b.length;e++)b[e].style.position="absolute",b[e].style.height=c,b[e].style.visibility="visible",b[e].style.top=e*d.number+d.unit},_setup:function(){this._updateDimensionData(),this._updateOffset(),this._layoutCarouselItems()}},Za={_getScrollDelta:function(b){return b.gesture.deltaX},_getScrollVelocity:function(b){return b.gesture.velocityX},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this.getBoundingClientRect().width),this._currentElementSize},_generateScrollTransform:function(b){return"translate3d("+-b+"px, 0px, 0px)"},_updateDimensionData:function(){this._style=window.getComputedStyle(this),this._dimensions=this.getBoundingClientRect()},_updateOffset:function(){if(this.centered){var b=(this._dimensions.width||0)-parseInt(this._style.paddingLeft,10)-parseInt(this._style.paddingRight,10);this._offset=-(b-this._getCarouselItemSize())/2}},_layoutCarouselItems:function(){for(var b=this._getCarouselItemElements(),c=this._getCarouselItemSizeAttr(),d=this._decomposeSizeString(c),e=0;e<b.length;e++)b[e].style.position="absolute",b[e].style.width=c,b[e].style.visibility="visible",b[e].style.left=e*d.number+d.unit},_setup:function(){this._updateDimensionData(),this._updateOffset(),this._layoutCarouselItems()}},$a=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this._doorLock=new xa,this._scroll=0,this._offset=0,this._lastActiveIndex=0,this._boundOnDrag=this._onDrag.bind(this),this._boundOnDragEnd=this._onDragEnd.bind(this),this._boundOnResize=this._onResize.bind(this),this._mixin(this._isVertical()?Ya:Za)}},{key:"_onResize",value:function(){var b=this._scroll/this._currentElementSize;delete this._currentElementSize,this.setActiveIndex(b)}},{key:"_onDirectionChange",value:function(){this._isVertical()?(this.style.overflowX="auto",this.style.overflowY=""):(this.style.overflowX="",this.style.overflowY="auto"),this.refresh()}},{key:"_saveLastState",value:function(){this._lastState={elementSize:this._getCarouselItemSize(),carouselElementCount:this.itemCount,width:this._getCarouselItemSize()*this.itemCount}}},{key:"_getCarouselItemSize",value:function(){var b=this._getCarouselItemSizeAttr(),c=this._decomposeSizeString(b),d=this._getElementSize();if("%"===c.unit)return Math.round(c.number/100*d);if("px"===c.unit)return c.number;throw new Error("Invalid state")}},{key:"_getInitialIndex",value:function(){var b=parseInt(this.getAttribute("initial-index"),10);return"number"!=typeof b||isNaN(b)?0:Math.max(Math.min(b,this.itemCount-1),0)}},{key:"_getCarouselItemSizeAttr",value:function(){var b="item-"+(this._isVertical()?"height":"width"),c=(""+this.getAttribute(b)).trim();return c.match(/^\d+(px|%)$/)?c:"100%"}},{key:"_decomposeSizeString",value:function(b){var c=b.match(/^(\d+)(px|%)/);return{number:parseInt(c[1],10),unit:c[2]}}},{key:"_setupInitialIndex",value:function(){this._scroll=(this._offset||0)+this._getCarouselItemSize()*this._getInitialIndex(),this._lastActiveIndex=this._getInitialIndex(),this._scrollTo(this._scroll)}},{key:"setActiveIndex",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(d&&"object"!=(void 0===d?"undefined":k(d)))throw new Error("options must be an object. You supplied "+d);d.animationOptions=t.extend({duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"},d.animationOptions||{},this.hasAttribute("animation-options")?t.animationOptionsParse(this.getAttribute("animation-options")):{}),b=Math.max(0,Math.min(b,this.itemCount-1));var e=(this._offset||0)+this._getCarouselItemSize()*b,f=this._calculateMaxScroll();return this._scroll=Math.max(0,Math.min(f,e)),this._scrollTo(this._scroll,d).then(function(){return c._tryFirePostChangeEvent(),c})}},{key:"getActiveIndex",value:function(){var b=this._scroll-(this._offset||0),c=this.itemCount,d=this._getCarouselItemSize();if(b<0)return 0;var e=void 0;for(e=0;e<c;e++)if(d*e<=b&&d*(e+1)>b)return e;return e}},{key:"next",value:function(b){return this.setActiveIndex(this.getActiveIndex()+1,b)}},{key:"prev",value:function(b){return this.setActiveIndex(this.getActiveIndex()-1,b)}},{key:"_isEnabledChangeEvent",value:function(){var b=this._getElementSize(),c=this._getCarouselItemSize();return this.autoScroll&&Math.abs(b-c)<.5}},{key:"_isVertical",value:function(){return"vertical"===this.getAttribute("direction")}},{key:"_prepareEventListeners",value:function(){var b=this;this._gestureDetector=new B(this,{dragMinDistance:1,dragLockToAxis:!0}),this._mutationObserver=new MutationObserver(function(){return b.refresh()}),this._updateSwipeable(),this._updateAutoRefresh(),window.addEventListener("resize",this._boundOnResize,!0)}},{key:"_removeEventListeners",value:function(){this._gestureDetector.dispose(),this._gestureDetector=null,this._mutationObserver.disconnect(),this._mutationObserver=null,window.removeEventListener("resize",this._boundOnResize,!0)}},{key:"_updateSwipeable",value:function(){this._gestureDetector&&(this.swipeable?(this._gestureDetector.on("drag dragleft dragright dragup dragdown swipe swipeleft swiperight swipeup swipedown",this._boundOnDrag),this._gestureDetector.on("dragend",this._boundOnDragEnd)):(this._gestureDetector.off("drag dragleft dragright dragup dragdown swipe swipeleft swiperight swipeup swipedown",this._boundOnDrag),this._gestureDetector.off("dragend",this._boundOnDragEnd)))}},{key:"_updateAutoRefresh",value:function(){this._mutationObserver&&(this.hasAttribute("auto-refresh")?this._mutationObserver.observe(this,{childList:!0}):this._mutationObserver.disconnect())}},{key:"_tryFirePostChangeEvent",value:function(){var b=this.getActiveIndex();if(this._lastActiveIndex!==b){var c=this._lastActiveIndex;this._lastActiveIndex=b,t.triggerElementEvent(this,"postchange",{carousel:this,activeIndex:b,lastActiveIndex:c})}}},{key:"_isWrongDirection",value:function(b){return this._isVertical()?"left"===b||"right"===b:"up"===b||"down"===b}},{key:"_onDrag",value:function(b){if(!this._isWrongDirection(b.gesture.direction)){b.stopPropagation(),this._lastDragEvent=b;var c=this._scroll-this._getScrollDelta(b);this._scrollTo(c),b.gesture.preventDefault(),this._tryFirePostChangeEvent()}}},{key:"_onDragEnd",value:function(b){var c=this;if(this._lastDragEvent){if(this._currentElementSize=void 0,this._scroll=this._scroll-this._getScrollDelta(b),this._isOverScroll(this._scroll)){var d=!1;t.triggerElementEvent(this,"overscroll",{carousel:this,activeIndex:this.getActiveIndex(),direction:this._getOverScrollDirection(),waitToReturn:function(b){d=!0,b.then(function(){return c._scrollToKillOverScroll()})}}),d||this._scrollToKillOverScroll()}else this._startMomentumScroll();this._lastDragEvent=null,b.gesture.preventDefault()}}},{key:"_mixin",value:function(b){Object.keys(b).forEach(function(a){this[a]=b[a]}.bind(this))}},{key:"_startMomentumScroll",value:function(){if(this._lastDragEvent){var b=this._getScrollVelocity(this._lastDragEvent),c=.3,d=100*c*b,e=this._normalizeScrollPosition(this._scroll+(this._getScrollDelta(this._lastDragEvent)>0?-d:d));this._scroll=e,w(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(this._scroll)},{duration:c,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(a){a(),this._tryFirePostChangeEvent()}.bind(this)).play()}}},{key:"_normalizeScrollPosition",value:function(b){var c=this._calculateMaxScroll();if(!this.autoScroll)return Math.max(0,Math.min(c,b));for(var d=[],e=this._getCarouselItemSize(),f=this.itemCount,g=0;g<f;g++)g*e+this._offset<c&&d.push(g*e+this._offset);d.push(c),d.sort(function(a,c){return a=Math.abs(a-b),c=Math.abs(c-b),a-c}),d=d.filter(function(a,b){return!b||a!=d[b-1]});var h=this._lastActiveIndex*e+this._offset,i=Math.abs(b-h)/e,j=d[0];return i<=this.autoScrollRatio?j=h:i<1&&d[0]===h&&d.length>1&&(j=d[1]),Math.max(0,Math.min(c,j))}},{key:"_getCarouselItemElements",value:function(){return t.arrayFrom(this.children).filter(function(a){return"ons-carousel-item"===a.nodeName.toLowerCase()})}},{key:"_scrollTo",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this.overscrollable,f=function(b){var d=.35;if(b<0)return e?Math.round(b*d):0;var f=c._calculateMaxScroll();return f<b?e?f+Math.round((b-f)*d):f:b};return new Promise(function(a){w(c._getCarouselItemElements()).queue({transform:c._generateScrollTransform(f(b))},"none"!==d.animation?d.animationOptions:{}).play(function(){d.callback instanceof Function&&d.callback(),a()})})}},{key:"_calculateMaxScroll",value:function(){var b=this.itemCount*this._getCarouselItemSize()-this._getElementSize();return Math.ceil(b<0?0:b)}},{key:"_isOverScroll",value:function(b){return b<0||b>this._calculateMaxScroll()}},{key:"_getOverScrollDirection",value:function(){return this._isVertical()?this._scroll<=0?"up":"down":this._scroll<=0?"left":"right"}},{key:"_scrollToKillOverScroll",value:function(){var b=.4;if(this._scroll<0)return w(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(0)},{duration:b,timing:"cubic-bezier(.1, .4, .1, 1)"}).queue(function(a){a(),this._tryFirePostChangeEvent()}.bind(this)).play(),void(this._scroll=0);var c=this._calculateMaxScroll();return c<this._scroll?(w(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(c)},{duration:b,timing:"cubic-bezier(.1, .4, .1, 1)"}).queue(function(a){a(),this._tryFirePostChangeEvent()}.bind(this)).play(),void(this._scroll=c)):void 0}},{key:"refresh",value:function(){if(0!==this._getCarouselItemSize()){if(this._mixin(this._isVertical()?Ya:Za),this._setup(),this._lastState&&this._lastState.width>0){var b=this._scroll;this._isOverScroll(b)?this._scrollToKillOverScroll():(this.autoScroll&&(b=this._normalizeScrollPosition(b)),this._scrollTo(b))}this._saveLastState(),t.triggerElementEvent(this,"refresh",{carousel:this})}}},{key:"first",value:function(b){return this.setActiveIndex(0,b)}},{key:"last",value:function(b){this.setActiveIndex(Math.max(this.itemCount-1,0),b)}},{key:"connectedCallback",value:function(){var b=this;this._prepareEventListeners(),this._setup(),this._setupInitialIndex(),this._saveLastState(),0===this.offsetHeight&&setImmediate(function(){return b.refresh()})}},{key:"attributeChangedCallback",value:function(b,c,d){switch(b){case"swipeable":this._updateSwipeable();break;case"auto-refresh":this._updateAutoRefresh();break;case"direction":this._onDirectionChange()}}},{key:"disconnectedCallback",value:function(){this._removeEventListeners()}},{key:"itemCount",get:function(){return this._getCarouselItemElements().length}},{key:"autoScrollRatio",get:function(){var b=this.getAttribute("auto-scroll-ratio");if(!b)return.5;var c=parseFloat(b);if(c<0||c>1)throw new Error("Invalid ratio.");return isNaN(c)?.5:c},set:function(b){if(b<0||b>1)throw new Error("Invalid ratio.");this.setAttribute("auto-scroll-ratio",b)}},{key:"swipeable",get:function(){return this.hasAttribute("swipeable")},set:function(b){return t.toggleAttribute(this,"swipeable",b)}},{key:"autoScroll",get:function(){return this.hasAttribute("auto-scroll")},set:function(b){return t.toggleAttribute(this,"auto-scroll",b)}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(b){return t.toggleAttribute(this,"disabled",b)}},{key:"overscrollable",get:function(){return this.hasAttribute("overscrollable")},set:function(b){return t.toggleAttribute(this,"overscrollable",b)}},{key:"centered",get:function(){return this.hasAttribute("centered")},set:function(b){return t.toggleAttribute(this,"centered",b)}}],[{key:"observedAttributes",get:function(){return["swipeable","auto-refresh","direction"]}}]),b}(Ha);customElements.define("ons-carousel",$a);var _a=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this.getAttribute("width")&&this._updateWidth()}},{key:"attributeChangedCallback",value:function(b,c,d){"width"===b&&this._updateWidth()}},{key:"_updateWidth",value:function(){var b=this.getAttribute("width");"string"==typeof b&&(b=(""+b).trim(),b=b.match(/^\d+$/)?b+"%":b,this.style.webkitBoxFlex="0",this.style.webkitFlex="0 0 "+b,this.style.mozBoxFlex="0",this.style.mozFlex="0 0 "+b,this.style.msFlex="0 0 "+b,this.style.flex="0 0 "+b,this.style.maxWidth=b)}}],[{key:"observedAttributes",get:function(){return["width"]}}]),b}(Ha);customElements.define("ons-col",_a);var ab=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"linear":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.2:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"show",value:function(b,c){c()}},{key:"hide",value:function(b,c){c()}}]),b}(Da),bb=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"ease-in-out":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.3:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"show",value:function(b,c){c=c||function(){},w.runAll(w(b._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),w(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}},{key:"hide",value:function(b,c){c=c||function(){},w.runAll(w(b._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),w(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}}]),b}(ab),cb=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"ease-in-out":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.3:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"show",value:function(b,c){c=c||function(){},w.runAll(w(b._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),w(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, 300%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}},{key:"hide",value:function(b,c){c=c||function(){},w.runAll(w(b._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),w(b._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, 300%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}}]),b}(ab),db=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"cubic-bezier(.1, .7, .4, 1)":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.2:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"show",value:function(b,c){c=c||function(){},w.runAll(w(b._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),w(b._dialog).saveStyle().queue({css:{transform:"translate3D(-50%, -350%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}},{key:"hide",value:function(b,c){c=c||function(){},w.runAll(w(b._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),w(b._dialog).saveStyle().queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-50%, -350%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){c(),a()}))}}]),b}(ab),eb={".dialog":"dialog--*",".dialog-container":"dialog-container--*",".dialog-mask":"dialog-mask--*"},fb={default:function(){return R.isAndroid()?bb:cb},slide:db,none:ab},gb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){return b._compile()}),this._visible=!1,this._doorLock=new xa,this._boundCancel=this._cancel.bind(this),this._updateAnimatorFactory()}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new ba({animators:fb,baseClass:ab,baseClassName:"DialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(va.prepare(this),this.style.display="none",!this._dialog){var b=document.createElement("div");b.classList.add("dialog");var c=document.createElement("div");for(b.classList.add("dialog-container"),b.appendChild(c);this.firstChild;)c.appendChild(this.firstChild);this.appendChild(b)}if(!this._mask){var d=document.createElement("div");d.classList.add("dialog-mask"),this.insertBefore(d,this.firstChild)}this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.setAttribute("status-bar-fill",""),ca.initModifier(this,eb)}},{key:"_cancel",value:function(){var b=this;this.cancelable&&!this._running&&(this._running=!0,this.hide().then(function(){b._running=!1,t.triggerElementEvent(b,"dialog-cancel")},function(){return b._running=!1}))}},{key:"show",value:function(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=!1,e=c.callback||function(){};if(c.animationOptions=t.extend(c.animationOptions||{},ba.parseAnimationOptionsString(this.getAttribute("animation-options"))),t.triggerElementEvent(this,"preshow",{dialog:this,cancel:function(){d=!0}}),d)return Promise.reject("Canceled in preshow event.");var f=function(){var a=function(){var d=b._doorLock.lock(),f=b._animatorFactory.newAnimator(c);return b.style.display="block",b._mask.style.opacity="1",new Promise(function(a){Y(b,function(){f.show(b,function(){b._visible=!0,d(),t.triggerElementEvent(b,"postshow",{dialog:b}),e(),a(b)})})})};return{v:new Promise(function(c){b._doorLock.waitUnlock(function(){return c(a())})})}}();return"object"===(void 0===f?"undefined":k(f))?f.v:void 0}},{key:"hide",value:function(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=!1,e=c.callback||function(){};if(c.animationOptions=t.extend(c.animationOptions||{},ba.parseAnimationOptionsString(this.getAttribute("animation-options"))),t.triggerElementEvent(this,"prehide",{dialog:this,cancel:function(){d=!0}}),d)return Promise.reject("Canceled in prehide event.");var f=function(){var a=function(){var d=b._doorLock.lock(),f=b._animatorFactory.newAnimator(c);return new Promise(function(a){Y(b,function(){f.hide(b,function(){b.style.display="none",b._visible=!1,d(),t.triggerElementEvent(b,"posthide",{dialog:b}),e(),a(b)})})})};return{v:new Promise(function(c){b._doorLock.waitUnlock(function(){return c(a())})})}}();return"object"===(void 0===f?"undefined":k(f))?f.v:void 0}},{key:"connectedCallback",value:function(){var b=this;this.onDeviceBackButton=function(a){return b.cancelable?b._cancel():a.callParentHandler()},Y(this,function(){b._mask.addEventListener("click",b._boundCancel,!1)})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._mask.removeEventListener("click",this._boundCancel.bind(this),!1)}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,eb);"animation"===b&&this._updateAnimatorFactory()}},{key:"_mask",get:function(){return t.findChild(this,".dialog-mask")}},{key:"_dialog",get:function(){return t.findChild(this,".dialog")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=pa.createHandler(this,b)}},{key:"visible",get:function(){return this._visible}},{key:"disabled",set:function(b){return t.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"cancelable",set:function(b){return t.toggleAttribute(this,"cancelable",b)},get:function(){return this.hasAttribute("cancelable")}}],[{key:"registerAnimator",value:function(b,c){if(!(c.prototype instanceof ab))throw new Error('"Animator" param must inherit OnsDialogElement.DialogAnimator');fb[b]=c}},{key:"observedAttributes",get:function(){return["modifier","animation"]}},{key:"animators",get:function(){return fb}},{key:"DialogAnimator",get:function(){return ab}}]),b}(Ha);customElements.define("ons-dialog",gb);var hb={"":"fab--*"},ib=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){b._compile()})}},{key:"_compile",value:function(){var b=this;va.prepare(this),this.classList.add("fab"),t.findChild(this,".fab__icon")||function(){var a=document.createElement("span");a.classList.add("fab__icon"),t.arrayFrom(b.childNodes).forEach(function(b){b.tagName&&"ons-ripple"===b.tagName.toLowerCase()||a.appendChild(b)}),b.appendChild(a)}(),this._updateRipple(),ca.initModifier(this,hb),this._updatePosition(),this.show()}},{key:"attributeChangedCallback",value:function(b,c,d){switch(b){case"modifier":ca.onModifierChanged(c,d,this,hb);break;case"ripple":this._updateRipple();break;case"position":this._updatePosition()}}},{key:"_show",value:function(){this.show()}},{key:"_hide",value:function(){this.hide()}},{key:"_updateRipple",value:function(){t.updateRipple(this)}},{key:"_updatePosition",value:function(){var b=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),b){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.style.transform="scale(1)",this.style.webkitTransform="scale(1)"}},{key:"hide",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.style.transform="scale(0)",this.style.webkitTransform="scale(0)"}},{key:"toggle",value:function(){this.visible?this.hide():this.show()}},{key:"disabled",set:function(b){return t.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"visible",get:function(){return"scale(1)"===this.style.transform&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","position"]}}]),b}(Ha);customElements.define("ons-fab",ib);var jb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this._gestureDetector=new B(this)}}]),b}(Ha);customElements.define("ons-gesture-detector",jb);var kb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this._compile()}},{key:"attributeChangedCallback",value:function(b,c,d){-1!==["icon","size","modifier"].indexOf(b)&&this._update()}},{key:"_compile",value:function(){va.prepare(this),this._update()}},{key:"_update",value:function(){var b=this;this._cleanClassAttribute();var c=this._buildClassAndStyle(this._getAttribute("icon"),this._getAttribute("size")),d=c.classList,e=c.style;t.extend(this.style,e),d.forEach(function(a){return b.classList.add(a)})}},{key:"_getAttribute",value:function(b){var c=(this.getAttribute(b)||"").split(/\s*,\s*/),d=c[0],e=c[1];return e=(e||"").split(/\s*:\s*/),(t.hasModifier(this,e[0])?e[1]:d)||""}},{key:"_cleanClassAttribute",value:function(){var b=this;t.arrayFrom(this.classList).filter(function(a){return/^(fa$|fa-|ion-|zmdi-)/.test(a)}).forEach(function(a){return b.classList.remove(a)}),this.classList.remove("zmdi"),this.classList.remove("ons-icon--ion")}},{key:"_buildClassAndStyle",value:function(b,c){var d=["ons-icon"],e={};return 0===b.indexOf("ion-")?(d.push(b),d.push("ons-icon--ion")):0===b.indexOf("fa-")?(d.push(b),d.push("fa")):0===b.indexOf("md-")?(d.push("zmdi"),d.push("zmdi-"+b.split(/\-(.+)?/)[1])):(d.push("fa"),d.push("fa-"+b)),c.match(/^[1-5]x|lg$/)?(d.push("fa-"+c),this.style.removeProperty("font-size")):e.fontSize=c,{classList:d,style:e}}}],[{key:"observedAttributes",get:function(){return["icon","size","modifier"]}}]),b}(Ha);customElements.define("ons-icon",kb);var lb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"connectedCallback",value:function(){t.updateParentPosition(this),this.hasAttribute("delegate")&&(this.delegate=window[this.getAttribute("delegate")])}},{key:"refresh",value:function(){this._lazyRepeatProvider&&this._lazyRepeatProvider.refresh()}},{key:"attributeChangedCallback",value:function(b,c,d){}},{key:"disconnectedCallback",value:function(){this._lazyRepeatProvider&&(this._lazyRepeatProvider.destroy(),this._lazyRepeatProvider=null)}},{key:"delegate",set:function(b){this._lazyRepeatProvider&&this._lazyRepeatProvider.destroy(),!this._templateElement&&this.children[0]&&(this._templateElement=this.removeChild(this.children[0]));var c=new da(b,this._templateElement||null);this._lazyRepeatProvider=new ea(this.parentElement,c)},get:function(){throw new Error("This property can only be used to set the delegate object.")}}]),b}(Ha);customElements.define("ons-lazy-repeat",lb);var mb={"":"list__header--*"},nb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){va.prepare(this),this.classList.add("list__header"),ca.initModifier(this,mb)}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,mb)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),b}(Ha);customElements.define("ons-list-header",nb);var ob={".list__item":"list__item--*",".list__item__left":"list__item--*__left",".list__item__center":"list__item--*__center",".list__item__right":"list__item--*__right",".list__item__label":"list__item--*__label",".list__item__title":"list__item--*__title",".list__item__subtitle":"list__item--*__subtitle",".list__item__thumbnail":"list__item--*__thumbnail",".list__item__icon":"list__item--*__icon"},pb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){b._compile()})}},{key:"_compile",value:function(){this.classList.add("list__item");for(var b=void 0,c=void 0,d=void 0,e=0;e<this.children.length;e++){var f=this.children[e];f.classList.contains("left")?(f.classList.add("list__item__left"),b=f):f.classList.contains("center")?c=f:f.classList.contains("right")&&(f.classList.add("list__item__right"),d=f)}if(!c){if(c=document.createElement("div"),b||d)for(var g=this.childNodes.length-1;g>=0;g--){var h=this.childNodes[g];h!==b&&h!==d&&c.insertBefore(h,c.firstChild)}else for(;this.childNodes[0];)c.appendChild(this.childNodes[0]);this.insertBefore(c,d||null)}c.classList.add("center"),c.classList.add("list__item__center"),this._updateRipple(),ca.initModifier(this,ob),va.prepare(this)}},{key:"attributeChangedCallback",value:function(b,c,d){switch(b){case"modifier":ca.onModifierChanged(c,d,this,ob);break;case"ripple":this._updateRipple()}}},{key:"connectedCallback",value:function(){this.addEventListener("drag",this._onDrag),this.addEventListener("touchstart",this._onTouch),this.addEventListener("mousedown",this._onTouch),this.addEventListener("touchend",this._onRelease),this.addEventListener("touchmove",this._onRelease),this.addEventListener("touchcancel",this._onRelease),this.addEventListener("mouseup",this._onRelease),this.addEventListener("mouseout",this._onRelease),this.addEventListener("touchleave",this._onRelease),this._originalBackgroundColor=this.style.backgroundColor,this.tapped=!1}},{key:"disconnectedCallback",value:function(){this.removeEventListener("drag",this._onDrag),this.removeEventListener("touchstart",this._onTouch),this.removeEventListener("mousedown",this._onTouch),this.removeEventListener("touchend",this._onRelease),this.removeEventListener("touchmove",this._onRelease),this.removeEventListener("touchcancel",this._onRelease),this.removeEventListener("mouseup",this._onRelease),this.removeEventListener("mouseout",this._onRelease),this.removeEventListener("touchleave",this._onRelease)}},{key:"_updateRipple",value:function(){t.updateRipple(this)}},{key:"_onDrag",value:function(b){var c=b.gesture;this._shouldLockOnDrag()&&["left","right"].indexOf(c.direction)>-1&&c.preventDefault()}},{key:"_onTouch",value:function(){this.tapped||(this.tapped=!0,this.style.transition=this._transition,this.style.webkitTransition=this._transition,this.style.MozTransition=this._transition,this._tappable&&(this.style.backgroundColor&&(this._originalBackgroundColor=this.style.backgroundColor),this.style.backgroundColor=this._tapBackgroundColor,this.style.boxShadow="0px -1px 0px 0px "+this._tapBackgroundColor))}},{key:"_onRelease",value:function(){this.tapped=!1,this.style.transition="",this.style.webkitTransition="",this.style.MozTransition="",this.style.backgroundColor=this._originalBackgroundColor||"",this.style.boxShadow=""}},{key:"_shouldLockOnDrag",value:function(){return this.hasAttribute("lock-on-drag")}},{key:"_transition",get:function(){return"background-color 0.0s linear 0.02s, box-shadow 0.0s linear 0.02s"}},{key:"_tappable",get:function(){return this.hasAttribute("tappable")}},{key:"_tapBackgroundColor",get:function(){return this.getAttribute("tap-background-color")||"#d9d9d9"}}],[{key:"observedAttributes",get:function(){return["modifier","ripple"]}}]),b}(Ha);customElements.define("ons-list-item",pb);var qb={"":"list--*"},rb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){va.prepare(this),this.classList.add("list"),ca.initModifier(this,qb)}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,qb)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),b}(Ha);customElements.define("ons-list",rb);var sb={".text-input":"text-input--*",".text-input__label":"text-input--*__label",".radio-button":"radio-button--*",".radio-button__input":"radio-button--*__input",".radio-button__checkmark":"radio-button--*__checkmark",".checkbox":"checkbox--*",".checkbox__input":"checkbox--*__input",".checkbox__checkmark":"checkbox--*__checkmark"},tb=["autocapitalize","autocomplete","autocorrect","autofocus","disabled","inputmode","max","maxlength","min","minlength","name","pattern","placeholder","readonly","size","step","type","validator","value"],ub=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){b._compile(),b.attributeChangedCallback("checked",null,b.getAttribute("checked"))}),this._boundOnInput=this._onInput.bind(this),this._boundOnFocusin=this._onFocusin.bind(this),this._boundDelegateEvent=this._delegateEvent.bind(this)}},{key:"_compile",value:function(){if(va.prepare(this),0===this.children.length){var b=document.createElement("span");b.classList.add("_helper");var c=document.createElement("label");c.appendChild(document.createElement("input")),c.appendChild(b);var d=document.createElement("span");switch(d.classList.add("input-label"),t.arrayFrom(this.childNodes).forEach(function(a){return d.appendChild(a)}),this.hasAttribute("content-left")?c.insertBefore(d,c.firstChild):c.appendChild(d),this.appendChild(c),this.getAttribute("type")){case"checkbox":this.classList.add("checkbox"),this._input.classList.add("checkbox__input"),this._helper.classList.add("checkbox__checkmark"),this._updateBoundAttributes();break;case"radio":this.classList.add("radio-button"),this._input.classList.add("radio-button__input"),this._helper.classList.add("radio-button__checkmark"),this._updateBoundAttributes();break;default:this._input.classList.add("text-input"),this._helper.classList.add("text-input__label"),this._input.parentElement.classList.add("text-input__container"),this._updateLabel(),this._updateBoundAttributes(),this._updateLabelClass()}this.hasAttribute("input-id")&&(this._input.id=this.getAttribute("input-id")),ca.initModifier(this,sb)}}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;if("modifier"===b)return Y(this,function(){return ca.onModifierChanged(c,d,e,sb)});if("placeholder"===b)return Y(this,function(){return e._updateLabel()});if("input-id"===b&&Y(this,function(){return e._input.id=d}),"checked"===b)this.checked=null!==d;else if(tb.indexOf(b)>=0)return Y(this,function(){return e._updateBoundAttributes()})}},{key:"connectedCallback",value:function(){var b=this;Y(this,function(){"checkbox"!==b._input.type&&"radio"!==b._input.type&&(b._input.addEventListener("input",b._boundOnInput),b._input.addEventListener("focusin",b._boundOnFocusin),b._input.addEventListener("focusout",b._boundOnFocusout)),b._input.addEventListener("focus",b._boundDelegateEvent),b._input.addEventListener("blur",b._boundDelegateEvent)})}},{key:"disconnectedCallback",value:function(){var b=this;Y(this,function(){b._input.removeEventListener("input",b._boundOnInput),b._input.removeEventListener("focusin",b._boundOnFocusin),b._input.removeEventListener("focus",b._boundDelegateEvent),b._input.removeEventListener("blur",b._boundDelegateEvent)})}},{key:"_setLabel",value:function(b){void 0!==this._helper.textContent?this._helper.textContent=b:this._helper.innerText=b}},{key:"_updateLabel",value:function(){this._setLabel(this.hasAttribute("placeholder")?this.getAttribute("placeholder"):"")}},{key:"_updateBoundAttributes",value:function(){var b=this;tb.forEach(function(a){b.hasAttribute(a)?b._input.setAttribute(a,b.getAttribute(a)):b._input.removeAttribute(a)})}},{key:"_updateLabelClass",value:function(){""===this.value?this._helper.classList.remove("text-input--material__label--active"):-1===["checkbox","radio"].indexOf(this.getAttribute("type"))&&this._helper.classList.add("text-input--material__label--active")}},{key:"_delegateEvent",value:function(b){var c=new CustomEvent(b.type,{bubbles:!1,cancelable:!0});return this.dispatchEvent(c)}},{key:"_onInput",value:function(b){this._updateLabelClass()}},{key:"_onFocusin",value:function(b){this._updateLabelClass()}},{key:"_input",get:function(){return this.querySelector("input")}},{key:"_helper",get:function(){return this.querySelector("._helper")}},{key:"value",get:function(){return null===this._input?this.getAttribute("value"):this._input.value},set:function(b){var c=this;Y(this,function(){c._input.value=b,c._onInput()})}},{key:"checked",get:function(){return this._input.checked},set:function(b){var c=this;Y(this,function(){c._input.checked=b})}},{key:"disabled",set:function(b){return t.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"_isTextInput",get:function(){return"radio"!==this.type&&"checkbox"!==this.type}},{key:"type",get:function(){return this.getAttribute("type")}}],[{key:"observedAttributes",get:function(){return["modifier","placeholder","input-id","checked"].concat(tb)}}]),b}(Ha);customElements.define("ons-input",ub);var vb=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"linear":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.2:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"show",value:function(b,c){c()}},{key:"hide",value:function(b,c){c()}}]),b}(Da),wb=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"linear":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.3:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"show",value:function(b,c){c=c||function(){},w(b).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}).queue(function(a){c(),a()}).play()}},{key:"hide",value:function(b,c){c=c||function(){},w(b).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).queue(function(a){c(),a()}).play()}}]),b}(vb),xb={"":"modal--*",modal__content:"modal--*__content"},yb={default:vb,fade:wb,none:vb},zb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){b._compile()}),this._doorLock=new xa,this._animatorFactory=new ba({animators:yb,baseClass:vb,baseClassName:"ModalAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(this.style.display="none",this.style.zIndex=10001,this.classList.add("modal"),!t.findChild(this,".modal__content")){var b=document.createElement("div");for(b.classList.add("modal__content");this.childNodes[0];){var c=this.childNodes[0];this.removeChild(c),b.insertBefore(c,null)}this.appendChild(b)}ca.initModifier(this,xb)}},{key:"disconnectedCallback",value:function(){this._backButtonHandler&&this._backButtonHandler.destroy()}},{key:"connectedCallback",value:function(){this.onDeviceBackButton=function(){}}},{key:"show",value:function(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c.animationOptions=t.extend(c.animationOptions||{},ba.parseAnimationOptionsString(this.getAttribute("animation-options")));var d=c.callback||function(){},e=function(){var e=b._doorLock.lock(),f=b._animatorFactory.newAnimator(c);return new Promise(function(a){Y(b,function(){b.style.display="table",f.show(b,function(){e(),t.propagateAction(b,"_show"),d(),a(b)})})})};return new Promise(function(a){b._doorLock.waitUnlock(function(){return a(e())})})}},{key:"toggle",value:function(){return this.visible?this.hide.apply(this,arguments):this.show.apply(this,arguments)}},{key:"hide",value:function(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c.animationOptions=t.extend(c.animationOptions||{},ba.parseAnimationOptionsString(this.getAttribute("animation-options")));var d=c.callback||function(){},e=function(){var e=b._doorLock.lock(),f=b._animatorFactory.newAnimator(c);return new Promise(function(a){Y(b,function(){f.hide(b,function(){b.style.display="none",e(),t.propagateAction(b,"_hide"),d(),a(b)})})})};return new Promise(function(a){b._doorLock.waitUnlock(function(){return a(e())})})}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,xb)}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=pa.createHandler(this,b)}},{key:"visible",get:function(){return"none"!==this.style.display}}],[{key:"registerAnimator",value:function(b,c){if(!(c.prototype instanceof vb))throw new Error('"Animator" param must inherit OnsModalElement.ModalAnimator');yb[b]=c}},{key:"observedAttributes",get:function(){return["modifier"]}},{key:"animators",get:function(){return yb}},{key:"ModalAnimator",get:function(){return vb}}]),b}(Ha);customElements.define("ons-modal",zb);var Ab=function(a){function b(a){return m(this,b),a=t.extend({timing:"linear",duration:"0.4",delay:"0"},a||{}),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a))}return q(b,a),n(b,[{key:"push",value:function(b,c,d){d()}},{key:"pop",value:function(b,c,d){d()}}]),b}(Da),Bb=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"ease":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.4:g;m(this,b);var i=r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}));return i.backgroundMask=t.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background-color: black; opacity: 0; z-index: 2"></div>\n    '),i}return q(b,a),n(b,[{key:"_decompose",value:function(b){var c=b._getToolbarElement(),d=c._getToolbarLeftItemsElement(),e=c._getToolbarRightItemsElement(),f=function(b){for(var c=[],d=0;d<b.length;d++)"ons-back-button"!==b[d].nodeName.toLowerCase()&&c.push(b[d]);return c},g=[].concat(0===d.children.length?d:f(d.children)).concat(0===e.children.length?e:f(e.children));return{toolbarCenter:c._getToolbarCenterItemsElement(),backButtonIcon:c._getToolbarBackButtonIconElement(),backButtonLabel:c._getToolbarBackButtonLabelElement(),other:g,content:b._getContentElement(),background:b._getBackgroundElement(),toolbar:c,bottomToolbar:b._getBottomToolbarElement()}}},{key:"_shouldAnimateToolbar",value:function(b,c){var d=b._canAnimateToolbar()&&c._canAnimateToolbar(),e=!b._getToolbarElement().classList.contains("navigation-bar--material")&&!c._getToolbarElement().classList.contains("navigation-bar--material");return d&&e}},{key:"_calculateDelta",value:function(b,c){var d=void 0,e=void 0,f=b.getBoundingClientRect();if(c.backButtonLabel.classList.contains("back-button__label")){var g=c.backButtonLabel.getBoundingClientRect();d=Math.round(f.width/2-g.width/2-g.left)}else d=Math.round(f.width/2*.6);return c.backButtonIcon.classList.contains("back-button__icon")&&(e=c.backButtonIcon.getBoundingClientRect().right-2),{title:d,label:e}}},{key:"push",value:function(b,c,d){var e=this;this.backgroundMask.remove(),c.parentNode.insertBefore(this.backgroundMask,c.nextSibling),Y(b,function(){var a=e._decompose(b),f=e._decompose(c),g=e._calculateDelta(c,a),h=w(e.backgroundMask).saveStyle().queue({opacity:0,transform:"translate3d(0, 0, 0)"}).wait(e.delay).queue({opacity:.05},{duration:e.duration,timing:e.timing}).restoreStyle().queue(function(a){e.backgroundMask.remove(),a()});if(e._shouldAnimateToolbar(b,c)){var j=a.toolbar.getBoundingClientRect().height+"px";e.backgroundMask.style.top=j,w.runAll(h,w([a.content,a.bottomToolbar,a.background]).saveStyle().queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).wait(e.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:e.duration,timing:e.timing}).restoreStyle(),w(a.toolbar).saveStyle().queue({css:{opacity:0},duration:0}).queue({css:{opacity:1},duration:e.duration,timing:e.timing}).restoreStyle(),w(a.background).queue({css:{top:j},duration:0}),w(a.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(125%, 0, 0)",opacity:1},duration:0}).wait(e.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:e.duration,timing:e.timing}).restoreStyle(),w(a.backButtonLabel).saveStyle().queue({css:{transform:"translate3d("+g.title+"px, 0, 0)",opacity:0},duration:0}).wait(e.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:e.duration,timing:e.timing}).restoreStyle(),w(a.other).saveStyle().queue({css:{opacity:0},duration:0}).wait(e.delay).queue({css:{opacity:1},duration:e.duration,timing:e.timing}).restoreStyle(),w([f.content,f.bottomToolbar,f.background]).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(e.delay).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:e.duration,timing:e.timing}).restoreStyle().queue(function(a){d(),a()}),w(f.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(e.delay).queue({css:{transform:"translate3d(-"+g.title+"px, 0, 0)",opacity:0},duration:e.duration,timing:e.timing}).restoreStyle(),w(f.backButtonLabel).saveStyle().queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(e.delay).queue({css:{transform:"translate3d(-"+g.label+"px, 0, 0)",opacity:0},duration:e.duration,timing:e.timing}).restoreStyle(),w(f.other).saveStyle().queue({css:{opacity:1},duration:0}).wait(e.delay).queue({css:{opacity:0},duration:e.duration,timing:e.timing}).restoreStyle())}else w.runAll(h,w(b).saveStyle().queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).wait(e.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:e.duration,timing:e.timing}).restoreStyle(),w(c).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(e.delay).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:e.duration,timing:e.timing}).restoreStyle().queue(function(a){d(),a()}))})}},{key:"pop",value:function(b,c,d){this.backgroundMask.remove(),b.parentNode.insertBefore(this.backgroundMask,b.nextSibling);var e=this._decompose(b),f=this._decompose(c),g=this._calculateDelta(c,f),h=w(this.backgroundMask).saveStyle().queue({opacity:.1,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){a()});if(this._shouldAnimateToolbar(b,c)){var j=e.toolbar.getBoundingClientRect().height+"px";this.backgroundMask.style.top=j,w.runAll(h,w([e.content,e.bottomToolbar,e.background]).saveStyle().queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),w(e.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(-"+g.title+"px, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),w(e.backButtonLabel).saveStyle().queue({css:{transform:"translate3d(-"+g.label+"px, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle(),w(e.other).saveStyle().queue({css:{opacity:0},duration:0}).wait(this.delay).queue({css:{opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),w(f.background).queue({css:{top:j},duration:0}),w([f.content,f.bottomToolbar,f.background]).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(0).queue(function(a){this.backgroundMask.remove(),d(),a()}.bind(this)),w(f.toolbar).queue({css:{opacity:1},duration:0}).queue({css:{opacity:0},duration:this.duration,timing:this.timing}),w(f.toolbarCenter).queue({css:{transform:"translate3d(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(125%, 0, 0)"},duration:this.duration,timing:this.timing}),w(f.backButtonLabel).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d("+g.title+"px, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}))}else w.runAll(h,w(b).saveStyle().queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),w(c).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).queue(function(a){this.backgroundMask.remove(),d(),a()}.bind(this)))}}]),b}(Ab),Cb=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"cubic-bezier(.1, .7, .1, 1)":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.4:g;m(this,b);var i=r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}));return i.backgroundMask=t.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background: linear-gradient(black, white);"></div>\n    '),i}return q(b,a),n(b,[{key:"push",value:function(b,c,d){var e=this;this.backgroundMask.remove(),c.parentNode.insertBefore(this.backgroundMask,c);var f=w(this.backgroundMask).wait(this.delay+this.duration).queue(function(a){e.backgroundMask.remove(),a()});w.runAll(f,w(b).saveStyle().queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){d(),a()}),w(c).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:this.duration,timing:this.timing}))}},{key:"pop",value:function(b,c,d){var e=this;this.backgroundMask.remove(),b.parentNode.insertBefore(this.backgroundMask,b),w.runAll(w(this.backgroundMask).wait(this.delay+this.duration).queue(function(a){e.backgroundMask.remove(),a()}),w(b).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).queue(function(a){d(),a()}),w(c).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:this.duration,timing:this.timing}))}}]),b}(Ab),Db=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"linear":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.4:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"push",value:function(b,c,d){w.runAll(w([b._getContentElement(),b._getBackgroundElement()]).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){d(),a()}),w(b._getToolbarElement()).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle())}},{key:"pop",value:function(b,c,d){w.runAll(w([c._getContentElement(),c._getBackgroundElement()]).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}).queue(function(a){d(),a()}),w(c._getToolbarElement()).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}))}}]),b}(Ab),Eb=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"cubic-bezier(.1, .7, .4, 1)":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.3:g;m(this,b);var i=r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}));return i.backgroundMask=t.createElement('\n      <div style="position: absolute; width: 100%; height: 100%; z-index: 2;\n        background-color: black; opacity: 0;"></div>\n    '),i.blackMaskOpacity=.4,i}return q(b,a),n(b,[{key:"push",value:function(b,c,d){var e=this;this.backgroundMask.remove(),c.parentElement.insertBefore(this.backgroundMask,c.nextSibling),w.runAll(w(this.backgroundMask).saveStyle().queue({opacity:0,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:this.blackMaskOpacity},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){e.backgroundMask.remove(),a()}),w(b).saveStyle().queue({css:{transform:"translate3D(100%, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle(),w(c).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-45%, 0px, 0px)"},duration:this.duration,timing:this.timing}).restoreStyle().wait(.2).queue(function(a){d(),a()}))}},{key:"pop",value:function(b,c,d){var e=this;this.backgroundMask.remove(),b.parentNode.insertBefore(this.backgroundMask,b.nextSibling),w.runAll(w(this.backgroundMask).saveStyle().queue({opacity:this.blackMaskOpacity,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){e.backgroundMask.remove(),a()}),w(b).saveStyle().queue({css:{transform:"translate3D(-45%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),w(c).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(.2).queue(function(a){d(),a()}))}}]),b}(Ab),Fb=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"cubic-bezier(.1, .7, .1, 1)":c,e=a.delay,f=void 0===e?.05:e,g=a.duration,h=void 0===g?.4:g;m(this,b);var i=r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}));return i.backgroundMask=t.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background-color: black;"></div>\n    '),i}return q(b,a),n(b,[{key:"push",value:function(b,c,d){var e=this;this.backgroundMask.remove(),c.parentNode.insertBefore(this.backgroundMask,c);var f=w(this.backgroundMask).wait(this.delay+this.duration).queue(function(a){e.backgroundMask.remove(),a()});w.runAll(f,w(b).saveStyle().queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){d(),a()}),w(c).queue({css:{opacity:1},duration:0}).queue({css:{opacity:.4},duration:this.duration,timing:this.timing}))}},{key:"pop",value:function(b,c,d){var e=this;this.backgroundMask.remove(),b.parentNode.insertBefore(this.backgroundMask,b),w.runAll(w(this.backgroundMask).wait(this.delay+this.duration).queue(function(a){e.backgroundMask.remove(),a()}),w(b).queue({css:{transform:"translate3D(0, 0, 0)",opacity:.4},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).queue(function(a){d(),a()}),w(c).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:this.duration,timing:this.timing}))}}]),b}(Ab),Gb=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"ease-out":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.25:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"push",value:function(b,c,d){w.runAll(w(b).saveStyle().queue({css:{transform:"translate3D(0, 42px, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){d(),a()}))}},{key:"pop",value:function(b,c,d){w.runAll(w(c).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(.15).queue({css:{transform:"translate3D(0, 38px, 0)"},duration:this.duration,timing:this.timing}).queue(function(a){d(),a()}),w(c).queue({css:{opacity:1},duration:0}).wait(.04).queue({css:{opacity:0},duration:this.duration,timing:this.timing}))}}]),b}(Ab),Hb=function(a){function b(a){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a))}return q(b,a),n(b,[{key:"push",value:function(b,c,d){d()}},{key:"pop",value:function(b,c,d){d()}}]),b}(Ab),Ib={default:function(){return R.isAndroid()?Gb:Bb},slide:function(){return R.isAndroid()?Eb:Bb},lift:function(){return R.isAndroid()?Fb:Cb},fade:function(){return R.isAndroid()?Gb:Db},"slide-ios":Bb,"slide-md":Eb,"lift-ios":Cb,"lift-md":Fb,"fade-ios":Db,"fade-md":Gb,none:Hb},Jb={ready:function(b,c){c()}},Kb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this._isRunning=!1,this._pageLoader=Ba,this._updateAnimatorFactory()}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"connectedCallback",value:function(){var b=this;this.onDeviceBackButton=this._onDeviceBackButton.bind(this),Jb.ready(this,function(){if(0===b.pages.length&&b._getPageTarget())b.pushPage(b._getPageTarget(),{animation:"none"});else if(b.pages.length>0){for(var a=0;a<b.pages.length;a++)if("ONS-PAGE"!==b.pages[a].nodeName)throw new Error("The children of <ons-navigator> need to be of type <ons-page>");b.topPage&&Y(b.topPage,function(){return setTimeout(function(){b.topPage._show(),b._updateLastPageBackButton()},0)})}else Y(b,function(){0===b.pages.length&&b._getPageTarget()&&b.pushPage(b._getPageTarget(),{animation:"none"})})})}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new ba({animators:Ib,baseClass:Ab,baseClassName:"NavigatorTransitionAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null}},{key:"attributeChangedCallback",value:function(b,c,d){"animation"===b&&this._updateAnimatorFactory()}},{key:"popPage",value:function(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=this._preparePageAndOptions(null,c);c=d.options;var e=function(){return new Promise(function(a){b._pageLoader.unload(b.pages[b.pages.length-1]),a()})};if(!c.refresh)return this._popPage(c,e);var f=this.pages.length-2,g=this.pages[f];if(!g.name)throw new Error("Refresh option cannot be used with pages directly inside the Navigator. Use ons-template instead.");return new Promise(function(a){var c={page:g.name,parent:b,params:g.pushedOptions.data};b._pageLoader.load(c,function(c){c=t.extend(c,{name:g.name,data:g.data,pushedOptions:g.pushedOptions}),b.insertBefore(c,g||null),b._pageLoader.unload(g),a()})}).then(function(){return b._popPage(c,e)})}},{key:"_popPage",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("popPage is already running.");if(this.pages.length<=1)return Promise.reject("ons-navigator's page stack is empty.");if(this._emitPrePopEvent())return Promise.reject("Canceled in prepop event.");var e=this.pages.length;return this._isRunning=!0,this.pages[e-2].updateBackButton(e-2>0),new Promise(function(a){var f=c.pages[e-1],g=c.pages[e-2];g.style.display="block",b.animation=b.animation||f.pushedOptions.animation,b.animationOptions=t.extend({},f.pushedOptions.animationOptions,b.animationOptions||{}),b.data&&(g.data=t.extend({},g.data||{},b.data||{}));var h=function(){d().then(function(){c._isRunning=!1,g._show(),t.triggerElementEvent(c,"postpop",{leavePage:f,enterPage:g,navigator:c}),"function"==typeof b.callback&&b.callback(),a(g)})};f._hide(),c._animatorFactory.newAnimator(b).pop(c.pages[e-2],c.pages[e-1],h)}).catch(function(){return c._isRunning=!1})}},{key:"pushPage",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this._preparePageAndOptions(b,d);b=e.page,d=e.options;var f=function(b){c._verifyPageElement(b),b=t.extend(b,{name:d.page,data:d.data}),b.style.display="none"};return d.pageHTML?this._pushPage(d,function(){return new Promise(function(a){Ca.load({page:d.pageHTML,parent:c,params:d.data},function(b){f(b),a()})})}):this._pushPage(d,function(){return new Promise(function(a){c._pageLoader.load({page:b,parent:c,params:d.data},function(b){f(b),a()})})})}},{key:"_pushPage",value:function(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("pushPage is already running.");if(this._emitPrePushEvent())return Promise.reject("Canceled in prepush event.");this._isRunning=!0;var e=ba.parseAnimationOptionsString(this.getAttribute("animation-options"));c=t.extend({},this.options||{},{animationOptions:e},c);var f=this._animatorFactory.newAnimator(c);return d().then(function(){var a=b.pages.length,d=b.pages[a-1],e=b.pages[a-2];if("ONS-PAGE"!==d.nodeName)throw new Error("Only elements of type <ons-page> can be pushed to the navigator");return d.updateBackButton(a-1),d.pushedOptions=t.extend({},d.pushedOptions||{},c||{}),d.data=t.extend({},d.data||{},c.data||{}),d.name=d.name||c.page,d.unload=d.unload||c.unload,new Promise(function(a){var g=function(){b._isRunning=!1,e&&(e.style.display="none"),setImmediate(function(){return d._show()}),t.triggerElementEvent(b,"postpush",{leavePage:e,enterPage:d,navigator:b}),"function"==typeof c.callback&&c.callback(),a(d)};d.style.display="block",e?(e._hide(),f.push(d,e,g)):g()})}).catch(function(a){throw b._isRunning=!1,a})}},{key:"replacePage",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.pushPage(b,d).then(function(a){return c.pages.length>1&&c._pageLoader.unload(c.pages[c.pages.length-2]),c._updateLastPageBackButton(),Promise.resolve(a)})}},{key:"insertPage",value:function(b,c){var d=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=this._preparePageAndOptions(c,e);if(c=f.page,e=f.options,(b=this._normalizeIndex(b))>=this.pages.length)return this.pushPage(c,e);c="string"==typeof e.pageHTML?e.pageHTML:c;var g="string"==typeof e.pageHTML?Ca:this._pageLoader;return new Promise(function(a){g.load({page:c,parent:d},function(c){d._verifyPageElement(c),c=t.extend(c,{name:e.page,data:e.data,pushedOptions:e}),e.animationOptions=t.extend({},ba.parseAnimationOptionsString(d.getAttribute("animation-options")),e.animationOptions||{}),c.style.display="none",d.insertBefore(c,d.pages[b]),d.topPage.updateBackButton(!0),setTimeout(function(){c=null,a(d.pages[b])},1e3/60)})})}},{key:"resetToPage",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this._preparePageAndOptions(b,d);b=e.page,d=e.options,d.animator||d.animation||(d.animation="none");var f=d.callback;return d.callback=function(){for(;c.pages.length>1;)c._pageLoader.unload(c.pages[0]);c.pages[0].updateBackButton(!1),f&&f()},d.page||d.pageHTML||!this._getPageTarget()||(b=d.page=this._getPageTarget()),this.pushPage(b,d)}},{key:"bringPageTop",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(-1===["number","string"].indexOf(void 0===b?"undefined":k(b)))throw new Error("First argument must be a page name or the index of an existing page. You supplied "+b);var d="number"==typeof b?this._normalizeIndex(b):this._lastIndexOfPage(b),e=this.pages[d];if(d<0)return this.pushPage(b,c);if(c=this._preparePageAndOptions(e,c).options,d===this.pages.length-1)return Promise.resolve(e);if(!e)throw new Error("Failed to find item "+b);return this._isRunning?Promise.reject("pushPage is already running."):this._emitPrePushEvent()?Promise.reject("Canceled in prepush event."):(t.extend(c,{page:e.name}),e.style.display="none",e.setAttribute("_skipinit",""),e.parentNode.appendChild(e),this._pushPage(c))}},{key:"_preparePageAndOptions",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=(void 0===c?"undefined":k(c)))throw new Error("options must be an object. You supplied "+c);return null!==b&&void 0!==b||!c.page||(b=c.page),c=t.extend({},this.options||{},c,{page:b}),{page:b,options:c}}},{key:"_updateLastPageBackButton",value:function(){var b=this.pages.length-1;b>=0&&this.pages[b].updateBackButton(b>0)}},{key:"_normalizeIndex",value:function(b){return b>=0?b:Math.abs(this.pages.length+b)%this.pages.length}},{key:"_onDeviceBackButton",value:function(b){this.pages.length>1?this.popPage():b.callParentHandler()}},{key:"_lastIndexOfPage",value:function(b){var c=void 0;for(c=this.pages.length-1;c>=0&&this.pages[c].name!==b;c--);return c}},{key:"_emitPreEvent",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=!1;return t.triggerElementEvent(this,"pre"+b,t.extend({navigator:this,currentPage:this.pages[this.pages.length-1],cancel:function(){return d=!0}},c)),d}},{key:"_emitPrePushEvent",value:function(){return this._emitPreEvent("push")}},{key:"_emitPrePopEvent",value:function(){var b=this.pages.length;return this._emitPreEvent("pop",{leavePage:this.pages[b-1],enterPage:this.pages[b-2]})}},{key:"_createPageElement",value:function(b){var c=t.createElement(aa.normalizePageHTML(b));return this._verifyPageElement(c),c}},{key:"_verifyPageElement",value:function(b){if("ons-page"!==b.nodeName.toLowerCase())throw new Error('You must supply an "ons-page" element to "ons-navigator".')}},{key:"_show",value:function(){this.topPage&&this.topPage._show()}},{key:"_hide",value:function(){this.topPage&&this.topPage._hide()}},{key:"_destroy",value:function(){for(var b=this.pages.length-1;b>=0;b--)this._pageLoader.unload(this.pages[b]);this.remove()}},{key:"animatorFactory",get:function(){return this._animatorFactory}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(b){if(!(b instanceof Aa))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=b}},{key:"page",get:function(){return this._page},set:function(b){this._page=b}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=pa.createHandler(this,b)}},{key:"topPage",get:function(){return this.pages[this.pages.length-1]||null}},{key:"pages",get:function(){return t.arrayFrom(this.children).filter(function(a){return"ONS-PAGE"===a.tagName})}},{key:"options",get:function(){return this._options},set:function(b){this._options=b}},{key:"_isRunning",set:function(b){this.setAttribute("_is-running",b?"true":"false")},get:function(){return JSON.parse(this.getAttribute("_is-running"))}}],[{key:"registerAnimator",value:function(b,c){if(!(c.prototype instanceof Ab))throw new Error('"Animator" param must inherit NavigatorElement.NavigatorTransitionAnimator');Ib[b]=c}},{key:"observedAttributes",get:function(){return["animation"]}},{key:"animators",get:function(){return Ib}},{key:"NavigatorTransitionAnimator",get:function(){return Ab}},{key:"rewritables",get:function(){return Jb}}]),b}(Ha);customElements.define("ons-navigator",Kb);var Lb={"":"navigation-bar--*",".navigation-bar__left":"navigation-bar--*__left",".navigation-bar__center":"navigation-bar--*__center",".navigation-bar__right":"navigation-bar--*__right"},Mb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){b._compile()})}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,Lb)}},{key:"_getToolbarLeftItemsElement",value:function(){return this.querySelector(".left")||aa.nullElement}},{key:"_getToolbarCenterItemsElement",value:function(){return this.querySelector(".center")||aa.nullElement}},{key:"_getToolbarRightItemsElement",value:function(){return this.querySelector(".right")||aa.nullElement}},{key:"_getToolbarBackButtonLabelElement",value:function(){return this.querySelector("ons-back-button .back-button__label")||aa.nullElement}},{key:"_getToolbarBackButtonIconElement",value:function(){return this.querySelector("ons-back-button .back-button__icon")||aa.nullElement}},{key:"_compile",value:function(){va.prepare(this),this.classList.add("navigation-bar"),this._ensureToolbarItemElements(),ca.initModifier(this,Lb)}},{key:"_ensureToolbarItemElements",value:function(){for(var b=this.childNodes.length-1;b>=0;b--)1!=this.childNodes[b].nodeType&&this.removeChild(this.childNodes[b]);var c=this._ensureToolbarElement("center");if(c.classList.add("navigation-bar__title"),1!==this.children.length||!this.children[0].classList.contains("center")){var d=this._ensureToolbarElement("left"),e=this._ensureToolbarElement("right");this.children[0]===d&&this.children[1]===c&&this.children[2]===e||(this.appendChild(d),this.appendChild(c),this.appendChild(e))}}},{key:"_ensureToolbarElement",value:function(b){if(t.findChild(this,".navigation-bar__"+b)){var c=t.findChild(this,".navigation-bar__"+b);return c.classList.add(b),c}var d=t.findChild(this,"."+b)||t.create("."+b);return d.classList.add("navigation-bar__"+b),d}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),b}(Ha);customElements.define("ons-toolbar",Mb);var Nb={"":"page--*",".page__content":"page--*__content",".page__background":"page--*__background"},Ob=document.createElement("ons-toolbar"),Pb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;this.classList.add("page"),Y(this,function(){b._compile(),b._isShown=!1,b._contentElement=b._getContentElement(),b._isMuted=b.hasAttribute("_muted"),b._skipInit=b.hasAttribute("_skipinit"),b.pushedOptions={}})}},{key:"connectedCallback",value:function(){var b=this;Y(this,function(){b._isMuted||(b._skipInit?b.removeAttribute("_skipinit"):setImmediate(function(){return t.triggerElementEvent(b,"init")})),t.hasAnyComponentAsParent(b)||setImmediate(function(){return b._show()}),b._tryToFillStatusBar(),b.hasAttribute("on-infinite-scroll")&&b.attributeChangedCallback("on-infinite-scroll",null,b.getAttribute("on-infinite-scroll"))})}},{key:"updateBackButton",value:function(b){this.backButton&&(b?this.backButton.show():this.backButton.hide())}},{key:"_tryToFillStatusBar",value:function(){var b=this;aa.autoStatusBarFill(function(){var a=t.findParent(b,function(a){return a.hasAttribute("status-bar-fill")});t.toggleAttribute(b,"status-bar-fill",!a&&(b._canAnimateToolbar()||!b._hasAPageControlChild()))})}},{key:"_hasAPageControlChild",value:function(){return t.findChild(this._contentElement,function(a){return a.nodeName.match(/ons-(splitter|sliding-menu|navigator|tabbar)/i)})}},{key:"_onScroll",value:function(){var b=this,c=this._contentElement,d=(c.scrollTop+c.clientHeight)/c.scrollHeight>=this._infiniteScrollLimit;this._onInfiniteScroll&&!this._loadingContent&&d&&(this._loadingContent=!0,this._onInfiniteScroll(function(){return b._loadingContent=!1}))}},{key:"_getContentElement",value:function(){var b=t.findChild(this,".page__content");if(b)return b;throw Error('fail to get ".page__content" element.')}},{key:"_canAnimateToolbar",value:function(){return!!t.findChild(this,"ons-toolbar")||!!t.findChild(this._contentElement,function(a){return t.match(a,"ons-toolbar")&&!a.hasAttribute("inline")})}},{key:"_getBackgroundElement",value:function(){var b=t.findChild(this,".page__background");if(b)return b;throw Error('fail to get ".page__background" element.')}},{key:"_getBottomToolbarElement",value:function(){return t.findChild(this,"ons-bottom-toolbar")||aa.nullElement}},{key:"_getToolbarElement",value:function(){return t.findChild(this,"ons-toolbar")||Ob}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;if("modifier"===b)return ca.onModifierChanged(c,d,this,Nb);"_muted"===b?this._isMuted=this.hasAttribute("_muted"):"_skipinit"===b?this._skipInit=this.hasAttribute("_skipinit"):"on-infinite-scroll"===b&&(this.onInfiniteScroll=null===d?null:function(a){var b=t.findFromPath(d);e.onInfiniteScroll=b,b(a)})}},{key:"_compile",value:function(){var b=this;if(va.prepare(this),t.findChild(this,".content")&&t.findChild(this,".content").classList.add("page__content"),t.findChild(this,".background")&&t.findChild(this,".background").classList.add("page__background"),t.findChild(this,".page__content")||function(){var a=t.create(".page__content");t.arrayFrom(b.childNodes).forEach(function(c){(1!==c.nodeType||b._elementShouldBeMoved(c))&&a.appendChild(c)});var c=t.findChild(b,".page__background")||t.findChild(b,"ons-toolbar");b.insertBefore(a,c&&c.nextSibling)}(),!t.findChild(this,".page__background")){var c=t.create(".page__background");this.insertBefore(c,t.findChild(this,".page__content"))}ca.initModifier(this,Nb)}},{key:"_elementShouldBeMoved",value:function(b){if(b.classList.contains("page__background"))return!1;var c=b.tagName.toLowerCase();if("ons-fab"===c)return!b.hasAttribute("position");var d=["ons-toolbar","ons-bottom-toolbar","ons-modal","ons-speed-dial"];return b.hasAttribute("inline")||-1===d.indexOf(c)}},{key:"_show",value:function(){!this._isShown&&t.isAttached(this)&&(this._isShown=!0,this._isMuted||t.triggerElementEvent(this,"show"),t.propagateAction(this._contentElement,"_show"))}},{key:"_hide",value:function(){this._isShown&&(this._isShown=!1,this._isMuted||t.triggerElementEvent(this,"hide"),t.propagateAction(this._contentElement,"_hide"))}},{key:"_destroy",value:function(){this._hide(),this._isMuted||t.triggerElementEvent(this,"destroy"),this.onDeviceBackButton&&this.onDeviceBackButton.destroy(),t.propagateAction(this._contentElement,"_destroy"),this.remove()}},{key:"name",set:function(b){this.setAttribute("name",b)},get:function(){return this.getAttribute("name")}},{key:"backButton",get:function(){return this.querySelector("ons-back-button")}},{key:"onInfiniteScroll",set:function(b){var c=this;if(null===b)return this._onInfiniteScroll=null,void this._contentElement.removeEventListener("scroll",this._boundOnScroll);if(!(b instanceof Function))throw new Error("onInfiniteScroll must be a function or null");this._onInfiniteScroll||(this._infiniteScrollLimit=.9,this._boundOnScroll=this._onScroll.bind(this),setImmediate(function(){return c._contentElement.addEventListener("scroll",c._boundOnScroll)})),this._onInfiniteScroll=b},get:function(){return this._onInfiniteScroll}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=pa.createHandler(this,b)}}],[{key:"observedAttributes",get:function(){return["modifier","_muted","_skipinit","on-infinite-scroll"]}}]),b}(Ha);customElements.define("ons-page",Pb);var Qb=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"cubic-bezier(.1, .7, .4, 1)":c,e=a.delay,f=void 0===e?0:e,g=a.duration,h=void 0===g?.2:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"show",value:function(b,c){c()}},{key:"hide",value:function(b,c){c()}},{key:"_animate",value:function(b,c){var d=c.from,e=c.to,f=c.options,g=c.callback,h=c.restore,i=void 0!==h&&h,j=c.animation;return f=t.extend({},this.options,f),j&&(d=j.from,e=j.to),j=w(b),i&&(j=j.saveStyle()),j=j.queue(d).wait(f.delay).queue({css:e,duration:f.duration,timing:f.timing}),i&&(j=j.restoreStyle()),g&&(j=j.queue(function(a){g(),a()})),j}},{key:"_animateAll",value:function(b,c){var d=this;Object.keys(c).forEach(function(a){return d._animate(b[a],c[a]).play()})}}]),b}(Da),Rb={out:{from:{opacity:1},to:{opacity:0}},in:{from:{opacity:0},to:{opacity:1}}},Sb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"show",value:function(b,c){this._animateAll(b,{_mask:Rb.in,_popover:{animation:Rb.in,restore:!0,callback:c}})}},{key:"hide",value:function(b,c){this._animateAll(b,{_mask:Rb.out,_popover:{animation:Rb.out,restore:!0,callback:c}})}}]),b}(Qb),Tb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"show",value:function(b,c){this._animateAll(b,{_mask:Rb.in,_popover:{from:{transform:"scale3d(1.3, 1.3, 1.0)",opacity:0},to:{transform:"scale3d(1.0, 1.0,  1.0)",opacity:1},restore:!0,callback:c}})}}]),b}(Sb),Ub={".popover":"popover--*",".popover-mask":"popover-mask--*",".popover__container":"popover__container--*",".popover__content":"popover__content--*",".popover__arrow":"popover__arrow--*"},Vb={default:function(){return R.isAndroid()?Sb:Tb},none:Qb,"fade-ios":Tb,"fade-md":Sb},Wb=t.createFragment('\n  <div class="popover-mask"></div>\n  <div class="popover__container">\n    <div class="popover__content"></div>\n    <div class="popover__arrow"></div>\n  </div>\n'),Xb={up:"bottom",left:"right",down:"top",right:"left"},Yb=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){b._compile(),b._initAnimatorFactory()}),this._doorLock=new xa,this._boundOnChange=this._onChange.bind(this),this._boundCancel=this._cancel.bind(this)}},{key:"_initAnimatorFactory",value:function(){var b=new ba({animators:Vb,baseClass:Qb,baseClassName:"PopoverAnimator",defaultAnimation:this.getAttribute("animation")||"default"});this._animator=function(a){return b.newAnimator(a)}}},{key:"_positionPopover",value:function(b){var c=this._radius,d=this._content,e=this._margin,f=b.getBoundingClientRect(),g=t.hasModifier(this,"material"),h=g&&this.hasAttribute("cover-target"),i={top:f.top-e,left:f.left-e,right:window.innerWidth-f.right-e,bottom:window.innerHeight-f.bottom-e},j=this._calculateDirections(i),k=j.vertical,l=j.primary,m=j.secondary;this._popover.classList.add("popover--"+l);var n=h?0:(k?f.height:f.width)+(g?0:14);this.style[l]=Math.max(0,i[l]+n)+e+"px",d.style[l]=0;var o=k?"width":"height",p=function(a){return{width:parseInt(a.getPropertyValue("width")),height:parseInt(a.getPropertyValue("height"))}}(window.getComputedStyle(d));d.style[m]=Math.max(0,i[m]-(p[o]-f[o])/2)+"px",this._arrow.style[m]=Math.max(c,i[m]+f[o]/2)+"px",this._setTransformOrigin(i,p,f,l),d.removeAttribute("data-animit-orig-style")}},{key:"_setTransformOrigin",value:function(b,c,d,e){var f=function(f,g,h){return e===f?c[h]/2:b[f]+(e===g?-c[h]:c[h]-d[h])/2},g=f("left","right","width")+"px",h=f("top","bottom","height")+"px";t.extend(this._popover.style,{transformOrigin:g+" "+h,webkitTransformOriginX:g,webkitTransformOriginY:h})}},{key:"_calculateDirections",value:function(b){var c=(this.getAttribute("direction")||"up down left right").split(/\s+/).map(function(a){return Xb[a]}),d=c.sort(function(a,c){return b[a]-b[c]})[0],e=-1!==["top","bottom"].indexOf(d),f=void 0;return f=e?b.left<b.right?"left":"right":b.top<b.bottom?"top":"bottom",{vertical:e,primary:d,secondary:f}}},{key:"_clearStyles",value:function(){var b=this;["top","bottom","left","right"].forEach(function(a){b._arrow.style[a]=b._content.style[a]=b.style[a]="",b._popover.classList.remove("popover--"+a)})}},{key:"_onChange",value:function(){var b=this;setImmediate(function(){b._currentTarget&&b._positionPopover(b._currentTarget)})}},{key:"_compile",value:function(){if(va.prepare(this),!this.classList.contains("popover")){this.classList.add("popover");if(this._popover&&this._content){if(!this._mask){var c=document.createElement("div");c.classList.add("popover-mask"),this.insertBefore(c,this.firstChild)}if(!this._arrow){var d=document.createElement("div");d.classList.add("popover__arrow"),this._popover.appendChild(d)}}else{for(var e=Wb.cloneNode(!0),f=e.querySelector(".popover__content");this.childNodes[0];)f.appendChild(this.childNodes[0]);this.appendChild(e)}this.hasAttribute("style")&&(this._popover.setAttribute("style",this.getAttribute("style")),this.removeAttribute("style")),this.hasAttribute("mask-color")&&(this._mask.style.backgroundColor=this.getAttribute("mask-color")),ca.initModifier(this,Ub)}}},{key:"_prepareAnimationOptions",value:function(b){if(b.animation&&!(b.animation in Vb))throw new Error("Animator "+b.animation+" is not registered.");b.animationOptions=t.extend(ba.parseAnimationOptionsString(this.getAttribute("animation-options")),b.animationOptions||{})}},{key:"_executeAction",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=d.callback,f=b.action,g=b.before,h=b.after;this._prepareAnimationOptions(d);var i=!1;return t.triggerElementEvent(this,"pre"+f,{popover:this,cancel:function(){return i=!0}}),i?Promise.reject("Canceled in pre"+f+" event."):new Promise(function(a){c._doorLock.waitUnlock(function(){var b=c._doorLock.lock();g&&g(),Y(c,function(){c._animator(d)[f](c,function(){h&&h(),b(),t.triggerElementEvent(c,"post"+f,{popover:c}),e&&e(),a(c)})})})})}},{key:"show",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof b?b=document.querySelector(b):b instanceof Event&&(b=b.target),void 0===b)throw new Error("A target argument must be defined for the popover.");if(!(b instanceof HTMLElement))throw new Error("Invalid target");return this._executeAction({action:"show",before:function(){c.style.display="block",c._currentTarget=b,c._positionPopover(b)}},d)}},{key:"hide",value:function(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._executeAction({action:"hide",after:function(){b.style.display="none",b._clearStyles()}},c)}},{key:"_resetBackButtonHandler",value:function(){var b=this;this.onDeviceBackButton=function(a){return b.cancelable?b._cancel():a.callParentHandler()}}},{key:"connectedCallback",value:function(){var b=this;this._resetBackButtonHandler(),Y(this,function(){b._margin=b._margin||parseInt(window.getComputedStyle(b).getPropertyValue("top")),b._margin||(b._margin=6),b._radius=parseInt(window.getComputedStyle(b._content).getPropertyValue("border-top-left-radius")),b._mask.addEventListener("click",b._boundCancel,!1),b._resetBackButtonHandler(),window.addEventListener("resize",b._boundOnChange,!1)})}},{key:"disconnectedCallback",value:function(){var b=this;Y(this,function(){b._mask.removeEventListener("click",b._boundCancel,!1),b._backButtonHandler.destroy(),b._backButtonHandler=null,window.removeEventListener("resize",b._boundOnChange,!1)})}},{key:"attributeChangedCallback",value:function(b,c,d){return"modifier"===b?ca.onModifierChanged(c,d,this,Ub):"direction"===b?this._boundOnChange():void("animation"===b&&this._initAnimatorFactory())}},{key:"_cancel",value:function(){var b=this;this.cancelable&&this.hide({callback:function(){t.triggerElementEvent(b,"dialog-cancel")}})}},{key:"_mask",get:function(){return t.findChild(this,".popover-mask")}},{key:"_popover",get:function(){return t.findChild(this,".popover__container")}},{key:"_content",get:function(){return t.findChild(this._popover,".popover__content")}},{key:"_arrow",get:function(){return t.findChild(this._popover,".popover__arrow")}},{key:"visible",get:function(){return"none"!==window.getComputedStyle(this).getPropertyValue("display")}},{key:"cancelable",set:function(b){return t.toggleAttribute(this,"cancelable",b)},get:function(){return this.hasAttribute("cancelable")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=pa.createHandler(this,b)}}],[{key:"registerAnimator",value:function(b,c){if(!(c.prototype instanceof Qb))throw new Error('"Animator" param must inherit PopoverAnimator');Vb[b]=c}},{key:"observedAttributes",get:function(){return["modifier","direction","animation"]}},{key:"animators",get:function(){return Vb}},{key:"PopoverAnimator",get:function(){return Qb}}]),b}(Ha);customElements.define("ons-popover",Yb);var Zb={".progress-bar":"progress-bar--*",".progress-bar__primary":"progress-bar__primary--*",".progress-bar__secondary":"progress-bar__secondary--*"},$b=t.createElement('\n  <div class="progress-bar">\n    <div class="progress-bar__secondary"></div>\n    <div class="progress-bar__primary"></div>\n  </div>\n'),_b=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){return b._compile()})}},{key:"_compile",value:function(){this._isCompiled()?this._template=t.findChild(this,".progress-bar"):this._template=$b.cloneNode(!0),this._primary=t.findChild(this._template,".progress-bar__primary"),this._secondary=t.findChild(this._template,".progress-bar__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),ca.initModifier(this,Zb)}},{key:"_isCompiled",value:function(){if(!t.findChild(this,".progress-bar"))return!1;var b=t.findChild(this,".progress-bar");return!!t.findChild(b,".progress-bar__secondary")&&!!t.findChild(b,".progress-bar__primary")}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,Zb);"value"===b||"secondary-value"===b?this._updateValue():"indeterminate"===b&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var b=this;this.hasAttribute("indeterminate")?Y(this,function(){b._template.classList.add("progress-bar--indeterminate"),b._template.classList.remove("progress-bar--determinate")}):Y(this,function(){b._template.classList.add("progress-bar--determinate"),b._template.classList.remove("progress-bar--indeterminate")})}},{key:"_updateValue",value:function(){var b=this;Y(this,function(){b._primary.style.width=b.hasAttribute("value")?b.getAttribute("value")+"%":"0%",b._secondary.style.width=b.hasAttribute("secondary-value")?b.getAttribute("secondary-value")+"%":"0%"})}},{key:"value",set:function(b){if("number"!=typeof b||b<0||b>100)throw new Error("Invalid value");this.setAttribute("value",Math.floor(b))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(b){if("number"!=typeof b||b<0||b>100)throw new Error("Invalid value");this.setAttribute("secondary-value",Math.floor(b))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(b){b?this.setAttribute("indeterminate",""):this.removeAttribute("indeterminate")},get:function(){return this.hasAttribute("indeterminate")}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value","indeterminate"]}}]),b}(Ha);customElements.define("ons-progress-bar",_b);var ac={".progress-circular":"progress-circular--*",".progress-circular__primary":"progress-circular__primary--*",".progress-circular__secondary":"progress-circular__secondary--*"},bc=t.createElement('\n  <svg class="progress-circular">\n    <circle class="progress-circular__secondary" cx="50%" cy="50%" r="40%" fill="none" stroke-width="10%" stroke-miterlimit="10"/>\n    <circle class="progress-circular__primary" cx="50%" cy="50%" r="40%" fill="none" stroke-width="10%" stroke-miterlimit="10"/>\n  </svg>\n'),cc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){return b._compile()})}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,ac);"value"===b||"secondary-value"===b?this._updateValue():"indeterminate"===b&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var b=this;this.hasAttribute("indeterminate")?Y(this,function(){b._template.classList.add("progress-circular--indeterminate"),b._template.classList.remove("progress-circular--determinate")}):Y(this,function(){b._template.classList.add("progress-circular--determinate"),b._template.classList.remove("progress-circular--indeterminate")})}},{key:"_updateValue",value:function(){var b=this;this.hasAttribute("value")&&Y(this,function(){var a=Math.ceil(251.32*b.getAttribute("value")*.01);b._primary.style["stroke-dasharray"]=a+"%, 251.32%"}),this.hasAttribute("secondary-value")&&Y(this,function(){var a=Math.ceil(251.32*b.getAttribute("secondary-value")*.01);b._secondary.style["stroke-dasharray"]=a+"%, 251.32%"})}},{key:"_compile",value:function(){this._isCompiled()?this._template=t.findChild(this,".progress-circular"):this._template=bc.cloneNode(!0),this._primary=t.findChild(this._template,".progress-circular__primary"),this._secondary=t.findChild(this._template,".progress-circular__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),ca.initModifier(this,ac)}},{key:"_isCompiled",value:function(){if(!t.findChild(this,".progress-circular"))return!1;var b=t.findChild(this,".progress-circular");return!!t.findChild(b,".progress-circular__secondary")&&!!t.findChild(b,".progress-circular__primary")}},{key:"value",set:function(b){if("number"!=typeof b||b<0||b>100)throw new Error("Invalid value");this.setAttribute("value",Math.floor(b))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(b){if("number"!=typeof b||b<0||b>100)throw new Error("Invalid value");this.setAttribute("secondary-value",Math.floor(b))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(b){b?this.setAttribute("indeterminate",""):this.removeAttribute("indeterminate")},get:function(){return this.hasAttribute("indeterminate")}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value","indeterminate"]}}]),b}(Ha);customElements.define("ons-progress-circular",cc);var dc="initial",ec="preaction",fc="action",gc=function(b){b.style.transform="",b.style.WebkitTransform="",b.style.transition="",b.style.WebkitTransition=""},hc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this._boundOnDrag=this._onDrag.bind(this),this._boundOnDragStart=this._onDragStart.bind(this),this._boundOnDragEnd=this._onDragEnd.bind(this),this._boundOnScroll=this._onScroll.bind(this),this._setState(dc,!0)}},{key:"_setStyle",value:function(){var b=this.height;this.style.height=b+"px",this.style.lineHeight=b+"px",this.style.marginTop="-1px",this._pageElement.style.marginTop="-"+b+"px"}},{key:"_onScroll",value:function(b){var c=this._pageElement;c.scrollTop<0&&(c.scrollTop=0)}},{key:"_generateTranslationTransform",value:function(b){return"translate3d(0px, "+b+"px, 0px)"}},{key:"_onDrag",value:function(b){var c=this;if(!this.disabled){if(R.isAndroid()){var d=this._pageElement;d.scrollTop=this._startScroll-b.gesture.deltaY,d.scrollTop<window.innerHeight&&"up"!==b.gesture.direction&&b.gesture.preventDefault()}if(0===this._currentTranslation&&0===this._getCurrentScroll()){this._transitionDragLength=b.gesture.deltaY;"down"===b.gesture.interimDirection?this._transitionDragLength-=1:this._transitionDragLength+=1}var f=Math.max(b.gesture.deltaY-this._startScroll,0);this._thresholdHeightEnabled()&&f>=this.thresholdHeight?(b.gesture.stopDetect(),setImmediate(function(){return c._finish()})):f>=this.height?this._setState(ec):this._setState(dc),"up"!==b.gesture.direction&&"down"!==b.gesture.direction||b.stopPropagation(),this._translateTo(f)}}},{key:"_onDragStart",value:function(b){this.disabled||(this._startScroll=this._getCurrentScroll())}},{key:"_onDragEnd",value:function(b){if(!this.disabled&&this._currentTranslation>0){this._currentTranslation>this.height?this._finish():this._translateTo(0,{animate:!0})}}},{key:"_finish",value:function(){var b=this;this._setState(fc),this._translateTo(this.height,{animate:!0}),(this.onAction||function(a){return a()})(function(){b._translateTo(0,{animate:!0}),b._setState(dc)})}},{key:"_thresholdHeightEnabled",value:function(){var b=this.thresholdHeight;return b>0&&b>=this.height}},{key:"_setState",value:function(b,c){var d=this._getState();this.setAttribute("state",b),c||d===this._getState()||t.triggerElementEvent(this,"changestate",{pullHook:this,state:b,lastState:d})}},{key:"_getState",value:function(){return this.getAttribute("state")}},{key:"_getCurrentScroll",value:function(){return this._pageElement.scrollTop}},{key:"_isContentFixed",value:function(){return this.hasAttribute("fixed-content")}},{key:"_getScrollableElement",value:function(){return this._isContentFixed()?this:this._pageElement}},{key:"_translateTo",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0!=this._currentTranslation||0!=b){var e=function(){if(0===b){var e=c._getScrollableElement();gc(e)}d.callback&&d.callback()};this._currentTranslation=b,d.animate?w(this._getScrollableElement()).queue({transform:this._generateTranslationTransform(b)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(e):w(this._getScrollableElement()).queue({transform:this._generateTranslationTransform(b)}).play(e)}}},{key:"_disableDragLock",value:function(){this._dragLockDisabled=!0,this._destroyEventListeners(),this._createEventListeners()}},{key:"_createEventListeners",value:function(){this._gestureDetector=new B(this._pageElement,{dragMinDistance:1,dragDistanceCorrection:!1,dragLockToAxis:!this._dragLockDisabled}),this._gestureDetector.on("dragup dragdown dragleft dragright",this._boundOnDrag),this._gestureDetector.on("dragstart",this._boundOnDragStart),this._gestureDetector.on("dragend",this._boundOnDragEnd),this._pageElement.addEventListener("scroll",this._boundOnScroll,!1)}},{key:"_destroyEventListeners",value:function(){this._gestureDetector&&(this._gestureDetector.off("dragup dragdown dragleft dragright",this._boundOnDrag),this._gestureDetector.off("dragstart",this._boundOnDragStart),this._gestureDetector.off("dragend",this._boundOnDragEnd),this._gestureDetector.dispose(),this._gestureDetector=null),this._pageElement.removeEventListener("scroll",this._boundOnScroll,!1)}},{key:"connectedCallback",value:function(){this._currentTranslation=0,this._pageElement=this.parentNode,this._createEventListeners(),this._setStyle()}},{key:"disconnectedCallback",value:function(){this._pageElement.style.marginTop="",this._destroyEventListeners()}},{key:"attributeChangedCallback",value:function(b,c,d){"height"===b&&this._setStyle()}},{key:"height",set:function(b){if(!t.isInteger(b))throw new Error("The height must be an integer");this.setAttribute("height",b+"px")},get:function(){return parseInt(this.getAttribute("height")||"64",10)}},{key:"thresholdHeight",set:function(b){if(!t.isInteger(b))throw new Error("The threshold height must be an integer");this.setAttribute("threshold-height",b+"px")},get:function(){return parseInt(this.getAttribute("threshold-height")||"96",10)}},{key:"state",get:function(){return this._getState()}},{key:"pullDistance",get:function(){return this._currentTranslation}},{key:"disabled",set:function(b){return t.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["height"]}},{key:"STATE_INITIAL",get:function(){return dc}},{key:"STATE_PREACTION",get:function(){return ec}},{key:"STATE_ACTION",get:function(){return fc}}]),b}(Ha);customElements.define("ons-pull-hook",hc);var ic=function(){function a(){m(this,a),this._queue=[],this._index=0}return n(a,[{key:"animate",value:function(b,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,e=(new Date).getTime(),f={},g=!1,h=!1,i=!1,j=Object.keys(c),k=function(){var c=window.getComputedStyle(b);j.forEach(c.getPropertyValue.bind(c)),c=b.offsetHeight},l={stop:function(){var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i&&clearTimeout(i);var m=Math.min(1,((new Date).getTime()-e)/d);return j.forEach(function(a){b.style[a]=(1-m)*f[a]+m*c[a]+("opacity"==a?"":"px")}),b.style.transitionDuration="0s",k.stopNext?h=!1:g||(g=!0,h&&h()),l},then:function(b){return h=b,g&&h&&h(),l},speed:function(h){return aa.config.animationsDisabled&&(h=0),g||function(){i&&clearTimeout(i);var a=(new Date).getTime()-e,g=a/d,m=h*(1-g);j.forEach(function(a){b.style[a]=(1-g)*f[a]+g*c[a]+("opacity"==a?"":"px")}),k(),e=b.speedUpTime,d=m,b.style.transitionDuration=d/1e3+"s",j.forEach(function(a){b.style[a]=c[a]+("opacity"==a?"":"px")}),i=setTimeout(l.stop,m)}(),l},finish:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,c=((new Date).getTime()-e)/d;return l.speed(b/(1-c)),l}};if(b.hasAttribute("disabled")||g||aa.config.animationsDisabled)return l;var m=window.getComputedStyle(b);return j.forEach(function(a){var b=parseFloat(m.getPropertyValue(a));f[a]=isNaN(b)?0:b}),g||(b.style.transitionProperty=j.join(","),b.style.transitionDuration=d/1e3+"s",j.forEach(function(a){b.style[a]=c[a]+("opacity"==a?"":"px")})),i=setTimeout(l.stop,d),this._onStopAnimations(b,l.stop),l}}]),n(a,[{key:"_onStopAnimations",value:function(b,c){var d=this._queue,e=this._index++;d[b]=d[b]||[],d[b][e]=function(a){return delete d[b][e],d[b]&&0==d[b].length&&delete d[b],c(a)}}},{key:"stopAnimations",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(b))return b.forEach(function(a){c.stopAnimations(a,d)});(this._queue[b]||[]).forEach(function(a){a(d||{})})}},{key:"stopAll",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stopAnimations(Object.keys(this._queue),b)}},{key:"fade",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return this.animate(b,{opacity:0},c)}}]),a}(),jc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){return b._compile()}),this._animator=new ic,["color","center","start-radius","background"].forEach(function(a){b.attributeChangedCallback(a,null,b.getAttribute(a))})}},{key:"_compile",value:function(){this.classList.add("ripple"),this._wave=this.getElementsByClassName("ripple__wave")[0],this._background=this.getElementsByClassName("ripple__background")[0],this._background&&this._wave||(this._wave=t.create(".ripple__wave"),this._background=t.create(".ripple__background"),this.appendChild(this._wave),this.appendChild(this._background))}},{key:"_calculateCoords",value:function(b){var c,d,e,f,g,h=this.getBoundingClientRect();return this._center?(c=h.width/2,d=h.height/2,g=Math.sqrt(c*c+d*d)):(c=(b.clientX||b.changedTouches[0].clientX)-h.left,d=(b.clientY||b.changedTouches[0].clientY)-h.top,e=Math.max(d,h.height-d),f=Math.max(c,h.width-c),g=Math.sqrt(e*e+f*f)),{x:c,y:d,r:g}}},{key:"_rippleAnimation",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,d=this._animator,e=this._wave,f=this._background,g=this._minR,h=this._calculateCoords(b),i=h.x,j=h.y,k=h.r;return d.stopAll({stopNext:1}),d.animate(f,{opacity:1},c),t.extend(e.style,{opacity:1,top:j-g+"px",left:i-g+"px",width:2*g+"px",height:2*g+"px"}),d.animate(e,{top:j-k,left:i-k,height:2*k,width:2*k},c)}},{key:"_updateParent",value:function(){if(!this._parentUpdated&&this.parentNode){"static"===window.getComputedStyle(this.parentNode).getPropertyValue("position")&&(this.parentNode.style.position="relative"),this._parentUpdated=!0}}},{key:"_onTap",value:function(b){var c=this;this.disabled||(this._updateParent(),this._rippleAnimation(b.gesture.srcEvent).then(function(){c._animator.fade(c._wave),c._animator.fade(c._background)}))}},{key:"_onHold",value:function(b){this.disabled||(this._updateParent(),this._holding=this._rippleAnimation(b.gesture.srcEvent,2e3),document.addEventListener("release",this._boundOnRelease))}},{key:"_onRelease",value:function(b){var c=this;this._holding&&(this._holding.speed(300).then(function(){c._animator.stopAll({stopNext:!0}),c._animator.fade(c._wave),c._animator.fade(c._background)}),this._holding=!1),document.removeEventListener("release",this._boundOnRelease)}},{key:"_onDragStart",value:function(b){if(this._holding)return this._onRelease(b);-1!=["left","right"].indexOf(b.gesture.direction)&&this._onTap(b)}},{key:"connectedCallback",value:function(){this._parentNode=this.parentNode,this._boundOnTap=this._onTap.bind(this),this._boundOnHold=this._onHold.bind(this),this._boundOnDragStart=this._onDragStart.bind(this),this._boundOnRelease=this._onRelease.bind(this),aa.config.animationsDisabled?this.disabled=!0:(this._parentNode.addEventListener("tap",this._boundOnTap),this._parentNode.addEventListener("hold",this._boundOnHold),this._parentNode.addEventListener("dragstart",this._boundOnDragStart))}},{key:"disconnectedCallback",value:function(){var b=this._parentNode||this.parentNode;b.removeEventListener("tap",this._boundOnTap),b.removeEventListener("hold",this._boundOnHold),b.removeEventListener("dragstart",this._boundOnDragStart)}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;"start-radius"===b&&(this._minR=Math.max(0,parseFloat(d)||0)),"color"===b&&d&&Y(this,function(){e._wave.style.background=d,e.hasAttribute("background")||(e._background.style.background=d)}),"background"===b&&(d||c)&&("none"===d?Y(this,function(){e._background.setAttribute("disabled","disabled"),e._background.style.background="transparent"}):Y(this,function(){e._background.hasAttribute("disabled")&&e._background.removeAttribute("disabled"),e._background.style.background=d})),"center"===b&&(this._center=null!=d&&"false"!=d)}},{key:"disabled",set:function(b){return t.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["start-radius","color","background","center"]}}]),b}(Ha);customElements.define("ons-ripple",jc);var kc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),b}(Ha);customElements.define("ons-row",kc);var lc={"":"speed-dial__item--*"},mc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this._compile(),this._boundOnClick=this._onClick.bind(this)}},{key:"attributeChangedCallback",value:function(b,c,d){switch(b){case"modifier":ca.onModifierChanged(c,d,this,lc);break;case"ripple":this._updateRipple()}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_updateRipple",value:function(){t.updateRipple(this)}},{key:"_onClick",value:function(b){b.stopPropagation()}},{key:"_compile",value:function(){va.prepare(this),this.classList.add("fab"),this.classList.add("fab--mini"),this.classList.add("speed-dial__item"),this._updateRipple(),ca.initModifier(this,lc)}}],[{key:"observedAttributes",get:function(){return["modifier","ripple"]}}]),b}(Ha);customElements.define("ons-speed-dial-item",mc);var nc=function a(b,c){return a.css.apply(a,arguments)};nc.css=function(a,b){return Object.keys(b).forEach(function(c){c in a.style?a.style[c]=b[c]:nc._prefix(c)in a.style?a.style[nc._prefix(c)]=b[c]:console.warn("No such style property: "+c)}),a},nc._prefix=function(){var a=window.getComputedStyle(document.documentElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];return function(a){return b+a.substr(0,1).toUpperCase()+a.substr(1)}}(),nc.clear=function(a){nc._clear(a)},nc._clear=function(a){for(var b=a.style.length,c=a.style,d=[],e=0;e<b;e++)d.push(c[e]);d.forEach(function(a){c[a]=""})};var oc={"":"speed-dial--*"},pc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){b._compile()}),this._shown=!0,this._itemShown=!1,this._boundOnClick=this._onClick.bind(this)}},{key:"_compile",value:function(){this.classList.contains("speed__dial")||(this.classList.add("speed__dial"),va.prepare(this),this._updateRipple(),ca.initModifier(this,oc),this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up")),this._updatePosition()}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;switch(b){case"modifier":ca.onModifierChanged(c,d,this,oc);break;case"ripple":Y(this,function(){return e._updateRipple()});break;case"direction":Y(this,function(){return e._updateDirection(d)});break;case"position":Y(this,function(){return e._updatePosition()})}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_onClick",value:function(b){!this.disabled&&this._shown&&this.toggleItems()}},{key:"_show",value:function(){this.inline||this.show()}},{key:"_hide",value:function(){this.inline||this.hide()}},{key:"_updateRipple",value:function(){var b=t.findChild(this,"ons-fab");b&&(this.hasAttribute("ripple")?b.setAttribute("ripple",""):b.removeAttribute("ripple"))}},{key:"_updateDirection",value:function(b){for(var c=this.items,d=0;d<c.length;d++)nc(c[d],{transitionDelay:25*d+"ms",bottom:"auto",right:"auto",top:"auto",left:"auto"});switch(b){case"up":for(var e=0;e<c.length;e++)c[e].style.bottom=72+56*e+"px",c[e].style.right="8px";break;case"down":for(var f=0;f<c.length;f++)c[f].style.top=72+56*f+"px",c[f].style.left="8px";break;case"left":for(var g=0;g<c.length;g++)c[g].style.top="8px",c[g].style.right=72+56*g+"px";break;case"right":for(var h=0;h<c.length;h++)c[h].style.top="8px",c[h].style.left=72+56*h+"px";break;default:throw new Error("Argument must be one of up, down, left or right.")}}},{key:"_updatePosition",value:function(){var b=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),b){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.querySelector("ons-fab").show(),this._shown=!0}},{key:"hide",value:function(){var b=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hideItems(),setTimeout(function(){b.querySelector("ons-fab").hide()},200),this._shown=!1}},{key:"showItems",value:function(){if(this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up"),!this._itemShown)for(var b=this.items,c=0;c<b.length;c++)nc(b[c],{transform:"scale(1)",transitionDelay:25*c+"ms"});this._itemShown=!0,t.triggerElementEvent(this,"open")}},{key:"hideItems",value:function(){if(this._itemShown)for(var b=this.items,c=0;c<b.length;c++)nc(b[c],{transform:"scale(0)",transitionDelay:25*(b.length-c)+"ms"});this._itemShown=!1,t.triggerElementEvent(this,"close")}},{key:"isOpen",value:function(){return this._itemShown}},{key:"toggle",value:function(){this.visible?this.hide():this.show()}},{key:"toggleItems",value:function(){this.isOpen()?this.hideItems():this.showItems()}},{key:"items",get:function(){return t.arrayFrom(this.querySelectorAll("ons-speed-dial-item"))}},{key:"disabled",set:function(b){return b&&this.hideItems(),t.arrayFrom(this.children).forEach(function(a){t.match(a,".fab")&&t.toggleAttribute(a,"disabled",b)}),t.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"inline",get:function(){return this.hasAttribute("inline")}},{key:"visible",get:function(){return this._shown&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","direction","position"]}}]),b}(Ha);customElements.define("ons-speed-dial",pc);var qc={ready:function(b,c){setImmediate(c)}},rc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;this._page=null,this._pageLoader=Ba,Y(this,function(){var a=b._getPageTarget();a&&b.load(a)})}},{key:"connectedCallback",value:function(){if(!t.match(this.parentNode,"ons-splitter"))throw new Error('"ons-splitter-content" must have "ons-splitter" as parentNode.')}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(b,c,d){}},{key:"load",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._page=b;var e=d.callback||function(){};return new Promise(function(a){var d=c._content||null;c._pageLoader.load({page:b,parent:c},function(b){d&&(c._pageLoader.unload(d),d=null),setImmediate(function(){return c._show()}),e(b),a(b)})})}},{key:"_show",value:function(){this._content._show()}},{key:"_hide",value:function(){this._content._hide()}},{key:"_destroy",value:function(){this._pageLoader.unload(this._content),this.remove()}},{key:"page",get:function(){return this._page},set:function(b){this._page=b}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(b){if(!(b instanceof Aa))throw Error("First parameter must be an instance of PageLoader");this._pageLoader=b}}],[{key:"observedAttributes",get:function(){return[]}},{key:"rewritables",get:function(){return qc}}]),b}(Ha);customElements.define("ons-splitter-content",rc);var sc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this._boundOnClick=this._onClick.bind(this)}},{key:"_onClick",value:function(b){t.match(this.parentNode,"ons-splitter")&&this.parentNode._sides.forEach(function(a){return a.close("left").catch(function(){})}),b.stopPropagation()}},{key:"attributeChangedCallback",value:function(b,c,d){}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick)}}],[{key:"observedAttributes",get:function(){return[]}}]),b}(Ha);customElements.define("ons-splitter-mask",sc);var tc=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"cubic-bezier(.1, .7, .1, 1)":c,e=a.duration,f=void 0===e?.3:e,g=a.delay,h=void 0===g?0:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,duration:f,delay:h}))}return q(b,a),n(b,[{key:"updateOptions",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.extend(this,{timing:this.timing,duration:this.duration,delay:this.delay},b)}},{key:"activate",value:function(b){var c=this,d=b.parentNode;Y(d,function(){c._side=b,c._content=d.content,c._mask=d.mask})}},{key:"inactivate",value:function(){this._content=this._side=this._mask=null}},{key:"translate",value:function(b){w(this._side).queue({transform:"translate3d("+(this.minus+b)+"px, 0px, 0px)"}).play()}},{key:"open",value:function(b){w.runAll(w(this._side).wait(this.delay).queue({transform:"translate3d("+this.minus+"100%, 0px, 0px)"},{duration:this.duration,timing:this.timing}).queue(function(a){a(),b&&b()}),w(this._mask).wait(this.delay).queue({display:"block"}).queue({opacity:"1"},{duration:this.duration,timing:"linear"}))}},{key:"close",value:function(b){var c=this;w.runAll(w(this._side).wait(this.delay).queue({transform:"translate3d(0px, 0px, 0px)"},{duration:this.duration,timing:this.timing}).queue(function(a){c._side.style.webkitTransition="",b&&b(),a()}),w(this._mask).wait(this.delay).queue({opacity:"0"},{duration:this.duration,timing:"linear"}).queue({display:"none"}))}},{key:"minus",get:function(){return"right"===this._side._side?"-":""}}]),b}(Da),uc={default:tc,overlay:tc},vc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"_getSide",value:function(b){return t.findChild(this,function(a){return t.match(a,"ons-splitter-side")&&a.getAttribute("side")===b})}},{key:"_onDeviceBackButton",value:function(b){this._sides.some(function(a){return!!a.isOpen&&a.close()})||b.callParentHandler()}},{key:"_onModeChange",value:function(b){var c=this;b.target.parentNode&&Y(this,function(){c._layout()})}},{key:"_layout",value:function(){var b=this;this._sides.forEach(function(a){b.content.style[a.side]="split"===a.mode?a._width:0})}},{key:"init",value:function(){var b=this;this._boundOnModeChange=this._onModeChange.bind(this),Y(this,function(){b._compile(),b._layout()})}},{key:"_compile",value:function(){this.mask||this.appendChild(document.createElement("ons-splitter-mask"))}},{key:"connectedCallback",value:function(){this.onDeviceBackButton=this._onDeviceBackButton.bind(this),this.addEventListener("modechange",this._boundOnModeChange,!1)}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this.removeEventListener("modechange",this._boundOnModeChange,!1)}},{key:"attributeChangedCallback",value:function(b,c,d){}},{key:"_show",value:function(){t.propagateAction(this,"_show")}},{key:"_hide",value:function(){t.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){t.propagateAction(this,"_destroy"),this.remove()}},{key:"left",get:function(){return this._getSide("left")}},{key:"right",get:function(){return this._getSide("right")}},{key:"_sides",get:function(){return[this.left,this.right].filter(function(a){return a})}},{key:"content",get:function(){return t.findChild(this,"ons-splitter-content")}},{key:"mask",get:function(){return t.findChild(this,"ons-splitter-mask")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(b){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=pa.createHandler(this,b)}}],[{key:"registerAnimator",value:function(b,c){if(!(c instanceof tc))throw new Error("Animator parameter must be an instance of SplitterAnimator.");uc[b]=c}},{key:"SplitterAnimator",get:function(){return tc}},{key:"animators",get:function(){return uc}}]),b}(Ha);customElements.define("ons-splitter",vc);var wc="split",xc="collapse",yc="closed",zc="open",Ac="changing",Bc=["animation","width","side","collapse","swipeable","swipe-target-width","animation-options","open-threshold"],Cc={ready:function(b,c){setImmediate(c)}},Dc=function(){function a(b,c){m(this,a),this._element=b,this._boundOnChange=this._onChange.bind(this),c&&this.changeTarget(c)}return n(a,[{key:"changeTarget",value:function(b){this.disable(),this._target=b,b&&(this._orientation=-1!==["portrait","landscape"].indexOf(b),this.activate())}},{key:"_match",value:function(b){return this._orientation?this._target===(b.isPortrait?"portrait":"landscape"):b.matches}},{key:"_onChange",value:function(b){this._element._updateMode(this._match(b)?xc:wc)}},{key:"activate",value:function(){this._orientation?(ga.on("change",this._boundOnChange),this._onChange({isPortrait:ga.isPortrait()})):(this._queryResult=window.matchMedia(this._target),this._queryResult.addListener(this._boundOnChange),this._onChange(this._queryResult))}},{key:"disable",value:function(){this._orientation?ga.off("change",this._boundOnChange):this._queryResult&&(this._queryResult.removeListener(this._boundOnChange),this._queryResult=null)}}]),a}(),Ec=function(b,c){var d=[parseInt(b,10),/px/.test(b)],e=d[0];return d[1]?e:Math.round(c.offsetWidth*e/100)},Fc=function(){function a(b){m(this,a),this._active=!1,this._state=yc,this._element=b,this._lock=new xa}return n(a,[{key:"_animator",get:function(){return this._element._animator}}]),n(a,[{key:"isOpen",value:function(){return this._active&&this._state!==yc}},{key:"handleGesture",value:function(b){!this._active||this._lock.isLocked()||this._isOpenOtherSideMenu()||("dragstart"===b.type?this._onDragStart(b):this._ignoreDrag||("dragend"===b.type?this._onDragEnd(b):this._onDrag(b)))}},{key:"_onDragStart",value:function(b){var c=!/left|right/.test(b.gesture.direction),d="left"===this._element._side?b.gesture.center.clientX:window.innerWidth-b.gesture.center.clientX,e=this._element._swipeTargetWidth,f=this.isOpen();this._ignoreDrag=c||e&&d>e&&!f,this._width=Ec(this._element._width,this._element.parentNode),this._startDistance=this._distance=f?this._width:0}},{key:"_onDrag",value:function(b){b.gesture.preventDefault();var c="left"===this._element._side?b.gesture.deltaX:-b.gesture.deltaX,d=Math.max(0,Math.min(this._width,this._startDistance+c));d!==this._distance&&(this._animator.translate(d),this._distance=d,this._state=Ac)}},{key:"_onDragEnd",value:function(b){var c=this._distance,d=this._width,e=this._element,f=b.gesture.interimDirection,g=e._side!==f&&c>d*e._threshold;this.executeAction(g?"open":"close"),this._ignoreDrag=!0}},{key:"layout",value:function(){this._active&&this._state===zc&&this._animator.open()}},{key:"enterMode",value:function(){this._active||(this._active=!0,this.layout())}},{key:"exitMode",value:function(){this._active=!1}},{key:"_isOpenOtherSideMenu",value:function(){var b=this;return t.arrayFrom(this._element.parentElement.children).some(function(a){return t.match(a,"ons-splitter-side")&&a!==b._element&&a.isOpen})}},{key:"executeAction",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e="open"===b?zc:yc;if(!this._active)return Promise.resolve(!1);if(this._state===e)return Promise.resolve(this._element);if(this._lock.isLocked())return Promise.reject("Splitter side is locked.");if("open"===b&&this._isOpenOtherSideMenu())return Promise.reject("Another menu is already open.");if(this._element._emitEvent("pre"+b))return Promise.reject("Canceled in pre"+b+" event.");var f=d.callback,g=this._lock.lock(),h=function(){c._state=e,c.layout(),g(),c._element._emitEvent("post"+b),f&&f()};return d.withoutAnimation?(h(),Promise.resolve(this._element)):(this._state=Ac,new Promise(function(a){c._animator[b](function(){h(),a(c._element)})}))}}]),a}(),Gc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;this._page=null,this._pageLoader=Ba,this._collapseMode=new Fc(this),this._collapseDetection=new Dc(this),this._animatorFactory=new ba({animators:vc.animators,baseClass:tc,baseClassName:"SplitterAnimator",defaultAnimation:this.getAttribute("animation")}),this._boundHandleGesture=function(a){return b._collapseMode.handleGesture(a)},this._watchedAttributes=Bc,Y(this,function(){Cc.ready(b,function(){var a=b._getPageTarget();a&&b.load(a)})})}},{key:"connectedCallback",value:function(){var b=this;if(!t.match(this.parentNode,"ons-splitter"))throw new Error("Parent must be an ons-splitter element.");this._gestureDetector=new B(this.parentElement,{dragMinDistance:1}),Y(this,function(){b._watchedAttributes.forEach(function(a){return b._update(a)})}),this.hasAttribute("side")||this.setAttribute("side","left")}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"disconnectedCallback",value:function(){this._collapseDetection.disable(),this._gestureDetector.dispose(),this._gestureDetector=null}},{key:"attributeChangedCallback",value:function(b,c,d){this._update(b,d)}},{key:"_update",value:function(b,c){return b="_update"+b.split("-").map(function(a){return a[0].toUpperCase()+a.slice(1)}).join(""),this[b](c)}},{key:"_emitEvent",value:function(b){if("pre"!==b.slice(0,3))return t.triggerElementEvent(this,b,{side:this});var c=!1;return t.triggerElementEvent(this,b,{side:this,cancel:function(){return c=!0}}),c}},{key:"_updateCollapse",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("collapse");return null===b||"split"===b?(this._collapseDetection.disable(),this._updateMode(wc)):""===b||"collapse"===b?(this._collapseDetection.disable(),this._updateMode(xc)):void this._collapseDetection.changeTarget(b)}},{key:"_updateMode",value:function(b){b!==this._mode&&(this._mode=b,this._collapseMode[b===xc?"enterMode":"exitMode"](),this.setAttribute("mode",b),t.triggerElementEvent(this,"modechange",{side:this,mode:b}))}},{key:"_updateOpenThreshold",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("open-threshold");this._threshold=Math.max(0,Math.min(1,parseFloat(b)||.3))}},{key:"_updateSwipeable",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("swipeable"),c=null===b?"off":"on";this._gestureDetector&&this._gestureDetector[c]("dragstart dragleft dragright dragend",this._boundHandleGesture)}},{key:"_updateSwipeTargetWidth",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("swipe-target-width");this._swipeTargetWidth=Math.max(0,parseInt(b)||0)}},{key:"_updateWidth",value:function(){this.style.width=this._width}},{key:"_updateSide",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("side");this._side="right"===b?b:"left"}},{key:"_updateAnimation",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation");this._animator=this._animatorFactory.newAnimator({animation:b}),this._animator.activate(this)}},{key:"_updateAnimationOptions",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation-options");this._animator.updateOptions(ba.parseAnimationOptionsString(b))}},{key:"open",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._collapseMode.executeAction("open",b)}},{key:"close",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._collapseMode.executeAction("close",b)}},{key:"toggle",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isOpen?this.close(b):this.open(b)}},{key:"load",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._page=b;var e=d.callback||function(){};return new Promise(function(a){var d=c._content||null;c._pageLoader.load({page:b,parent:c},function(b){d&&(c._pageLoader.unload(d),d=null),setImmediate(function(){return c._show()}),e(b),a(b)})})}},{key:"_show",value:function(){this._content._show()}},{key:"_hide",value:function(){this._content._hide()}},{key:"_destroy",value:function(){this._pageLoader.unload(this._content),this.remove()}},{key:"side",get:function(){return"right"===this.getAttribute("side")?"right":"left"}},{key:"_width",get:function(){var b=this.getAttribute("width");return/^\d+(px|%)$/.test(b)?b:"80%"},set:function(b){this.setAttribute("width",b)}},{key:"page",get:function(){return this._page},set:function(b){this._page=b}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(b){if(!(b instanceof Aa))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=b}},{key:"mode",get:function(){return this._mode}},{key:"isOpen",get:function(){return this._collapseMode.isOpen()}}],[{key:"observedAttributes",get:function(){return Bc}},{key:"rewritables",get:function(){return Cc}}]),b}(Ha);customElements.define("ons-splitter-side",Gc);var Hc={"":"switch--*",".switch__input":"switch--*__input",".switch__handle":"switch--*__handle",".switch__toggle":"switch--*__toggle"},Ic=t.createFragment('\n  <input type="checkbox" class="switch__input">\n  <div class="switch__toggle">\n    <div class="switch__handle">\n      <div class="switch__touch"></div>\n    </div>\n  </div>\n'),Jc={ios:[1,21],material:[0,16]},Kc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;this._checked=!1,this._disabled=!1,this._boundOnChange=this._onChange.bind(this),Y(this,function(){b._compile(),["checked","disabled","modifier","name","input-id"].forEach(function(a){b.attributeChangedCallback(a,null,b.getAttribute(a))})})}},{key:"_compile",value:function(){va.prepare(this),this.classList.add("switch"),t.findChild(this,".switch__input")&&t.findChild(this,".switch__toggle")||this.appendChild(Ic.cloneNode(!0)),ca.initModifier(this,Hc),this._checkbox=this.querySelector(".switch__input"),this._handle=this.querySelector(".switch__handle"),this._checkbox.checked=this._checked,this._checkbox.disabled=this._disabled}},{key:"disconnectedCallback",value:function(){var b=this;Y(this,function(){b._checkbox.removeEventListener("change",b._boundOnChange),b.removeEventListener("dragstart",b._onDragStart),b.removeEventListener("hold",b._onHold),b.removeEventListener("tap",b.click),b.removeEventListener("click",b._onClick),b._gestureDetector&&b._gestureDetector.dispose()})}},{key:"connectedCallback",value:function(){var b=this;Y(this,function(){b._checkbox.addEventListener("change",b._boundOnChange),b.addEventListener("dragstart",b._onDragStart),b.addEventListener("hold",b._onHold),b.addEventListener("tap",b.click),b.addEventListener("click",b._onClick),b._gestureDetector=new B(b,{dragMinDistance:1,holdTimeout:251}),b._boundOnRelease=b._onRelease.bind(b)})}},{key:"_onChange",value:function(b){t.toggleAttribute(this,"checked",this.checkbox.checked)}},{key:"_onClick",value:function(b){b.target.classList.contains("switch__touch")&&b.preventDefault()}},{key:"click",value:function(){this._disabled||(this.checked=!this.checked,t.triggerElementEvent(this,"change",{value:this.checked,switch:this,isInteractive:!0}))}},{key:"_getPosition",value:function(b){var c=this._locations;return Math.min(c[1],Math.max(c[0],this._startX+b.gesture.deltaX))}},{key:"_onHold",value:function(b){this.disabled||(this.classList.add("switch--active"),document.addEventListener("release",this._boundOnRelease))}},{key:"_onDragStart",value:function(b){if(this.disabled||-1===["left","right"].indexOf(b.gesture.direction))return void this.classList.remove("switch--active");b.stopPropagation(),this.classList.add("switch--active"),this._startX=this._locations[this.checked?1:0],this.addEventListener("drag",this._onDrag),document.addEventListener("release",this._boundOnRelease)}},{key:"_onDrag",value:function(b){b.gesture.srcEvent.preventDefault(),this._handle.style.left=this._getPosition(b)+"px"}},{key:"_onRelease",value:function(b){var c=this._locations,d=this._getPosition(b),e=this.checked;this.checked=d>=(c[0]+c[1])/2,this.checked!==e&&t.triggerElementEvent(this,"change",{value:this.checked,switch:this,isInteractive:!0}),this.removeEventListener("drag",this._onDrag),document.removeEventListener("release",this._boundOnRelease),this._handle.style.left="",this.classList.remove("switch--active")}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;Y(this,function(){switch(b){case"modifier":e._isMaterial=-1!==(d||"").indexOf("material"),e._locations=Jc[e._isMaterial?"material":"ios"],ca.onModifierChanged(c,d,e,Hc);break;case"input-id":e._checkbox.id=d;break;case"checked":e._checked=null!==d,e._checkbox.checked=null!==d,t.toggleAttribute(e._checkbox,b,null!==d);break;case"disabled":e._disabled=null!==d,e._checkbox.disabled=null!==d,t.toggleAttribute(e._checkbox,b,null!==d)}})}},{key:"checked",get:function(){return this._checked},set:function(b){this._checked=!!b,t.toggleAttribute(this,"checked",this._checked)}},{key:"disabled",get:function(){return this._disabled},set:function(b){this._disabled=!!b,t.toggleAttribute(this,"disabled",this._disabled),this._checkbox.disabled=this._disabled}},{key:"checkbox",get:function(){return this._checkbox}}],[{key:"observedAttributes",get:function(){return["modifier","input-id","checked","disabled"]}}]),b}(Ha);customElements.define("ons-switch",Kc);var Lc=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"linear":c,e=a.delay,f=void 0===e?.4:e,g=a.duration,h=void 0===g?0:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"apply",value:function(b,c,d,e,f){throw new Error("This method must be implemented.")}}]),b}(Da),Mc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"apply",value:function(b,c,d,e,f){setTimeout(f,1e3/60)}}]),b}(Lc),Nc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"apply",value:function(b,c,d,e,f){w.runAll(w(b).saveStyle().queue({transform:"translate3D(0, 0, 0)",opacity:0}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)",opacity:1},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){f(),a()}),w(c).queue({transform:"translate3D(0, 0, 0)",opacity:1}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)",opacity:0},{duration:this.duration,timing:this.timing}))}}]),b}(Lc),Oc=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.timing,d=void 0===c?"ease-in":c,e=a.delay,f=void 0===e?.15:e,g=a.duration,h=void 0===g?0:g;return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,{timing:d,delay:f,duration:h}))}return q(b,a),n(b,[{key:"apply",value:function(b,c,d,e,f){var g=d>e;w.runAll(w(b).saveStyle().queue({transform:"translate3D("+(g?"":"-")+"100%, 0, 0)"}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)"},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(a){f(),a()}),w(c).queue({transform:"translate3D(0, 0, 0)"}).wait(this.delay).queue({transform:"translate3D("+(g?"-":"")+"100%, 0, 0)"},{duration:this.duration,timing:this.timing}))}}]),b}(Lc),Pc={".tab-bar__content":"tab-bar--*__content",".tab-bar":"tab-bar--*"},Qc={default:Mc,fade:Nc,slide:Oc,none:Mc},Rc={ready:function(b,c){c()}},Sc=function(){var a=0;return function(){return"ons-tabbar-gen-"+a++}}(),Tc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;this._tabbarId=Sc(),Y(this,function(){b._compile();for(var a=b._contentElement,c=0;c<a.children.length;c++)a.children[c].style.display="none";var d=b.getAttribute("activeIndex"),e=b._tabbarElement;d&&e.children.length>d&&e.children[d].setAttribute("active","true"),va.prepare(b),ca.initModifier(b,Pc),b._animatorFactory=new ba({animators:Qc,baseClass:Lc,baseClassName:"TabbarAnimator",defaultAnimation:b.getAttribute("animation")})})}},{key:"connectedCallback",value:function(){var b=this;Y(this,function(){return b._updatePosition()})}},{key:"_compile",value:function(){if(this._contentElement&&this._tabbarElement){var b=t.findChild(this,".tab-bar__content"),c=t.findChild(this,".tab-bar");b.classList.add("ons-tab-bar__content"),c.classList.add("ons-tab-bar__footer")}else{for(var d=t.create(".ons-tab-bar__content.tab-bar__content"),e=t.create(".tab-bar.ons-tab-bar__footer");this.firstChild;)e.appendChild(this.firstChild);this.appendChild(d),this.appendChild(e)}}},{key:"_updatePosition",value:function(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("position"),d=this._top="top"===c||"auto"===c&&R.isAndroid(),e=d?t.addModifier:t.removeModifier;e(this,"top");var f=t.findParent(this,"ons-page");f&&(this.style.top=d?window.getComputedStyle(f._getContentElement(),null).getPropertyValue("padding-top"):"",t.match(f.firstChild,"ons-toolbar")&&e(f.firstChild,"noshadow")),aa.autoStatusBarFill(function(){var a=t.findParent(b,function(a){return a.hasAttribute("status-bar-fill")});t.toggleAttribute(b,"status-bar-fill",d&&!a)})}},{key:"_getTabbarElement",value:function(){return t.findChild(this,".tab-bar")}},{key:"loadPage",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return console.warn("The loadPage method has been deprecated and will be removed in the next minor version."),new Promise(function(a){(c._tabbarElement.children[0]||new Xc)._loadPage(b,c._contentElement,function(b){a(c._loadPageDOMAsync(b,d))})})}},{key:"_loadPageDOMAsync",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(a){c._contentElement.appendChild(b),-1!==c.getActiveTabIndex()?a(c._switchPage(b,d)):(d.callback instanceof Function&&d.callback(),c._oldPageElement=b,a(b))})}},{key:"getTabbarId",value:function(){return this._tabbarId}},{key:"_getCurrentPageElement",value:function(){for(var b=this._contentElement.children,c=null,d=0;d<b.length;d++)if("none"!==b[d].style.display){c=b[d];break}if(c&&"ons-page"!==c.nodeName.toLowerCase())throw new Error('Invalid state: page element must be a "ons-page" element.');return c}},{key:"_switchPage",value:function(b,c){var d=this._oldPageElement||aa.nullElement;this._oldPageElement=b;var e=this._animatorFactory.newAnimator(c);return new Promise(function(a){d!==aa.nullElement&&d._hide(),e.apply(b,d,c.selectedTabIndex,c.previousTabIndex,function(){d!==aa.nullElement&&(d.style.display="none"),b.style.display="block",b._show(),c.callback instanceof Function&&c.callback(),a(b)})})}},{key:"setActiveTab",value:function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(d&&"object"!=(void 0===d?"undefined":k(d)))throw new Error("options must be an object. You supplied "+d);d.animationOptions=t.extend(d.animationOptions||{},ba.parseAnimationOptionsString(this.getAttribute("animation-options"))),!d.animation&&this.hasAttribute("animation")&&(d.animation=this.getAttribute("animation"));var e=this._getActiveTabElement(),f=this._getTabElement(b),g=this.getActiveTabIndex(),h=b,i=this._getCurrentPageElement();if(!f)return Promise.reject("Specified index does not match any tab.");if(h===g)return t.triggerElementEvent(this,"reactive",{index:h,tabItem:f}),Promise.resolve(i);var j=!1;if(t.triggerElementEvent(this,"prechange",{index:h,tabItem:f,cancel:function(){return j=!0}}),j)return f.setInactive(),e&&e.setActive(),Promise.reject("Canceled in prechange event.");f.setActive();var l=o({},d,{previousTabIndex:g,selectedTabIndex:h});return e?e.setInactive():l.animation="none",new Promise(function(a){f._loadPageElement(c._contentElement,function(b){b.removeAttribute("style"),c._switchPage(b,l).then(function(b){return t.triggerElementEvent(c,"postchange",{index:h,tabItem:f}),a(b)})})})}},{key:"setTabbarVisibility",value:function(b){this._contentElement.style[this._top?"top":"bottom"]=b?"":"0px",this._getTabbarElement().style.display=b?"":"none"}},{key:"getActiveTabIndex",value:function(){for(var b=this._getTabbarElement().children,c=0;c<b.length;c++)if(b[c]instanceof Xc&&b[c].isActive&&b[c].isActive())return c;return-1}},{key:"_getActiveTabElement",value:function(){return this._getTabElement(this.getActiveTabIndex())}},{key:"_getTabElement",value:function(b){return this._getTabbarElement().children[b]}},{key:"disconnectedCallback",value:function(){}},{key:"_show",value:function(){var b=this._getCurrentPageElement();b&&b._show()}},{key:"_hide",value:function(){var b=this._getCurrentPageElement();b&&b._hide()}},{key:"_destroy",value:function(){for(var b=this._getTabbarElement().children,c=b.length-1;c>=0;c--)b[c].remove();this.remove()}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,Pc)}},{key:"_contentElement",get:function(){return t.findChild(this,".tab-bar__content")}},{key:"_tabbarElement",get:function(){return t.findChild(this,".tab-bar")}},{key:"pages",get:function(){return t.arrayFrom(this._contentElement.children)}}],[{key:"registerAnimator",value:function(b,c){if(!(c.prototype instanceof Lc))throw new Error('"Animator" param must inherit TabbarElement.TabbarAnimator');Qc[b]=c}},{key:"observedAttributes",get:function(){return["modifier"]}},{key:"rewritables",get:function(){return Rc}},{key:"TabbarAnimator",get:function(){return Lc}},{key:"animators",get:function(){return Qc}}]),b}(Ha);customElements.define("ons-tabbar",Tc);var Uc={"":"tab-bar--*__item",".tab-bar__button":"tab-bar--*__button"},Vc=t.createElement('\n  <div>\n    <input type="radio" style="display: none">\n    <button class="tab-bar__button"></button>\n  </div>\n'),Wc=t.createElement('\n  <div>\n    <div class="tab-bar__icon">\n      <ons-icon icon="ion-cloud"></ons-icon>\n    </div>\n    <div class="tab-bar__label">label</div>\n    <div class="tab-bar__badge notification">1</div>\n  </div>\n'),Xc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;this._pageLoader=Ba,this._page=null,this.hasAttribute("label")||this.hasAttribute("icon")||this.hasAttribute("badge")?this._compile():Y(this,function(){b._compile()}),this._boundOnClick=this._onClick.bind(this)}},{key:"_getPageTarget",value:function(){return this.page||this.getAttribute("page")}},{key:"_templateLoaded",value:function(){if(0==this.children.length)return!1;var b="radio"===this.children[0].getAttribute("type"),c=t.findChild(this,".tab-bar__button");return b&&c}},{key:"_compile",value:function(){if(va.prepare(this),this.classList.add("tab-bar__item"),!this._templateLoaded()){for(var b=document.createDocumentFragment(),c=!1;this.childNodes[0];){var d=this.childNodes[0];this.removeChild(d),b.appendChild(d),d.nodeType==Node.ELEMENT_NODE&&(c=!0)}for(var e=Vc.cloneNode(!0);e.children[0];)this.appendChild(e.children[0]);var f=t.findChild(this,".tab-bar__button");c?(f.appendChild(b),this._hasDefaultTemplate=!1):(this._hasDefaultTemplate=!0,this._updateDefaultTemplate())}ca.initModifier(this,Uc),this._updateRipple()}},{key:"_updateRipple",value:function(){}},{key:"_updateDefaultTemplate",value:function(){function m(){return d.querySelector(".tab-bar__label")}function n(){return d.querySelector("ons-icon")}function o(){return d.querySelector(".tab-bar__badge")}if(this._hasDefaultTemplate){var b=t.findChild(this,".tab-bar__button"),c=Wc.cloneNode(!0);if(0==b.children.length)for(;c.children[0];)b.appendChild(c.children[0]);b.querySelector(".tab-bar__icon")||b.insertBefore(c.querySelector(".tab-bar__icon"),b.firstChild),b.querySelector(".tab-bar__label")||b.appendChild(c.querySelector(".tab-bar__label")),b.querySelector(".tab-bar__badge")||b.appendChild(c.querySelector(".tab-bar__badge"));var d=this,e=this.getAttribute("icon"),f=this.getAttribute("label"),g=this.getAttribute("badge");if("string"==typeof e){var h=n(),i=h.getAttribute("icon");h.setAttribute("icon",e),n().attributeChangedCallback("icon",i,e)}else{var j=b.querySelector(".tab-bar__icon");j&&j.remove()}if("string"==typeof f)m().textContent=f;else{var k=m();k&&k.remove()}if("string"==typeof g)o().textContent=g;else{var l=o();l&&l.remove()}}}},{key:"_onClick",value:function(){var b=this._findTabbarElement();b&&b.setActiveTab(this._findTabIndex())}},{key:"setActive",value:function(){t.findChild(this,"input").checked=!0,this.classList.add("active"),t.arrayFrom(this.querySelectorAll("[ons-tab-inactive], ons-tab-inactive")).forEach(function(a){return a.style.display="none"}),t.arrayFrom(this.querySelectorAll("[ons-tab-active], ons-tab-active")).forEach(function(a){return a.style.display="inherit"})}},{key:"setInactive",value:function(){t.findChild(this,"input").checked=!1,this.classList.remove("active"),t.arrayFrom(this.querySelectorAll("[ons-tab-inactive], ons-tab-inactive")).forEach(function(a){return a.style.display="inherit"}),t.arrayFrom(this.querySelectorAll("[ons-tab-active], ons-tab-active")).forEach(function(a){return a.style.display="none"})}},{key:"_loadPageElement",value:function(b,c){var d=this;if(this._loadedPage||this._getPageTarget())this._loadingPage?this._loadingPage.then(function(a){c(a)}):this._loadedPage?c(this._loadedPage):function(){var a=t.defer();d._loadingPage=a.promise,d._pageLoader.load({page:d._getPageTarget(),parent:b},function(b){d._loadedPage=b,a.resolve(b),delete d._loadingPage,c(b)})}();else{var e=this._findTabbarElement().pages,f=this._findTabIndex();c(e[f])}}},{key:"_loadPage",value:function(b,c,d){this._pageLoader.load({page:b,parent:c},function(a){d(a)})}},{key:"isActive",value:function(){return this.classList.contains("active")}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1),this._loadedPage&&(this._pageLoader.unload(this._loadedPage),this._loadedPage=null)}},{key:"connectedCallback",value:function(){var b=this;Y(this,function(){b._ensureElementPosition();var a=b._findTabbarElement();if(a.hasAttribute("modifier")){var c=b.hasAttribute("modifier")?b.getAttribute("modifier")+" ":"";b.setAttribute("modifier",c+a.getAttribute("modifier"))}var d=function(){b._getPageTarget()&&!b.hasLoaded&&(b.hasLoaded=!0,b._loadPageElement(a._contentElement,function(c){c.style.display="none",a._contentElement.appendChild(c),b.hasAttribute("active")&&a.setActiveTab(b._findTabIndex())}))};Tc.rewritables.ready(a,d),b.addEventListener("click",b._boundOnClick,!1)})}},{key:"_findTabbarElement",value:function(){return this.parentNode&&"ons-tabbar"===this.parentNode.nodeName.toLowerCase()?this.parentNode:this.parentNode.parentNode&&"ons-tabbar"===this.parentNode.parentNode.nodeName.toLowerCase()?this.parentNode.parentNode:null}},{key:"_findTabIndex",value:function(){for(var b=this.parentNode.children,c=0;c<b.length;c++)if(this===b[c])return c}},{key:"_ensureElementPosition",value:function(){if(!this._findTabbarElement())throw new Error("This ons-tab element is must be child of ons-tabbar element.")}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;switch(b){case"modifier":Y(this,function(){return ca.onModifierChanged(c,d,e,Uc)});break;case"ripple":Y(this,function(){return e._updateRipple()});break;case"icon":case"label":case"badge":Y(this,function(){return e._updateDefaultTemplate()});break;case"page":"string"==typeof d&&(this._page=d)}}},{key:"page",set:function(b){this._page=b},get:function(){return this._page}},{key:"pageLoader",set:function(b){if(!(b instanceof Aa))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=b},get:function(){return this._pageLoader}},{key:"pageElement",get:function(){if(this._loadedPage)return this._loadedPage;var b=this._findTabbarElement(),c=this._findTabIndex();return b._contentElement.children[c]}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","icon","label","page","badge"]}}]),b}(Ha);customElements.define("ons-tab",Xc);var Yc={"":"toolbar-button--*"},Zc=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){va.prepare(this),this.classList.add("toolbar-button"),ca.initModifier(this,Yc)}},{key:"attributeChangedCallback",value:function(b,c,d){if("modifier"===b)return ca.onModifierChanged(c,d,this,Yc)}},{key:"disabled",set:function(b){return t.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),b}(Ha);customElements.define("ons-toolbar-button",Zc);var $c={".range":"range--*",".range__left":"range--*__left"},_c=t.createElement('<div>\n  <div class="range__left"></div>\n  <input type="range" class="range">\n</div>'),ad=["autofocus","disabled","inputmode","max","min","name","placeholder","readonly","size","step","validator","value"],bd=function(a){function b(){return m(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return q(b,a),n(b,[{key:"init",value:function(){var b=this;Y(this,function(){b._compile(),b._updateBoundAttributes(),b._onChange()})}},{key:"_compile",value:function(){if(va.prepare(this),!t.findChild(this,".range__left")||!t.findChild(this,"input"))for(var b=_c.cloneNode(!0);b.children[0];)this.appendChild(b.children[0]);ca.initModifier(this,$c)}},{key:"_onChange",value:function(){this._left.style.width=100*this._ratio+"%"}},{key:"_onDragstart",value:function(b){b.stopPropagation(),b.gesture.stopPropagation()}},{key:"attributeChangedCallback",value:function(b,c,d){var e=this;"modifier"===b?ca.onModifierChanged(c,d,this,$c):ad.indexOf(b)>=0&&Y(this,function(){e._updateBoundAttributes(),"min"!==b&&"max"!==b||e._onChange()})}},{key:"connectedCallback",value:function(){this.addEventListener("dragstart",this._onDragstart),this.addEventListener("input",this._onChange)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("dragstart",this._onDragstart),this.removeEventListener("input",this._onChange)}},{key:"_updateBoundAttributes",value:function(){var b=this;ad.forEach(function(a){b.hasAttribute(a)?b._input.setAttribute(a,b.getAttribute(a)):b._input.removeAttribute(a)})}},{key:"_ratio",get:function(){var b=""===this._input.min?0:parseInt(this._input.min),c=""===this._input.max?100:parseInt(this._input.max);return(this.value-b)/(c-b)}},{key:"_input",get:function(){return this.querySelector("input")}},{key:"_left",get:function(){return this.querySelector(".range__left")}},{key:"disabled",set:function(b){return t.toggleAttribute(this,"disabled",b)},get:function(){return this.hasAttribute("disabled")}},{key:"value",get:function(){return null===this._input?this.getAttribute("value"):this._input.value},set:function(b){var c=this;Y(this,function(){c._input.value=b,c._onChange()})}}],[{key:"observedAttributes",get:function(){return["modifier"].concat(ad)}}]),b}(Ha);return customElements.define("ons-range",bd),Ea.TemplateElement=Ia,Ea.IfElement=Ja,Ea.AlertDialogElement=Pa,Ea.BackButtonElement=Ra,Ea.BottomToolbarElement=Ta,Ea.ButtonElement=Va,Ea.CarouselItemElement=Xa,Ea.CarouselElement=$a,Ea.ColElement=_a,Ea.DialogElement=gb,Ea.FabElement=ib,Ea.GestureDetectorElement=jb,Ea.IconElement=kb,Ea.LazyRepeatElement=lb,Ea.ListHeaderElement=nb,Ea.ListItemElement=pb,Ea.ListElement=rb,Ea.InputElement=ub,Ea.ModalElement=zb,Ea.NavigatorElement=Kb,Ea.PageElement=Pb,Ea.PopoverElement=Yb,Ea.ProgressBarElement=_b,Ea.ProgressCircularElement=cc,Ea.PullHookElement=hc,Ea.RippleElement=jc,Ea.RowElement=kc,Ea.SpeedDialItemElement=mc,Ea.SpeedDialElement=pc,Ea.SplitterContentElement=rc,Ea.SplitterMaskElement=sc,Ea.SplitterSideElement=Gc,Ea.SplitterElement=vc,Ea.SwitchElement=Kc,Ea.TabElement=Xc,Ea.TabbarElement=Tc,Ea.ToolbarButtonElement=Zc,Ea.ToolbarElement=Mb,Ea.RangeElement=bd,window.addEventListener("load",function(){Ea.fastClick=FastClick.attach(document.body)},!1),window.addEventListener("DOMContentLoaded",function(){Ea._deviceBackButtonDispatcher.enable(),Ea._defaultDeviceBackButtonHandler=Ea._deviceBackButtonDispatcher.createHandler(window.document.body,function(){navigator.app.exitApp()}),document.body._gestureDetector=new Ea.GestureDetector(document.body)},!1),Ea.ready(function(){Ea._setupLoadingPlaceHolders()}),(new Viewport).setup(),Ea});